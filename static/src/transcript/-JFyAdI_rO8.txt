Hello everyone, hope you are all doing well today.
It is an honor to be here at the Game Developers Conference to present to you on the topic, Genshin Impact, Crafting an Anime-Style Open World.
So before we start, please allow me to give you a brief introduction about myself.
My name is Hao Yu Cai.
I'm the game producer and CEO of miHoYo.
So you can find my contact here.
So feel free to email me if you have any questions after today's presentation.
So today I'm going to cover these topics in the presentation.
First of all, I'm going to give you a brief history of Genshin Impact and talk about the core philosophy of the game.
After that, we're going to dive into why we think characters are so important for an anime-style game.
As most of you may know that we have a lot more playable characters in Genshin Impact, and I'm going to tell you how we create and design our characters.
And lastly, I will explain how we go about building this anime-style NPR world.
So first, let me give you a simple overview of why we want to make Genshin Impact.
Definitely it's not because we have been mentioned and we have noticed that open world games are popular. It is because our company has a goal in mind, and which is to create the Honkai universe.
something like Meta Universe we mentioned recently, I guess, but we first had this idea in 2014, long before we started Genshin Impact. It is not difficult to see our goal if you look at our history, to see the games we made from Gong's Girls to Honkai Impact.
and Genshin Impact, which I am the producer of all three till the launch.
From our first side-scrolling action shooter game, to our first third-person action game, and finally to our first open-world game Genshin Impact, we strive to create a more immersive gaming world. When we start the Genshin Impact project, we want to create a new IP.
based on what we learned from Honkai Impact and build a more user-friendly world.
As you can see, Genshin Impact is available to a broad range of audiences.
For example, in the early years of Honkai Impact, there was no availability of male characters.
But you can do so in Genshin Impact since the very beginning.
Also, rather than having a sci-fi or hardcore-themed setting, We hope to create a visually stunning and beautiful world instead, as you can also tell with Genshin Impact.
As you know, there are seven nations in Genshin Impact.
So let me take Liyue as an example.
Here is the concept art of Latin Rite, which is a festival in Liyue.
I guess maybe some of you already joined this event during the February.
In Genshin Impact, when we create different nations in the game, we try to integrate elements from various cultures in reality.
Under the fantasy world concept, we have a motivation to enrich the world with diversity of different culture styles.
So players from all around the world may find something fun and interesting in the game.
For instance, in Liyue, although it is heavily inspired by Chinese culture, We hope that not only can Chinese players feel connected to Liyue, but also the players from different backgrounds enjoying the ancient and living culture from a fresh perspective.
So for those who might not be familiar with Chinese culture, when they think about China, I guess Panda, maybe Kung Fu or the Three Kingdoms may come first to their mind.
With Liyue here, we want to present something different, something new.
Obviously, in my point of view, Chinese culture has much more than these popular concepts mentioned above.
So we integrated some iconic Chinese landscapes into the skinners of Liyue, such as Guilin with its hills and waters, you can find similar things in Liyue, and Zhangjiajie with its picturesque peaks and rocks, like the mountains in Liyue.
We want to build a fantasy world that contains these beautiful scenes, which is our goal to let players may find their inner peace when they play in Genshin Impact.
And for global players, we hope that everyone can feel the common beauty together.
Of course, most of our developers are born and raised in China, and we immersed ourselves in Chinese culture.
We want to refine what we are familiar with into something that is easy to understand, and then deliver it to global players.
We hope the global players, they will also enjoy and share the beauty of Liyue and the culture elements that we integrated.
even without much knowledge of Chinese culture.
So, for example, like Liyue, it is a nation with agriculture civilization.
We use the geo as the element of it to reflect the characteristic of the city and its pursuit of peace.
So for now, we only released Mondest and Liyue so far, two of the seven nations in Tibet.
The third city, Inazuma, will come available in a few days.
As said, we want to create a fantasy world filled with culture diversity.
We believe the anime art style allows us to collaborate and integrate more culture element into a visually stunning world.
The characters and the world of Tivert are indeed important carriers of the concept of diversity.
So, next, let's talk about the characters in Genshin Impact.
Before diving in, let me answer a question.
How many playable characters in Genshin Impact?
I think maybe you know the answer.
Actually, for now, the answer is 33.
Exclude the avatar of the player.
So I don't have enough space in this page to show you all of the characters.
And in a few days after we update version 2.0, there will be 36.
And we expect it to add about approximately 17 characters per year.
So for an open world ARPG game, it really saves a lot.
In this chart It is easy for you to see all the characters in different element categories.
Character is one of the most important aspects of the game, not only because each character carries the unique gameplay and the element, but also it represents cultural characteristics.
So why are characters so important in Genshin Impact?
And why is it so important to keep up the consistency of our character updates?
I will list several very important points here.
First of all, characters are one of the most desired content for our players, which makes it essential for us to keep up updates to fulfill our players' demands.
No doubt.
The multi-characters gameplay this fall is inherited from Japanese card games.
Before we launched the game, we were also worried about whether Western players would accept it this fall.
The result exceeded our expectations.
It shows that both Eastern and Western players in Genshin Impact, they like to collect multi-characters.
And secondly, in Genshin Impact, the world and the storytelling revolved around characters, which has a different focus from some AAA games that emphasize highly on cinematic narration.
Based on my understanding, of the Tremor Wing games, or including some popular TV series and animes, those productions prioritize the plotline.
The characters are serving the development of the plot.
But from the very beginning, when we start Genshin Impact, we are trying to create it with parallel and mountain narratives to this series.
to depict the stories of characters in a massive, vast world, which is quite different from those examples I mentioned above.
And finally, and most importantly, characters serve as the foundation for our commercialization.
Genshin Impact is a free-to-play title.
In addition to some characters, a large portion of the game's content including the world exploration, quests, since all the quests and various events came with no charges.
While some players have a relative smooth gameplay experience, we also heard someone may complain that they are getting stuck in certain adventure levels.
which comes down to the issue of insufficiency with our content production.
So this situation can be improved if we are more effective at creating new content.
And of course we are working on it right now.
To illustrate how we design characters, let me take Xiao as an example.
This is Xiao.
Xiao is an important playable character in game.
He is an adaptor and the only remaining member of the five yaksha dispatched by Morax to subdue the demonic spirits that plague the Liyue.
According to our character pipeline, first we confirm the world setting and where the character lives in, and then any member from any team, maybe art team, design team, And IP team, in our team, means writers.
If any of them have ideas for the new characters, they can bring it up for group discussion.
During the production, we always insist on collective creations, especially in the early stage.
The final decision of a character design was not from any single person.
It's made by a group.
Honestly, we don't have a typical art director or creative director in our team, and I guess that is why I am here today to give the lecture.
So, in the group.
We evaluate the idea from aspects including but not limited to art, settings, gameplay, and the study of players' preference.
Afterwards, we follow the same procedure to proceed with character creation.
When the character's concept is settled, we started to implement it.
Our goal is to ensure the characters look as good as the original character concept while in-game.
This picture is the drawing of a character in three-wheels, Xiao's drawing of Xiao in three-wheels.
And this is a character with...
finalized 3D model and texture assess.
We review the model from an orthogonal perspective in-game to make sure it looks exactly the same as the original concept, as well as having reasonable tessellation, topology, and follow our texture standards.
Following that, we will continue with compact and movement design, action designs.
and also integrating with gameplay design to ensure the ultimate visual effects in the game world.
In order to achieve this goal, many technical and artistic details must be confirmed, and the following are a few of the most important.
First and foremost, as I mentioned before, the models and textures must be authored as perfectly one-to-one recreations of the concept art.
This is the basic requirements.
And secondly, given the anime art style we created, the terminator, you can see this in the video, the terminator between light and shadow on the face must be good-looking enough.
And the normal physical-based shading cannot accommodate this.
So as a result, we created hand-painted shadow masks specifically for the face, which can be adjusted automatically based on the direction of the main light.
This is the effect of the dynamic light map in the video.
You can see that.
The artist can control the shape of the shade under every light direction.
From the front or from the side, the artist can totally control the shape of the shade on the face.
So we can make sure the shadow on the face could be good-looking any time from any direction.
And another point worth mentioning is that...
In-game, the characters and scenes are rendered independently using two different render pipelines.
They are rendered separately. We use the deferred rendering pipeline for the scenes, of course, because taking into account time of the day, weather changes, and the complexity of the environments. However, because there are many complicated NPR stylization requirements for the characters.
We decided to continue to use the forward rendering pipeline to ensure that the character can always show the effect that the artist wants in the games.
Because this allows us to control all the lightning effects and the impact that they have easily.
Maybe rendering the character and scene separately sounds a little weird, but we can show you an example later.
For example, while character shadow is primarily determined by one single light source, the transition of the shadow can be artificially set based on material settings, light intensity, and mesh curvature in order to achieve the best shadow transition performance.
The color in the darker areas can also be controlled based on the color of the environment and the artist's preference.
So let me show you the light of the scenes first.
To better support our 24-hour cycle and dynamic weather system, we don't use any big lighting in Genshin Impact.
All lights are dynamic.
The video shows how our image-based lighting and ambient lighting component changes throughout the day and night.
And as you can see, when local lights turn on at night, you can see there is a lamp, when local lights turn on, they also make contributions to both direct and indirect light, as shown in the video.
Okay.
And for character shading, our character shading has very unique style.
While keeping the cartoonish look, we also apply real-time lighting onto characters.
When environmental light condition changes, characters will also get affected.
You can tell from the video.
You can tell from the video.
When Yura walks under the tree, the tree leaves cast a shadow on her body.
Yeah.
Okay.
Let's see it again.
Yes.
So after talking about the character, following that, let's move on to the creation of Genshin Impact's world.
We build a world comparable to Genshin Impact's world.
composed of seven nations from the start of the project, and the world will be updated on a long term based on the annual agenda.
As a result, how to create a stylized world that becomes critical?
So after settling on the basic concept of the world, we encountered some hardships creating the art style.
This is the concept art of Inazuma.
As you can see, we intend to create a world with anime rendering style.
Following this idea, our artists create many concepts on their own.
Like this picture. Yes, this is the concept of Inazuma.
So now when we have this concept, our job is to recreate it in-game.
However, considering the TOD, weather changes, lightning environment, as well as the procedure content generation and production and set sharing, we found it is really difficult to perfectly recreate the impact in the original art concept during the actual production process.
And to be honest, to recreate the character is much more easier than recreate the scenes.
So, but if the methods for creating stylized art cannot be standardized, our painters will create different art styles from their own strokes, which makes massive productions impossible. So how to solve this problem?
Finally, after more than a year of struggle, we built our world first on the PBR pipeline.
and then tweak it to achieve the stylized look we desire.
So thanks to, and we have a very clear idea of our character style, so we have at least one standard to adhere to.
So that is match the style of the scenes with our characters and make it harmonious and beautiful.
To achieve the stylized effect we want, we need to make some hacks on the real rules in nature.
As for there are too many examples, and our time is limiting this presentation, so I only list a few of them here.
First, as an open world game, failing the huge landscapes becomes an important job for Genshin Impact.
We made some specialized design terrains to fulfill the stylized art effects we want.
Because each block of terrain has an upper cap of mixing eight layers, we can mix eight layers at most.
So our art effects production has its limitation.
For this, we made customized tint functions for the terrain material.
We can get color variation without adding layers.
Then we fill it with grass feature same color tone and to add color variations on the land surface.
As an important element in the world, grass is used a lot naturally.
In order to avoid the repetitive of just using a single model, we use a variety of grass culture models.
These models have randomized densities, size, and orientation.
At the same time, we grouped multiple sets of grass LODs and even prepared simplified models for mobile platforms.
As you know, Genshin Impact is available on mobile platform and console platforms.
To maintain the overall color of the picture, each grass culture has only one color, but the color can be changed.
The color of the grass corresponds to the color of the terrain by default.
But everything can be tuned by artists.
The artist can also modify the color again.
And next, in Genshin Impact, cliffs and mountains occupy a big proportion of the scenes.
And when you play this game, the players can climb all kinds of hills as they wish.
So in order to stylize the rock.
we need to recreate some of the brush stroke effects.
We use Substance Painter's Blur Slope filter to stylize each layer of the texture of our rocks and mountains, and then mix three different textures together at the same time to show different details and textures at different distances.
The three pictures below shows the rock effect from different distance, from the near to medium distance to far.
So we also consider the reusability of rock sets, making the details of rocks change when zoom in and zoom out.
Another thing it was to be mentioned are trees.
Trees are also an important element in the world.
Unlike realistic trees, trees in Genshin Impact uses lots of shading tricks to blend in with the surrounding environment while retaining the details.
So let me list some key points about how we make trees.
First, we use a spherical normal for leaves.
You can tell the differences between these two tree pictures here.
And next, we have to weaken the specular and the shadow between leaves in order to make it more like an anime style.
And for tree shading, we set a minimum value for main light intensity.
This prevents trees from looking too dark, too black when the main light intensity is pretty low in dawn and dusk.
But after doing all of these things above, they still have a very critical problem.
The size of the leaves' cards are still looking too obvious, like it's showing on the right picture.
So we click the leaf out by dot production of the leaf and card normal and the view of the direction.
Okay, so at last, there is another thing very interesting I want to show you.
It's about the stylized dynamic cloud production. Let me give you a brief introduction about it.
This video shows the stylized dynamic clouds in the game.
You can see the cloud, the shape can change.
The cloud will grow and the color of the cloud changes according to the weather change and the time change.
So we made this cloud in the following steps.
First, the artist draw the cloud silhouette and the growth animation of the cloud keyframes.
And next, according to these keyframes, we have a tool to interpolate the cloud keyframes into a gradient map as shown below.
And then we use two basic light map and a rim highlight map to realize the 24 hours light effect.
Lastly, when we finished this, we used generated gradient map with some noise to realize the dynamic changes at the clouds. Due to the stylized art style of the game, the dynamic lightning effects mentioned here refers to the 24-hour color. Gradients was presented by our artist too. So, well, that is all I want to share with you today.
Although Genshin Impact has been online, we are still developing future contents.
We just finished the Three Nations in Seven, and the third one, Inazuma, hasn't been updated yet.
It will take us another four years to finish all the Seven Nations in Tibet.
I believe that in the future, we will encounter many more problems, and I also hope that in addition to the content update, our team can continue to make improvements in technology.
So thanks for your listening today.
If you have any questions, please contact me by email.
