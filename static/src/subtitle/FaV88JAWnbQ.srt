1
00:00:04,013 --> 00:00:05,474
So first, hi everybody.

2
00:00:05,614 --> 00:00:08,276
I'd like to remind you just to turn off your cell phones.

3
00:00:11,018 --> 00:00:14,160
Well, this is my first time speaking at GDC.

4
00:00:14,240 --> 00:00:17,122
Last time I've been here was in San Jose, actually,

5
00:00:17,162 --> 00:00:18,983
and it was in 2001 as an attendee,

6
00:00:19,023 --> 00:00:20,344
so it's been a really long time.

7
00:00:21,345 --> 00:00:23,506
I'm really amazed at how this event

8
00:00:23,566 --> 00:00:24,767
and the community has grown.

9
00:00:24,907 --> 00:00:26,768
It's just insane, it's awesome.

10
00:00:27,969 --> 00:00:30,291
Before I begin, I'd like to say that I'm really honored

11
00:00:30,852 --> 00:00:33,554
of being able to share some of my experience with you today.

12
00:00:34,495 --> 00:00:37,958
I hope this talk will really bring you useful information

13
00:00:37,998 --> 00:00:40,681
and insights when designing and developing systemic AI.

14
00:00:43,783 --> 00:00:45,225
So my name is Christine Blondeau.

15
00:00:45,605 --> 00:00:47,106
I'm a game designer at Ubisoft.

16
00:00:47,647 --> 00:00:50,209
I've been in the video games industry for now 16 years,

17
00:00:50,930 --> 00:00:53,692
and here are some of the games I've worked on

18
00:00:53,732 --> 00:00:54,553
that you may have heard of.

19
00:00:57,847 --> 00:00:59,669
So the reason I'm here today is essentially

20
00:00:59,709 --> 00:01:01,710
to give you an insight about the methods we use

21
00:01:01,750 --> 00:01:04,472
for designing systemic crowd events in ACU's open world.

22
00:01:05,553 --> 00:01:07,695
So this talk goes from the vision we had in mind

23
00:01:08,015 --> 00:01:10,957
to the goals we set, and I'll finish off

24
00:01:10,997 --> 00:01:13,339
with how we got there and the avenues of improvement.

25
00:01:16,281 --> 00:01:21,025
So in ACU, we built, so ACU was built

26
00:01:21,065 --> 00:01:24,788
for next generation consoles, and we had to think

27
00:01:24,868 --> 00:01:27,329
about how we're gonna bring the next gen open world.

28
00:01:28,360 --> 00:01:30,743
How do we bring AC's open world to the next level?

29
00:01:31,624 --> 00:01:34,106
To answer this, we first needed to inspire ourselves

30
00:01:34,166 --> 00:01:35,868
with what was happening in the streets of Paris

31
00:01:35,908 --> 00:01:36,909
during the French Revolution.

32
00:01:39,572 --> 00:01:44,276
And what transcended the most from the research we did

33
00:01:44,356 --> 00:01:46,218
was that Paris was heavily populated

34
00:01:46,278 --> 00:01:48,000
and highly buzzing with life at all times.

35
00:01:49,422 --> 00:01:51,362
So we thought, Paris should feel as if it's living

36
00:01:51,382 --> 00:01:52,283
and breathing on its own.

37
00:01:52,323 --> 00:01:53,483
That was really important for us.

38
00:01:54,944 --> 00:01:56,164
And you'll see why later.

39
00:01:56,745 --> 00:01:59,526
And that our systemic AI should make the world

40
00:01:59,566 --> 00:02:00,826
around the player feel vibrant

41
00:02:00,926 --> 00:02:02,687
and create emerging gameplay situations.

42
00:02:06,109 --> 00:02:09,290
So for Paris to feel and living and breathing on its own,

43
00:02:09,350 --> 00:02:11,151
we first needed to create an ecosystem

44
00:02:11,191 --> 00:02:13,412
in which NPCs would have their own sets

45
00:02:13,432 --> 00:02:14,672
of behaviors and reactions.

46
00:02:15,677 --> 00:02:17,317
allowing them to interact with each other.

47
00:02:18,098 --> 00:02:20,179
So the NPC's ecosystem and crowd events

48
00:02:20,219 --> 00:02:21,939
were designed to be NPC-centric,

49
00:02:22,920 --> 00:02:25,221
which means that the player doesn't have to get involved

50
00:02:25,401 --> 00:02:27,562
for things to happen around him.

51
00:02:28,422 --> 00:02:30,423
He can be involved and they will react,

52
00:02:30,463 --> 00:02:32,584
but he doesn't have to for things to happen.

53
00:02:32,644 --> 00:02:35,585
So this would create some spontaneous situations

54
00:02:35,625 --> 00:02:37,286
around the player without requiring his inputs.

55
00:02:38,226 --> 00:02:41,887
We wanted crowd events to have some kind of a catalyst effect on the NPC ecosystem

56
00:02:42,607 --> 00:02:48,369
and cause emerging gameplay during free roam and during missions, which was a challenge.

57
00:02:50,009 --> 00:02:53,610
To achieve this, we needed to review our usual ways for developing crowd events.

58
00:02:54,250 --> 00:02:58,131
Traditionally, events were scripted by hand and it was very time consuming

59
00:02:58,171 --> 00:03:01,212
to create and maintain individual events throughout the whole city.

60
00:03:03,222 --> 00:03:08,110
Not only did the explosion of content to create and maintain was unrealistic for the time we had,

61
00:03:08,190 --> 00:03:14,018
but most importantly, the traditional ways didn't address our desire to generate events unpredictably around the player.

62
00:03:17,900 --> 00:03:21,122
So before we dive into the crowd event system,

63
00:03:21,803 --> 00:03:25,165
I need to give you an overview of our NPC ecosystem

64
00:03:25,205 --> 00:03:27,006
so you better understand the link together.

65
00:03:27,506 --> 00:03:29,347
This will help understanding how both systems

66
00:03:29,407 --> 00:03:31,008
interact together and how they can create

67
00:03:31,048 --> 00:03:31,989
emergent situations.

68
00:03:32,849 --> 00:03:36,031
So the NPC ecosystem is composed of four factions,

69
00:03:37,292 --> 00:03:40,234
as you can see here, which each have their own

70
00:03:40,414 --> 00:03:41,995
sets of behavior and sets of reaction.

71
00:03:43,978 --> 00:03:46,139
Factions are aware of each other and aware of Arnaud

72
00:03:46,179 --> 00:03:48,100
and can interact together when they are interested.

73
00:03:48,900 --> 00:03:50,981
All factions can be used as actors for creating

74
00:03:51,001 --> 00:03:52,922
crowd events and can be set to play

75
00:03:52,982 --> 00:03:54,442
as either the enemy or the victim.

76
00:03:57,763 --> 00:03:59,004
So first off we have allies.

77
00:03:59,624 --> 00:04:02,285
Allies are armed civilians who fight to defend the people

78
00:04:02,685 --> 00:04:05,386
and the civilians in trouble with extremist

79
00:04:05,446 --> 00:04:06,867
or royal guards that we'll see later.

80
00:04:07,567 --> 00:04:09,588
So when they see Arnaud in trouble,

81
00:04:09,628 --> 00:04:11,788
they will come and fight by his side, for instance.

82
00:04:13,269 --> 00:04:15,491
When used in crowd events, allies took the role of victims

83
00:04:15,531 --> 00:04:16,912
the player could defend and save.

84
00:04:21,176 --> 00:04:24,539
We have the extremist faction, which are violent thugs

85
00:04:24,900 --> 00:04:27,742
that can be found on both sides of the revolution.

86
00:04:28,463 --> 00:04:30,965
They will look for trouble and end up attacking anyone

87
00:04:30,985 --> 00:04:34,068
they feel threatened by, especially armed citizens,

88
00:04:34,148 --> 00:04:35,109
which includes Arnaud.

89
00:04:37,081 --> 00:04:39,643
Extremists were used in certain crowd events

90
00:04:39,763 --> 00:04:41,945
and took the role of enemies

91
00:04:42,445 --> 00:04:43,646
the player could fight and kill.

92
00:04:46,429 --> 00:04:48,891
So when seeing allies, extremists will threaten them

93
00:04:48,951 --> 00:04:49,931
and try to pick a fight.

94
00:04:50,712 --> 00:04:51,713
They do the same to Arnaud.

95
00:04:52,313 --> 00:04:53,735
When attacked by allies or guards,

96
00:04:53,855 --> 00:04:55,596
extremists will start fighting them back.

97
00:04:56,177 --> 00:04:59,059
And if they get outnumbered by guards, they'll run away.

98
00:05:00,000 --> 00:05:01,381
If you want to avoid fighting them,

99
00:05:01,441 --> 00:05:03,262
just keep your distance or blend in crowd

100
00:05:03,342 --> 00:05:04,623
and they will leave you alone.

101
00:05:08,350 --> 00:05:11,393
So here's a, oh, did it start?

102
00:05:11,413 --> 00:05:11,773
Oh, yeah.

103
00:05:12,114 --> 00:05:13,495
So this is a random encounter.

104
00:05:13,535 --> 00:05:14,716
I was just walking the streets,

105
00:05:15,837 --> 00:05:19,840
and above we could see extremists and allies

106
00:05:19,880 --> 00:05:21,782
that just meet up and they started shooting each other.

107
00:05:21,802 --> 00:05:24,084
That was totally a random encounter.

108
00:05:24,524 --> 00:05:26,706
So little things like that sparkle in the city all over,

109
00:05:26,766 --> 00:05:29,808
and it depends when factions meet, and it's totally random.

110
00:05:33,339 --> 00:05:34,400
So we have Royal Guards.

111
00:05:35,661 --> 00:05:38,723
These act as the police and try to maintain

112
00:05:38,783 --> 00:05:39,703
law and order in a city.

113
00:05:40,544 --> 00:05:42,625
Guards are neutral and will only act against

114
00:05:42,685 --> 00:05:44,446
those who they see committing crimes

115
00:05:44,686 --> 00:05:46,968
and those who they see suspect of doing so.

116
00:05:48,209 --> 00:05:49,490
When we use them in crowd events,

117
00:05:49,510 --> 00:05:54,173
they played a neutral role and they would put the players,

118
00:05:54,893 --> 00:05:57,174
they would challenge the players' self-skill also.

119
00:05:58,775 --> 00:06:01,197
The player wasn't required to kill them to succeed the event.

120
00:06:03,337 --> 00:06:09,423
We rarely put the guards in like the bad guys situation since they were neutral.

121
00:06:11,154 --> 00:06:13,935
If royal guards see someone drawing their weapon,

122
00:06:14,075 --> 00:06:17,456
they will send them a warning to make them sheet it back.

123
00:06:17,496 --> 00:06:19,357
So in this example, we could see Arnaud,

124
00:06:19,417 --> 00:06:20,878
just he took out his weapon.

125
00:06:20,958 --> 00:06:23,799
So already they're watching, they're paying attention.

126
00:06:24,539 --> 00:06:27,341
And after a certain time, they will come to you

127
00:06:27,481 --> 00:06:28,841
and make you sheet back your weapon.

128
00:06:28,901 --> 00:06:31,562
And they do the same for any NPC

129
00:06:32,023 --> 00:06:33,243
that can unsheet their weapon.

130
00:06:33,964 --> 00:06:37,787
So if they see a fight, they will join the party and fight against the troublemakers.

131
00:06:38,247 --> 00:06:43,911
If they see somebody who has recently killed, who has been recently killed, so a body on the floor,

132
00:06:44,232 --> 00:06:47,875
they'll start investigating and try establishing a suspect around the body.

133
00:06:48,335 --> 00:06:50,116
So try staying away from dead bodies.

134
00:06:50,337 --> 00:06:52,939
If the Arnaud would be too close to the dead body, they would accuse him,

135
00:06:53,119 --> 00:06:57,642
or they could even accuse allies or extremists also, in the vicinity of the bodies.

136
00:06:58,723 --> 00:07:01,543
When being chased by guards, you can lure them into allies,

137
00:07:01,623 --> 00:07:03,964
so your allies start defending you and help you escape.

138
00:07:08,665 --> 00:07:14,346
So, yeah, you can see Arnaud being escorted here.

139
00:07:15,406 --> 00:07:18,427
And in this video, we can see guards

140
00:07:18,487 --> 00:07:21,108
interrupting its extremist when threatening Arnaud.

141
00:07:35,227 --> 00:07:37,769
Here's another video showing the player luring extremists

142
00:07:37,849 --> 00:07:41,771
into guards and guards fighting them off for the player.

143
00:07:42,711 --> 00:07:50,176
And at a moment you'll see also

144
00:07:51,036 --> 00:07:54,538
one of the extremists fleeing because he's outnumbered

145
00:07:54,858 --> 00:07:56,799
and I can take advantage of the situations

146
00:07:56,839 --> 00:07:58,780
while guards are busy and just stab him.

147
00:08:04,627 --> 00:08:05,567
So, civilians.

148
00:08:06,327 --> 00:08:08,328
So lastly, the streets of Paris are populated

149
00:08:08,428 --> 00:08:09,509
and animated with civilians.

150
00:08:09,929 --> 00:08:11,130
The civilians wandering the streets

151
00:08:11,190 --> 00:08:13,511
can gather around points of interest to form big crowds

152
00:08:14,011 --> 00:08:15,211
and can look for things to do.

153
00:08:15,812 --> 00:08:17,012
They can interact with each other

154
00:08:17,052 --> 00:08:19,353
and hold many different occupation and activities

155
00:08:19,553 --> 00:08:20,254
that we'll see later.

156
00:08:21,262 --> 00:08:23,745
They're also aware of what is going on around them

157
00:08:23,845 --> 00:08:26,989
and able to react to situations they see happening.

158
00:08:28,771 --> 00:08:30,933
We created three different reaction packs for them,

159
00:08:31,054 --> 00:08:33,016
which reflected different personalities.

160
00:08:33,056 --> 00:08:35,639
So, for instance, we had courageous, cowards, and normal.

161
00:08:36,059 --> 00:08:37,741
So, let's say I'd start a fight,

162
00:08:38,342 --> 00:08:39,123
the normal people...

163
00:08:40,284 --> 00:08:42,346
The normal with the reaction pack,

164
00:08:42,426 --> 00:08:45,550
that reaction pack would be curious, look, and maybe leave,

165
00:08:45,970 --> 00:08:47,952
while the courageous would start cheering

166
00:08:48,012 --> 00:08:49,213
and encourage the fight,

167
00:08:49,674 --> 00:08:52,257
and cowards would just sneak away or flee in fear.

168
00:08:54,179 --> 00:08:55,880
When using crowd events, they could take the role

169
00:08:55,900 --> 00:08:57,282
of either the victim or enemies,

170
00:08:57,923 --> 00:08:59,524
and the player can blend through the crowd

171
00:08:59,564 --> 00:09:00,986
to avoid being seen by enemies

172
00:09:01,046 --> 00:09:02,848
and can also use the crowd to escape.

173
00:09:07,403 --> 00:09:10,766
So, in this video, it's a really early development,

174
00:09:10,786 --> 00:09:12,769
but I wanted to share it with you.

175
00:09:13,089 --> 00:09:15,492
You can see a few behaviors we started exploring

176
00:09:16,152 --> 00:09:18,074
at the beginning of creating the ecosystem.

177
00:10:13,875 --> 00:10:20,180
So in this example here you see aggressors start taunting and since the cops are here

178
00:10:22,022 --> 00:10:27,906
they'll end up stopping and just going away or being interrupted.

179
00:10:36,353 --> 00:10:41,557
Yeah in this example since he's outnumbered, the extremist, he just passed and ignored the

180
00:10:41,597 --> 00:10:43,018
ally. He didn't want to cause trouble.

181
00:10:49,485 --> 00:10:53,616
We could instantly spawn factions, so we could test out the reactions and stuff.

182
00:10:53,636 --> 00:10:57,486
So in this case, they were outnumbered, so he fleed immediately.

183
00:11:02,017 --> 00:11:05,979
Okay, so, crowd life was created

184
00:11:06,139 --> 00:11:07,820
with many different AI features.

185
00:11:08,200 --> 00:11:10,521
And I need to go through this with you

186
00:11:10,641 --> 00:11:13,762
because so you understand better the whole ecosystem.

187
00:11:15,243 --> 00:11:18,465
We'll see all the features built for creating crowd

188
00:11:18,505 --> 00:11:21,046
and making the world feel really alive

189
00:11:21,106 --> 00:11:23,287
and make the streets feel vibrant.

190
00:11:23,847 --> 00:11:25,108
So, let me give you an overview

191
00:11:25,148 --> 00:11:26,449
of the different technologies used

192
00:11:26,709 --> 00:11:27,990
for building the crowd life in ECU.

193
00:11:28,010 --> 00:11:28,110
So.

194
00:11:31,595 --> 00:11:32,316
We had wanderers.

195
00:11:32,696 --> 00:11:33,936
Wanderers are put in the streets,

196
00:11:34,056 --> 00:11:37,118
so they're meant to navigate the streets

197
00:11:37,158 --> 00:11:37,978
and just roam around.

198
00:11:38,718 --> 00:11:41,560
They can be seen stopping momentarily sometimes

199
00:11:41,620 --> 00:11:43,140
to interact with crowd stations.

200
00:11:43,200 --> 00:11:45,261
So for instance, you could see somebody

201
00:11:45,321 --> 00:11:48,042
just walk up to a shop, being interested

202
00:11:48,102 --> 00:11:49,623
and looking around and then leave,

203
00:11:49,743 --> 00:11:54,385
or just watching dancers or entertainers for a while

204
00:11:54,425 --> 00:11:56,326
and then go back to walking in the streets.

205
00:11:57,487 --> 00:12:03,938
The flow can be modified by level designers to increase and decrease the density of wanderers in the streets.

206
00:12:07,060 --> 00:12:08,221
We had object carriers.

207
00:12:08,542 --> 00:12:10,703
Object carriers were in old ACs too,

208
00:12:10,743 --> 00:12:12,024
but we brought something forward too

209
00:12:12,064 --> 00:12:13,766
that we can see on the right side.

210
00:12:14,486 --> 00:12:16,668
So object carriers allowed the crowd to carry objects

211
00:12:16,688 --> 00:12:18,850
such as boxes, baskets, platters,

212
00:12:19,470 --> 00:12:20,831
while they're navigating in the streets.

213
00:12:20,911 --> 00:12:24,074
So in ACU, we developed new types of objects

214
00:12:25,695 --> 00:12:26,956
which we could see on the right side

215
00:12:27,997 --> 00:12:30,499
where people could carry other civilians.

216
00:12:34,430 --> 00:12:35,530
We had crowd stations.

217
00:12:35,590 --> 00:12:37,551
So crowd stations are used to animate,

218
00:12:37,971 --> 00:12:40,612
this is what you mainly see with wanderers

219
00:12:40,652 --> 00:12:41,653
to all over the city.

220
00:12:42,713 --> 00:12:44,554
Crowd stations are used to animate the civilians

221
00:12:44,634 --> 00:12:46,134
in the street and inside buildings

222
00:12:46,214 --> 00:12:48,535
to make them do different actions and activities.

223
00:12:49,375 --> 00:12:51,736
On ACU we created over 500 unique setups.

224
00:12:51,796 --> 00:12:54,757
So, and these stations were all hand placed

225
00:12:54,817 --> 00:12:56,918
by city designers everywhere through Paris.

226
00:12:57,558 --> 00:12:58,619
Here's a few examples.

227
00:13:00,840 --> 00:13:01,000
This.

228
00:13:02,085 --> 00:13:05,969
And then some artists, a merchant wanted to sell some things.

229
00:13:07,830 --> 00:13:10,933
We have more complex setups where we see musicians

230
00:13:11,013 --> 00:13:13,335
and people dancing in front and some couples

231
00:13:13,375 --> 00:13:15,717
just enjoying the moment in the background.

232
00:13:17,858 --> 00:13:20,881
Another view, but a bit more further away.

233
00:13:23,865 --> 00:13:27,193
Also what was new in ACU is that we created an interior

234
00:13:27,213 --> 00:13:29,319
so we needed to create stations for these

235
00:13:29,499 --> 00:13:31,223
and to animate these spaces.

236
00:13:31,945 --> 00:13:33,128
So here's an example.

237
00:13:37,808 --> 00:13:39,509
And we also had Massive Crowd.

238
00:13:39,969 --> 00:13:43,130
Massive Crowd was a new technique of AI level of detail

239
00:13:43,150 --> 00:13:45,270
that allowed us to create thousands of replicated,

240
00:13:45,310 --> 00:13:47,151
persistent, and interactive NPCs

241
00:13:47,591 --> 00:13:49,371
to see assemble in massive groups.

242
00:13:49,831 --> 00:13:52,352
This tech allowed to swap from low-res NPCs

243
00:13:52,372 --> 00:13:54,513
to high-res NPCs without the player noticing.

244
00:13:55,653 --> 00:13:56,873
And was used to create scenes

245
00:13:56,893 --> 00:14:00,174
where up to 10,000 crowd NPCs are on the screen.

246
00:14:00,254 --> 00:14:02,775
We have the guys that made the system right there.

247
00:14:06,555 --> 00:14:08,897
Here's a video where we can see a massive crowd.

248
00:14:09,898 --> 00:14:11,679
Francois Cournoyer and Antoine Fortier,

249
00:14:11,719 --> 00:14:13,961
which are right there, worked on developing the system

250
00:14:14,021 --> 00:14:15,342
and gave a talk last Wednesday.

251
00:14:15,662 --> 00:14:17,523
If you didn't have the chance to see their talk,

252
00:14:17,563 --> 00:14:19,585
you should go see it on the GDC Vault.

253
00:14:19,905 --> 00:14:21,907
It should be available in two weeks or so.

254
00:14:22,427 --> 00:14:24,969
And their talk was entitled Massive Crowd

255
00:14:25,029 --> 00:14:27,090
on Assassin's Creed Unity AI Recycling.

256
00:14:32,307 --> 00:14:35,288
We also developed AI interactions on ACU,

257
00:14:35,728 --> 00:14:37,929
which generated spontaneous social interactions

258
00:14:37,969 --> 00:14:39,529
between the civilians wandering the streets.

259
00:14:41,010 --> 00:14:43,030
It dynamically made the wanderers get attracted

260
00:14:43,050 --> 00:14:45,031
to each other to perform different actions.

261
00:14:45,391 --> 00:14:47,451
So for instance, a couple of friends would walk up

262
00:14:47,491 --> 00:14:49,112
to each other and start a conversation

263
00:14:49,452 --> 00:14:51,232
or engage in a disagreement.

264
00:14:51,973 --> 00:14:54,673
And you can also see lovers meet up

265
00:14:54,753 --> 00:14:57,534
and walk away together as a couple holding hands.

266
00:15:00,167 --> 00:15:03,048
You can see a couple here on the left side, for instance.

267
00:15:03,629 --> 00:15:06,550
And people engaging in a disagreement on the left.

268
00:15:09,751 --> 00:15:10,431
On the right, I mean.

269
00:15:11,231 --> 00:15:14,693
Opposite.

270
00:15:15,253 --> 00:15:17,314
I thought I would share this with you.

271
00:15:17,534 --> 00:15:20,395
Here's a, we can have a look at a gym,

272
00:15:20,455 --> 00:15:21,976
an AI gym we used to test out

273
00:15:21,996 --> 00:15:24,537
in our many different crowd-like systems.

274
00:15:24,997 --> 00:15:28,978
We could test out our crowd stations, AI interactions.

275
00:15:30,382 --> 00:15:31,965
and I thought it'd be interesting for you to see.

276
00:15:34,309 --> 00:15:35,771
So here's an AI interaction.

277
00:15:39,317 --> 00:15:41,401
Just wanderers, object carriers,

278
00:15:41,721 --> 00:15:43,825
and a couple leading together, holding hands.

279
00:15:46,040 --> 00:15:48,461
Okay, so maybe this is gonna wake you up

280
00:15:48,501 --> 00:15:49,901
from the hard week that you have.

281
00:15:51,002 --> 00:15:53,363
I wanted to share with you a little montage

282
00:15:53,383 --> 00:15:54,803
that the crowd team made this summer,

283
00:15:54,823 --> 00:15:58,225
well, in early summer, about,

284
00:15:58,965 --> 00:16:00,606
it's like a montage where we see

285
00:16:00,786 --> 00:16:03,387
all of these systems play out together in Paris.

286
00:16:04,187 --> 00:16:06,608
But just keep in mind, it was still in development, so.

287
00:16:07,809 --> 00:16:08,990
So there's music, and so.

288
00:16:54,323 --> 00:16:54,544
you

289
00:17:50,898 --> 00:17:50,979
you

290
00:18:13,788 --> 00:18:14,370
Crowd events.

291
00:18:15,292 --> 00:18:18,221
So we wanted the crowd events to represent

292
00:18:18,261 --> 00:18:21,351
some of the gritty urban realities of the French Revolution.

293
00:18:22,052 --> 00:18:23,974
Challenge wise, these events were designed to be

294
00:18:24,034 --> 00:18:25,955
relatively easy since they were optional.

295
00:18:26,755 --> 00:18:28,136
But the ecosystem could create

296
00:18:28,637 --> 00:18:30,318
unpredictable situations as well.

297
00:18:30,758 --> 00:18:33,380
So participating in them could potentially bring trouble

298
00:18:33,440 --> 00:18:35,802
along the player's way, seen by enemy factions,

299
00:18:36,982 --> 00:18:39,764
and make the player, make the event harder to succeed,

300
00:18:39,864 --> 00:18:41,546
let's say when you had to kill somebody

301
00:18:41,606 --> 00:18:44,067
and you could potentially be spotted by guards.

302
00:18:45,128 --> 00:18:47,129
Or some factions could react to the event

303
00:18:47,169 --> 00:18:48,330
and make it easier for the player.

304
00:18:49,701 --> 00:18:52,265
I'll show you some examples along the way.

305
00:18:53,187 --> 00:18:55,090
And also, the different scenarios

306
00:18:55,150 --> 00:18:56,432
would challenge the player's fighting,

307
00:18:56,572 --> 00:18:59,156
navigation, stealth, and manipulation skills.

308
00:19:02,529 --> 00:19:04,430
In terms of gameplay challenges,

309
00:19:04,850 --> 00:19:06,710
the system supported seven templates

310
00:19:07,310 --> 00:19:09,611
that could be broken down into a few variations.

311
00:19:10,211 --> 00:19:13,492
And to add variations to these templates,

312
00:19:13,532 --> 00:19:15,392
the event system allowed to change

313
00:19:15,732 --> 00:19:17,092
who was going to play in the event.

314
00:19:17,573 --> 00:19:20,213
So which faction could play as the victim of the event

315
00:19:20,353 --> 00:19:21,393
or as the enemy.

316
00:19:22,234 --> 00:19:24,814
The system was also able to modify the amount

317
00:19:25,954 --> 00:19:27,335
of actors inside the event.

318
00:19:28,115 --> 00:19:28,295
Um, yeah.

319
00:19:32,076 --> 00:19:32,196
So.

320
00:19:33,802 --> 00:19:38,906
So one of the two events we had that challenged navigation

321
00:19:38,946 --> 00:19:39,746
was tackle the thief.

322
00:19:40,607 --> 00:19:43,389
Similarly to previous ACs, the player can witness

323
00:19:43,449 --> 00:19:44,690
a thief stealing from somebody

324
00:19:44,750 --> 00:19:45,891
and running off with the goods.

325
00:19:46,672 --> 00:19:49,034
This event requires the player to run after the thief

326
00:19:49,094 --> 00:19:50,795
and tackle him down to complete the event.

327
00:19:52,016 --> 00:19:55,218
Here's a small video where I failed.

328
00:20:06,244 --> 00:20:06,937
I got the same bump.

329
00:20:14,440 --> 00:20:16,581
Another one that challenged navigation was

330
00:20:17,162 --> 00:20:18,222
catch and kill the criminal.

331
00:20:18,343 --> 00:20:21,205
So it's a variation of catch a thief.

332
00:20:21,845 --> 00:20:23,987
The only difference is the end

333
00:20:24,007 --> 00:20:26,188
where you have to kill the criminal.

334
00:20:26,789 --> 00:20:29,090
So in this event, the player can witness a civilian

335
00:20:29,110 --> 00:20:31,152
killing an innocent person and running off.

336
00:20:31,812 --> 00:20:35,775
And if he was far away, he will need to chase the killer

337
00:20:35,835 --> 00:20:38,017
through the crowd and kill him to complete the event.

338
00:20:38,457 --> 00:20:40,238
The player needs to be aware of his surroundings

339
00:20:40,258 --> 00:20:42,240
since killing in front of guards can be deadly.

340
00:20:45,463 --> 00:20:46,524
So here's a little video.

341
00:20:46,544 --> 00:20:49,145
Yeah, and it was funny.

342
00:20:50,165 --> 00:20:51,865
I saw an event triggering in the back,

343
00:20:51,905 --> 00:20:55,487
so I wanted to cause a distraction to the guards

344
00:20:55,527 --> 00:20:56,967
so I can go kill the dude in the back.

345
00:20:57,407 --> 00:21:00,168
So they're handling the extremists now,

346
00:21:00,308 --> 00:21:01,949
so I can just go see them.

347
00:21:11,677 --> 00:21:14,199
We had events that challenged fight.

348
00:21:14,959 --> 00:21:17,001
So every time an event challenged fight,

349
00:21:17,061 --> 00:21:18,362
it challenged stealth at the same time

350
00:21:18,402 --> 00:21:20,284
because you could have different factions

351
00:21:20,344 --> 00:21:22,146
seeing you doing so at that time.

352
00:21:22,206 --> 00:21:24,668
So here the player witnesses

353
00:21:24,768 --> 00:21:26,169
two extremists killing a civilian.

354
00:21:27,170 --> 00:21:29,672
The murder is too quick to be prevented in this event,

355
00:21:29,732 --> 00:21:31,393
but the player can start a fight with them

356
00:21:31,454 --> 00:21:32,314
to avenge the victim.

357
00:21:35,277 --> 00:21:36,358
Here we can see it in action.

358
00:21:49,032 --> 00:21:52,895
We had executions, so this event also challenged fight.

359
00:21:53,935 --> 00:21:57,498
And it puts the, the event puts into staging

360
00:21:57,538 --> 00:22:00,060
a bunch of extremists about to execute innocent people.

361
00:22:00,881 --> 00:22:02,902
The player can stop them for killing the civilians

362
00:22:03,042 --> 00:22:04,904
this time around by starting a fight with them.

363
00:22:08,947 --> 00:22:11,629
So here's an example of an execution event

364
00:22:12,289 --> 00:22:13,890
taken from our E3 video.

365
00:22:15,204 --> 00:22:22,916
And we can also see in the video a bit later that guards intervene during the execution, so it causes some kind of a mayhem.

366
00:22:37,702 --> 00:22:42,285
We had also protect civilians, which in the event,

367
00:22:42,945 --> 00:22:44,966
in this event, the player witnesses two extremists

368
00:22:45,046 --> 00:22:47,287
threatening to kill a civilian, and the goal here

369
00:22:47,347 --> 00:22:49,968
is to intervene and prevent the civilian from being murdered.

370
00:22:53,890 --> 00:22:55,731
We had a stealth kill the messenger.

371
00:22:56,251 --> 00:22:58,372
So in the stealth kill the messenger event,

372
00:22:58,472 --> 00:23:00,353
a civilian is being given a message,

373
00:23:00,973 --> 00:23:02,434
listing a bunch of people.

374
00:23:03,747 --> 00:23:05,388
listing a bunch of people to be executed.

375
00:23:05,788 --> 00:23:08,229
So the messenger is guarded by either extremist

376
00:23:08,289 --> 00:23:10,411
or rural guards and the player has to find ways

377
00:23:10,451 --> 00:23:12,012
in killing the messenger without being seen

378
00:23:12,472 --> 00:23:13,232
by the bodyguards.

379
00:23:18,916 --> 00:23:22,418
And for social type of events, we had in this event,

380
00:23:22,438 --> 00:23:24,219
this is a scare the bully event.

381
00:23:24,499 --> 00:23:26,661
The player will witness bullies intimidating people.

382
00:23:27,281 --> 00:23:28,982
The goal here is for the player to find ways

383
00:23:29,042 --> 00:23:31,164
of scaring off the bullies to save the victim

384
00:23:31,304 --> 00:23:31,984
without killing them.

385
00:23:33,457 --> 00:23:37,899
So playing around, manipulate the NPCs.

386
00:23:39,759 --> 00:23:40,960
We can see a video here.

387
00:23:41,400 --> 00:23:43,021
In this video, the setup is different.

388
00:23:43,081 --> 00:23:45,682
We had different setups for these events.

389
00:23:46,222 --> 00:23:47,722
We have a lady that's a victim

390
00:23:47,822 --> 00:23:50,623
and just two thugs threatening.

391
00:23:54,545 --> 00:23:55,565
And somebody without a shirt.

392
00:24:01,256 --> 00:24:03,516
And last we have the help the beggars.

393
00:24:03,616 --> 00:24:06,898
So in certain districts the player would see beggars

394
00:24:06,978 --> 00:24:07,758
asking for alms.

395
00:24:08,798 --> 00:24:10,419
In this event the player must give them money

396
00:24:10,439 --> 00:24:11,519
to complete the event simply.

397
00:24:16,461 --> 00:24:19,162
So these short events place the actors in situations

398
00:24:19,242 --> 00:24:21,943
where they were either troublemakers or victims.

399
00:24:22,894 --> 00:24:25,217
Now that you know how factions interacted together

400
00:24:25,277 --> 00:24:26,958
and how they react to certain actions,

401
00:24:27,479 --> 00:24:30,601
you can imagine the effect events have on the ecosystem.

402
00:24:31,262 --> 00:24:34,765
Here's an example of guards passing by coincidence

403
00:24:34,865 --> 00:24:37,408
while a protect the civilian event occurs.

404
00:24:38,449 --> 00:24:39,670
As soon as the event starts

405
00:24:39,970 --> 00:24:42,873
and the extremists start threatening,

406
00:24:42,993 --> 00:24:45,195
they will stop and the guards will stop

407
00:24:45,235 --> 00:24:46,876
and watch what is going on.

408
00:24:48,602 --> 00:24:51,144
And then here, as soon as they see the criminals killing

409
00:24:51,184 --> 00:24:53,505
an innocent person, they engage into the fight.

410
00:24:56,568 --> 00:24:59,630
Here I have like four videos of different contexts.

411
00:24:59,670 --> 00:25:01,151
So every time you did an event,

412
00:25:02,312 --> 00:25:06,075
well, the situations were kind of different.

413
00:25:06,095 --> 00:25:09,477
So earlier we saw like me chasing a thief and falling down,

414
00:25:10,178 --> 00:25:12,379
and then you'll see another thief, but it's something,

415
00:25:13,440 --> 00:25:15,381
well, events with different situations.

416
00:25:15,782 --> 00:25:17,323
It never played out the same way for me

417
00:25:17,363 --> 00:25:18,063
when I was playing it.

418
00:25:22,504 --> 00:25:24,025
So that's the tackle, the TFA.

419
00:25:24,566 --> 00:25:27,068
And at this moment, I didn't realize extremists were there,

420
00:25:27,108 --> 00:25:28,149
so they started attacking me.

421
00:25:28,870 --> 00:25:29,771
So I got into a fight.

422
00:25:29,931 --> 00:25:35,036
And then, oh, allies just randomly arrived,

423
00:25:35,136 --> 00:25:38,340
and they started helping me take care of the extremists,

424
00:25:38,400 --> 00:25:41,463
so I could just take them off easily.

425
00:25:47,127 --> 00:25:49,090
So in this event, in this example,

426
00:25:49,170 --> 00:25:51,032
we can see guards intervene as they see

427
00:25:51,052 --> 00:25:52,514
the criminal kill a civilian.

428
00:25:53,315 --> 00:25:56,359
So a murder was just committed, and the guards

429
00:25:56,580 --> 00:25:59,724
just run after the dude and take care of him.

430
00:25:59,964 --> 00:26:03,048
So the event is actually resolved by the NPCs.

431
00:26:10,290 --> 00:26:12,092
Here again, it's kind of similar.

432
00:26:12,452 --> 00:26:15,214
We have a kill the criminals event triggering

433
00:26:15,274 --> 00:26:17,176
and guards seeing what's going on.

434
00:26:17,896 --> 00:26:20,378
So they engage and the event gets resolved

435
00:26:20,418 --> 00:26:21,459
also by the ecosystem.

436
00:26:23,641 --> 00:26:26,623
I could have intervened and still earned my reward

437
00:26:26,763 --> 00:26:30,086
if I killed them, but I didn't, so I didn't get the reward.

438
00:26:34,124 --> 00:26:35,445
Oh yeah, I hope you see this one.

439
00:26:35,466 --> 00:26:36,827
But this is massive crowd.

440
00:26:36,907 --> 00:26:39,029
And in the background, there was a murder.

441
00:26:39,069 --> 00:26:40,130
And you see people fleeing.

442
00:26:40,170 --> 00:26:42,613
So if I would have been closer to that,

443
00:26:42,673 --> 00:26:45,896
I would have seen just people fleeing suddenly and screaming

444
00:26:45,936 --> 00:26:46,376
and stuff.

445
00:26:46,396 --> 00:26:50,260
So sometimes it caught the attention.

446
00:26:50,300 --> 00:26:51,501
You were wondering what was going on.

447
00:26:55,704 --> 00:26:58,128
So the goal we set from the start was to require

448
00:26:58,228 --> 00:27:00,411
as little level design work as possible.

449
00:27:01,293 --> 00:27:03,776
In order to achieve this, we used a modular approach

450
00:27:03,857 --> 00:27:07,442
where each event is built using logical building blocks.

451
00:27:08,583 --> 00:27:11,004
This allowed us to have variations around the same theme.

452
00:27:11,564 --> 00:27:14,165
Chase and kill the murderer, chase and tackle the thief,

453
00:27:14,745 --> 00:27:17,206
and quickly have a first iteration running in the game.

454
00:27:17,966 --> 00:27:19,866
For instance, a kill the criminal event

455
00:27:20,067 --> 00:27:22,487
would use a staging block that plays an animation

456
00:27:22,607 --> 00:27:25,168
on all characters and then a chase block

457
00:27:25,308 --> 00:27:26,849
with the kill option enabled.

458
00:27:27,689 --> 00:27:29,950
A chase and tackle use the same exact setup

459
00:27:30,010 --> 00:27:31,330
but foregoes the kill option

460
00:27:31,790 --> 00:27:33,431
and uses a tackle option instead.

461
00:27:34,638 --> 00:27:37,821
So conceptually, more blocks would be added to the chain

462
00:27:37,921 --> 00:27:39,743
to create longer or more complex events.

463
00:27:40,784 --> 00:27:42,286
This approach proved its worth

464
00:27:42,346 --> 00:27:43,527
towards the end of the project,

465
00:27:44,648 --> 00:27:46,750
when we wanted to add very specific crowd event

466
00:27:46,770 --> 00:27:47,611
to live in Up the World.

467
00:27:48,292 --> 00:27:50,954
Thanks to this modular approach,

468
00:27:51,555 --> 00:27:52,936
we could essentially assemble it

469
00:27:52,996 --> 00:27:54,838
and have it running in the city within minutes.

470
00:27:55,779 --> 00:27:57,941
It was then only a matter of polishing animations

471
00:27:58,001 --> 00:27:58,782
and checking for bugs.

472
00:28:00,220 --> 00:28:03,224
So, the crowd event system was divided in three modules.

473
00:28:03,685 --> 00:28:05,927
First, the intro block, the challenge block,

474
00:28:05,967 --> 00:28:08,310
and then the resolution block.

475
00:28:11,135 --> 00:28:13,717
So in the intro block, this is where the event looks

476
00:28:13,857 --> 00:28:17,640
for available events that can be played around the player.

477
00:28:18,541 --> 00:28:20,302
Then once it has selected the event,

478
00:28:21,243 --> 00:28:23,045
actors are either acquired or spawned

479
00:28:23,085 --> 00:28:24,986
depending on the event, the needs of the event.

480
00:28:25,626 --> 00:28:28,749
So in this block, actors start playing a scene

481
00:28:28,849 --> 00:28:31,251
and establish a context before the challenge is triggered.

482
00:28:32,972 --> 00:28:35,874
So the challenge block, here the challenge is triggered,

483
00:28:36,034 --> 00:28:37,335
the feedbacks are displayed,

484
00:28:37,876 --> 00:28:39,917
and the player can now participate in the event.

485
00:28:41,092 --> 00:28:43,514
and we had a resolution block where the event

486
00:28:43,594 --> 00:28:45,517
has been resolved either by the player,

487
00:28:45,617 --> 00:28:48,320
by an NPC, or by itself, and nobody interacts with it.

488
00:28:49,741 --> 00:28:51,723
If the player has resolved the challenge,

489
00:28:51,763 --> 00:28:53,305
a reward is given to him, obviously,

490
00:28:53,786 --> 00:28:55,367
and the reward feedbacks are displayed.

491
00:28:56,128 --> 00:28:57,890
The victims can also play an animation

492
00:28:57,970 --> 00:28:59,211
as feedback and thank the player.

493
00:29:03,563 --> 00:29:04,423
Embrace emergence.

494
00:29:05,383 --> 00:29:07,804
While systemic gameplay is conceptually very exciting,

495
00:29:07,884 --> 00:29:10,965
it can sometimes become hard to embrace

496
00:29:11,065 --> 00:29:11,925
as a mission designer.

497
00:29:13,125 --> 00:29:14,305
Like when you're trying to craft

498
00:29:14,365 --> 00:29:16,206
a very precise gameplay sequence

499
00:29:16,266 --> 00:29:18,466
and tell a particular story during your mission

500
00:29:18,546 --> 00:29:20,547
and some NPCs appear out of nowhere,

501
00:29:21,927 --> 00:29:23,768
ruining your perfectly planned challenge

502
00:29:23,868 --> 00:29:25,188
or creating a walkthrough break.

503
00:29:26,568 --> 00:29:26,688
So.

504
00:29:27,852 --> 00:29:30,074
Of course, the easy answer would be just to turn off

505
00:29:30,094 --> 00:29:31,755
the events when the player is on a mission.

506
00:29:32,495 --> 00:29:34,396
But in our minds, this would have defeated

507
00:29:34,416 --> 00:29:35,357
the vision we had set.

508
00:29:36,277 --> 00:29:38,539
So instead, we developed control tools for our mission

509
00:29:38,559 --> 00:29:40,820
friends, so they can control the beast

510
00:29:40,900 --> 00:29:41,761
when absolutely needed.

511
00:29:45,456 --> 00:29:48,437
Ideally you want your systemic gameplay to run 24-7.

512
00:29:49,557 --> 00:29:52,318
Unfortunately in practice, anyways in our case,

513
00:29:52,338 --> 00:29:54,839
there was always cases where we needed to tune it

514
00:29:54,879 --> 00:29:57,340
in a particular way or turn it off completely.

515
00:29:57,900 --> 00:30:00,501
And content creators should be given these options.

516
00:30:01,382 --> 00:30:03,183
It might create some havoc during development,

517
00:30:03,283 --> 00:30:06,784
but if everyone is buying into the system,

518
00:30:07,645 --> 00:30:11,807
they will create their missions with the system in mind

519
00:30:11,907 --> 00:30:15,329
and turn it off or limit it only when it's absolutely needed.

520
00:30:17,530 --> 00:30:19,751
So we created two tools to help control

521
00:30:20,371 --> 00:30:21,412
crowd events during missions.

522
00:30:22,352 --> 00:30:23,913
First and foremost is a master switch.

523
00:30:25,654 --> 00:30:27,895
It could be used in our mission tree to turn off

524
00:30:28,375 --> 00:30:30,676
some or all events for the duration of the mission.

525
00:30:31,623 --> 00:30:34,925
The second tool was an exclusion zone

526
00:30:35,265 --> 00:30:36,486
to be placed in the world

527
00:30:36,926 --> 00:30:39,007
that would deny any crowd event

528
00:30:39,027 --> 00:30:40,949
from starting within the volume.

529
00:30:42,289 --> 00:30:44,010
It was used in order to prevent events

530
00:30:44,050 --> 00:30:46,032
from starting in interior courtyards,

531
00:30:46,112 --> 00:30:47,813
around mission givers,

532
00:30:48,273 --> 00:30:50,074
and generally in places where it made no sense

533
00:30:50,114 --> 00:30:50,795
for them to start.

534
00:30:52,315 --> 00:30:54,637
This was different than simply turning the system off.

535
00:30:56,498 --> 00:30:57,779
As it was a volume in space,

536
00:30:57,819 --> 00:31:01,141
an event could still activate around its edges and above.

537
00:31:02,369 --> 00:31:05,911
So it allowed to control really in precise areas

538
00:31:07,431 --> 00:31:08,052
where you needed it.

539
00:31:09,772 --> 00:31:11,053
It does go against the principle

540
00:31:11,073 --> 00:31:12,774
of minimal level design support,

541
00:31:12,834 --> 00:31:15,175
and given more time, we might have looked into

542
00:31:16,035 --> 00:31:18,816
at auto-generating the exclusion zones.

543
00:31:20,757 --> 00:31:22,318
While it required manual placement,

544
00:31:22,358 --> 00:31:24,779
it did work nicely and covered many different cases

545
00:31:24,839 --> 00:31:26,980
where events should have not started.

546
00:31:36,363 --> 00:31:37,223
So the event controller.

547
00:31:40,146 --> 00:31:41,687
We manage crowd events through a system

548
00:31:41,727 --> 00:31:44,309
which could control and analyze many conditions

549
00:31:44,369 --> 00:31:45,750
before executing an event.

550
00:31:46,410 --> 00:31:48,772
The controller could check the player status,

551
00:31:49,352 --> 00:31:50,473
check the player's progression,

552
00:31:51,354 --> 00:31:53,355
check the district and time and day restrictions,

553
00:31:53,475 --> 00:31:55,116
enable only the ones available

554
00:31:55,177 --> 00:31:56,838
for the current location and time.

555
00:31:58,462 --> 00:32:01,404
It would manage the acquisition and spawning of the actors,

556
00:32:01,865 --> 00:32:03,986
select the actors available around the player

557
00:32:04,747 --> 00:32:06,348
that could be quiet or spawn,

558
00:32:06,449 --> 00:32:09,071
or spawn the actors allowed to play in that event.

559
00:32:10,732 --> 00:32:13,675
It could manage the frequency at which events are triggered,

560
00:32:14,976 --> 00:32:17,698
and manage redundancy and try cycling

561
00:32:17,738 --> 00:32:19,460
to a different template if able,

562
00:32:20,701 --> 00:32:22,983
to avoid playing the same event consecutively.

563
00:32:23,623 --> 00:32:26,406
And last, it could manage the event's resolution and rewards.

564
00:32:29,947 --> 00:32:33,108
So about acquisition, in blue in this image you can see

565
00:32:33,128 --> 00:32:35,969
these are all the actors, well potential NPCs

566
00:32:36,009 --> 00:32:38,890
that could be potential actors for the crowd events.

567
00:32:40,610 --> 00:32:43,791
So our initial vision for the crowd event system

568
00:32:44,351 --> 00:32:46,572
was that a given crowd event with pick actors

569
00:32:46,672 --> 00:32:48,653
wandering the streets have them meet up

570
00:32:48,733 --> 00:32:49,813
and perform some action.

571
00:32:50,533 --> 00:32:52,594
We hope we could acquire existing NPCs

572
00:32:52,634 --> 00:32:54,634
to make the events feel more natural.

573
00:32:55,671 --> 00:32:58,573
So what became apparent is that picking people

574
00:32:58,613 --> 00:33:00,895
from the crowd was more difficult than we expected.

575
00:33:02,476 --> 00:33:05,738
Depending on the event, we had to find up to six NPCs

576
00:33:05,938 --> 00:33:10,061
or of specific factions that were not only occupied

577
00:33:10,181 --> 00:33:12,582
within a certain distance of each other

578
00:33:12,742 --> 00:33:14,223
and heading in the right direction

579
00:33:14,324 --> 00:33:16,825
so they wouldn't navigate wearily to each other.

580
00:33:19,027 --> 00:33:21,508
Although it worked pretty well for events with two actors,

581
00:33:21,828 --> 00:33:23,949
there were so many constraints to take into account

582
00:33:24,009 --> 00:33:26,230
that events requiring more than three actors

583
00:33:26,651 --> 00:33:28,732
would essentially hardly ever be seen.

584
00:33:29,792 --> 00:33:33,634
So what we decided is that we would still use acquisition

585
00:33:33,694 --> 00:33:37,316
for events with two actors, and anything above two

586
00:33:38,937 --> 00:33:40,718
would despawn in the right spot

587
00:33:41,158 --> 00:33:42,679
for the animations to play correctly.

588
00:33:46,712 --> 00:33:48,753
We already had a need for spawning actors

589
00:33:48,793 --> 00:33:51,555
because some of our crowd events had prisoners in shackles

590
00:33:51,656 --> 00:33:54,057
or were kneeling, which would just look off

591
00:33:54,198 --> 00:33:57,220
if somebody suddenly in the crowd just took a pose, you know?

592
00:33:58,141 --> 00:34:00,643
It was therefore no big deal to use spawning more often.

593
00:34:01,784 --> 00:34:05,366
However, we had to find tricks to avoid noticing

594
00:34:05,386 --> 00:34:06,707
the spawning of the actors.

595
00:34:07,088 --> 00:34:09,169
So thankfully, our dense crowd

596
00:34:09,590 --> 00:34:10,971
helps to camouflage the spawning.

597
00:34:12,767 --> 00:34:14,428
Spawning also created another problem.

598
00:34:14,928 --> 00:34:17,771
Some events involved extremists and sometimes guards,

599
00:34:18,491 --> 00:34:21,554
and by adding them randomly to our ecosystem,

600
00:34:22,494 --> 00:34:24,376
we ran the risk of creating an imbalance

601
00:34:24,496 --> 00:34:26,358
by having too many enemies roaming the streets.

602
00:34:27,258 --> 00:34:30,461
So events with bigger groups of enemies

603
00:34:30,501 --> 00:34:32,663
needed to be toned down and happen less often.

604
00:34:35,717 --> 00:34:38,779
The other big hurdle we had to overcome was figuring out

605
00:34:39,180 --> 00:34:42,102
where to start the crowd event and have the system

606
00:34:42,162 --> 00:34:44,445
recognize if the spawning location is good or not.

607
00:34:44,785 --> 00:34:47,728
So in this screenshot, I don't know if it's clear,

608
00:34:47,768 --> 00:34:50,970
but we can see some people in the front that are spawned,

609
00:34:50,990 --> 00:34:53,733
but there's also like red bubbles inside the building,

610
00:34:53,813 --> 00:34:57,076
so there's other dudes inside the building spawned, so.

611
00:34:57,857 --> 00:35:01,980
Yeah, so the space, some events required to work properly

612
00:35:02,080 --> 00:35:04,842
became a concern as we started to implement them in Paris.

613
00:35:04,902 --> 00:35:08,765
So some would spawn half through walls or on roofs

614
00:35:08,925 --> 00:35:10,526
or on top of tables and carts.

615
00:35:13,889 --> 00:35:17,432
Another issue we had was dealing with the stairs and slopes.

616
00:35:17,672 --> 00:35:21,875
The animations would be offset and not look right all the time.

617
00:35:30,479 --> 00:35:33,261
Our biggest challenge yet would be to make the system

618
00:35:33,361 --> 00:35:35,263
analyze and identify the best locations

619
00:35:35,303 --> 00:35:36,343
for event to be spawned.

620
00:35:36,724 --> 00:35:39,205
We had to make the system capable of analyzing

621
00:35:39,306 --> 00:35:41,667
the navigation mesh, which already defines

622
00:35:41,707 --> 00:35:43,068
accessible space by NPCs.

623
00:35:48,392 --> 00:35:48,913
I'm lagging.

624
00:35:49,753 --> 00:35:52,975
So, this is a view, a bird's view of the analyzer.

625
00:35:54,259 --> 00:35:56,420
Here we can see a bird's eye view from the analyzer

626
00:35:56,480 --> 00:35:59,701
in action, the green circle represents the clearance

627
00:35:59,821 --> 00:36:03,062
that we have at the particular spot.

628
00:36:03,742 --> 00:36:05,223
And you can see the player, maybe,

629
00:36:06,263 --> 00:36:07,764
come to the frame from the bottom,

630
00:36:07,944 --> 00:36:09,464
and you can see the spot moving around

631
00:36:09,524 --> 00:36:11,125
as the player navigates the environment,

632
00:36:11,165 --> 00:36:14,926
so it always is related to the player's location.

633
00:36:22,429 --> 00:36:22,909
Did it end?

634
00:36:24,048 --> 00:36:24,328
Yeah, okay.

635
00:36:24,348 --> 00:36:28,433
All right.

636
00:36:30,054 --> 00:36:32,957
Yeah, in this video, so this is an in-game perspective.

637
00:36:33,057 --> 00:36:35,420
We can see the analyzer slide in front of the player.

638
00:36:35,860 --> 00:36:38,283
The event controller uses the analyzer's computation

639
00:36:38,343 --> 00:36:39,845
to know which events are allowed

640
00:36:40,726 --> 00:36:42,788
to start at this particular position.

641
00:36:43,208 --> 00:36:44,850
Events that are too large to start

642
00:36:44,870 --> 00:36:46,171
will be discarded outright.

643
00:36:47,301 --> 00:36:53,904
When we check the remaining candidates for district time of day and faction requirements and activates one randomly

644
00:36:56,826 --> 00:36:58,387
That was a kill the messenger that just happened

645
00:37:07,423 --> 00:37:09,284
Okay, so as you may imagine,

646
00:37:09,344 --> 00:37:11,385
tuning emergence can be a pain in the neck.

647
00:37:12,226 --> 00:37:13,466
To tune systemic gameplay,

648
00:37:13,486 --> 00:37:15,167
we couldn't wait after the stars to align

649
00:37:15,227 --> 00:37:17,209
and see how the ecosystem behaved

650
00:37:17,269 --> 00:37:18,709
when interacting with events.

651
00:37:19,190 --> 00:37:21,331
We needed ways to force things to happen,

652
00:37:21,431 --> 00:37:23,672
so we could start tuning everything early.

653
00:37:24,513 --> 00:37:28,014
So we created tools to make things happen on demand

654
00:37:28,094 --> 00:37:30,575
and debug display allowing us to see clearly

655
00:37:31,435 --> 00:37:34,697
if the systems were behaving or working as intended.

656
00:37:35,617 --> 00:37:37,878
This helped save a lot of precious production time.

657
00:37:38,438 --> 00:37:40,539
So here's a few example of things that proved

658
00:37:40,719 --> 00:37:42,600
really helpful for us during development.

659
00:37:44,860 --> 00:37:45,161
Cheats.

660
00:37:46,321 --> 00:37:47,021
We love cheats.

661
00:37:48,176 --> 00:37:50,459
We had a cheat to enable the event system in the city.

662
00:37:50,840 --> 00:37:54,444
This prevented breaking missions and creating unwanted

663
00:37:54,484 --> 00:37:57,008
situations until mission designers had tools

664
00:37:57,028 --> 00:37:57,869
to control the beast.

665
00:37:59,577 --> 00:38:02,760
We had cheats to spawn any faction on demand,

666
00:38:02,820 --> 00:38:04,381
as we saw earlier in the video,

667
00:38:04,701 --> 00:38:06,562
the one where I killed the criminal

668
00:38:06,642 --> 00:38:08,043
while the guards are distracted.

669
00:38:08,664 --> 00:38:10,525
Oh no, it was another one.

670
00:38:10,565 --> 00:38:14,448
Anyways, we could spawn any faction on demand.

671
00:38:14,608 --> 00:38:16,249
So let's say an event would play,

672
00:38:16,289 --> 00:38:19,972
I could spawn like guards and see how they behave

673
00:38:20,192 --> 00:38:21,553
and really early and on demand,

674
00:38:21,573 --> 00:38:23,254
so it was super quick to test.

675
00:38:25,256 --> 00:38:26,757
We had cheats to tune the frequency

676
00:38:26,817 --> 00:38:28,638
at which the system tries triggering events.

677
00:38:30,772 --> 00:38:36,175
We had debug display, such as like, which I love,

678
00:38:37,135 --> 00:38:39,596
visual display to test AI reactions,

679
00:38:39,696 --> 00:38:43,838
so we could see the stimuli with a visual display,

680
00:38:44,379 --> 00:38:47,020
and see which NPC would react to the stimuli

681
00:38:47,160 --> 00:38:49,121
and what type of reaction the NPC has.

682
00:38:49,181 --> 00:38:52,342
So we had that above his head, so let's say I start fighting

683
00:38:52,402 --> 00:38:54,363
and then there's a civilian that becomes scared

684
00:38:54,383 --> 00:38:56,244
and I want to know why he's scared, I could see.

685
00:38:56,844 --> 00:38:59,487
the stimuli that triggered his reaction

686
00:38:59,567 --> 00:39:00,928
and the type of reaction he has.

687
00:39:01,508 --> 00:39:04,331
It was really helpful to debug when there's like a quantity,

688
00:39:04,431 --> 00:39:05,932
incredible quantity of people on screen.

689
00:39:09,715 --> 00:39:12,138
We had a visual display to see the actors of an event

690
00:39:12,718 --> 00:39:14,680
and we had visual display to see

691
00:39:15,721 --> 00:39:17,702
when the system is looking to trigger an event

692
00:39:18,663 --> 00:39:20,625
and visual display to understand the reason

693
00:39:20,645 --> 00:39:22,546
the event activation failed.

694
00:39:26,155 --> 00:39:29,676
So, in the early stages, we first tested events

695
00:39:29,777 --> 00:39:30,937
in a controlled environment.

696
00:39:31,457 --> 00:39:33,998
We had an AI gem, which we saw previously,

697
00:39:34,678 --> 00:39:36,819
to see how the AI systems behave together

698
00:39:36,879 --> 00:39:38,539
to filter out the biggest issues

699
00:39:38,859 --> 00:39:40,760
before putting the beast into the city.

700
00:39:42,021 --> 00:39:44,563
Once our system was solid enough to be implemented

701
00:39:44,723 --> 00:39:48,466
in the city, we were still careful and used the cheat

702
00:39:48,526 --> 00:39:50,307
to trigger them in the world.

703
00:39:50,387 --> 00:39:53,149
So by default, at first, as soon as they were baked

704
00:39:53,209 --> 00:39:57,012
and ready to be put in Paris, we could activate them

705
00:39:57,152 --> 00:39:59,454
instead of just having them right away like this

706
00:39:59,894 --> 00:40:02,296
and having potentially walk-through breaks

707
00:40:02,356 --> 00:40:02,937
and stuff like that.

708
00:40:03,337 --> 00:40:06,439
Since it was the first week, we need to be careful.

709
00:40:06,479 --> 00:40:10,482
So enabling them on ourself, make sure testing them

710
00:40:10,523 --> 00:40:10,583
and...

711
00:40:11,083 --> 00:40:13,786
see how it reacts before enabling them by default

712
00:40:13,846 --> 00:40:15,587
in the city was very useful.

713
00:40:17,149 --> 00:40:20,072
So it allowed to minimize the risk on production

714
00:40:20,132 --> 00:40:21,673
and prevented affecting missions

715
00:40:21,733 --> 00:40:22,935
and causing walk-through breaks.

716
00:40:23,535 --> 00:40:24,576
Playing mission in order,

717
00:40:24,816 --> 00:40:27,539
we play missions in order also to fine-tune

718
00:40:27,559 --> 00:40:30,822
the frequency of events between missions

719
00:40:30,882 --> 00:40:32,484
and see how they affected missions.

720
00:40:33,450 --> 00:40:36,210
We also took advantage of upcoming playtest

721
00:40:36,330 --> 00:40:39,591
scheduled to test missions, so we can have feedback

722
00:40:39,631 --> 00:40:41,372
from the playtesters on events.

723
00:40:42,972 --> 00:40:44,712
And what was also very important for us

724
00:40:44,832 --> 00:40:47,673
was to set frequent play sessions with our team

725
00:40:47,713 --> 00:40:49,994
so we can all see the bugs at the same time

726
00:40:50,074 --> 00:40:51,574
or the good stuff at the same time

727
00:40:51,754 --> 00:40:54,855
and identify what needs to be addressed ASAP

728
00:40:54,915 --> 00:40:56,015
and on all the priorities.

729
00:40:56,675 --> 00:40:59,436
So ask yourself early, talk to your programmers

730
00:40:59,496 --> 00:41:01,436
about the crucial information that could help

731
00:41:01,476 --> 00:41:03,277
the whole team to fine-tune your features.

732
00:41:03,637 --> 00:41:05,761
and allow putting more time into quality.

733
00:41:09,648 --> 00:41:11,892
So, avenues of improvement.

734
00:41:13,106 --> 00:41:16,489
So from my perspective, the most important areas to refine

735
00:41:17,089 --> 00:41:20,492
would be increasing the diversity and challenges of events.

736
00:41:20,732 --> 00:41:24,475
We ended up developing more events about fight

737
00:41:24,595 --> 00:41:27,657
because technically it was just easier to reuse modules

738
00:41:27,737 --> 00:41:29,379
and make variations for fight events

739
00:41:29,419 --> 00:41:32,341
than creating new modules for types of events

740
00:41:32,381 --> 00:41:34,302
that may have been more exotic

741
00:41:34,643 --> 00:41:37,525
since it would be harder to recreate variations for them.

742
00:41:38,285 --> 00:41:42,669
For instance, challenging navigation skills had some limits.

743
00:41:43,329 --> 00:41:49,574
The system could not guide the enemy into specific areas that would have challenged the player's navigation skills,

744
00:41:49,594 --> 00:41:53,657
such as leading him into massive crowds, water, restricted areas.

745
00:41:54,018 --> 00:41:56,039
The path the NPC took was totally random.

746
00:41:57,040 --> 00:42:01,303
And it did not allow NPCs to navigate on buildings either, so we were pretty limited here.

747
00:42:03,400 --> 00:42:05,520
Sorry, events could trigger a really cool

748
00:42:05,540 --> 00:42:08,641
and unexpected situation in the ecosystem.

749
00:42:09,122 --> 00:42:12,923
It would have been interesting if they would have been

750
00:42:13,523 --> 00:42:16,104
more connected with the crowd life during their intro block

751
00:42:16,644 --> 00:42:19,865
and that we would see them happen much closer to the player.

752
00:42:20,946 --> 00:42:22,867
this would have increased significantly

753
00:42:22,927 --> 00:42:24,589
the variety of event stagings.

754
00:42:25,090 --> 00:42:29,494
Since we had more of over 500 different types

755
00:42:29,554 --> 00:42:33,317
of crowd stations, we would have benefited from this tech

756
00:42:33,498 --> 00:42:38,182
and all the animations being created for those.

757
00:42:38,502 --> 00:42:40,184
And it would have increased the number of events

758
00:42:40,304 --> 00:42:43,347
using acquisition and therefore would be seen

759
00:42:43,447 --> 00:42:44,428
around the player often.

760
00:42:45,871 --> 00:42:49,434
As an example, let's say you're seeing a crowd station

761
00:42:49,474 --> 00:42:53,538
of musicians, so you can see the musician passing the hat

762
00:42:53,738 --> 00:42:57,301
after playing their music, and a spectator suddenly

763
00:42:57,542 --> 00:42:59,964
just grabs the hat, stabs the musicians, and runs off.

764
00:43:00,024 --> 00:43:02,847
So we could have reused all those stations

765
00:43:02,887 --> 00:43:05,109
to create the first staging block of the events.

766
00:43:05,689 --> 00:43:06,910
It would have been interesting.

767
00:43:12,443 --> 00:43:14,184
So as they say, knowing is half the battle.

768
00:43:15,004 --> 00:43:17,725
In retrospect, we now have a much deeper understanding

769
00:43:17,745 --> 00:43:20,206
of the system's highlights and opportunities for improvement.

770
00:43:21,847 --> 00:43:24,187
We now know the particularities regarding

771
00:43:24,247 --> 00:43:27,669
spawning and acquisition, something that was unclear to us

772
00:43:27,709 --> 00:43:29,329
when we first started designing the system.

773
00:43:30,631 --> 00:43:33,354
We went into mocap expecting minimal limitations

774
00:43:33,435 --> 00:43:36,258
and afterwards had to make do with the space

775
00:43:37,440 --> 00:43:38,381
each animation stood.

776
00:43:38,842 --> 00:43:41,906
So with knowledge in hand, we can tailor our events

777
00:43:42,147 --> 00:43:44,650
right from the start to fit with the constraints we have.

778
00:43:46,294 --> 00:43:48,576
Looking back, we only had a handful of events

779
00:43:48,616 --> 00:43:50,598
that were small enough and quick enough

780
00:43:50,678 --> 00:43:52,219
to work properly with acquisition.

781
00:43:52,660 --> 00:43:54,421
We ended up doing mocap for events

782
00:43:54,461 --> 00:43:56,043
that were very interesting,

783
00:43:56,103 --> 00:43:59,586
but for which the technology wasn't quite there yet.

784
00:44:00,287 --> 00:44:02,409
And some of our events that needed to be spawned

785
00:44:02,449 --> 00:44:05,251
would have benefited from a more customized spawning

786
00:44:05,331 --> 00:44:07,053
to suit their individual needs.

787
00:44:09,905 --> 00:44:11,947
While we did have growing pains while trying to make

788
00:44:11,967 --> 00:44:14,929
the system work properly, once it all came together,

789
00:44:15,030 --> 00:44:17,492
it did create some awesome and surprising situations.

790
00:44:18,252 --> 00:44:20,794
I think designing simple events with a modular approach

791
00:44:21,054 --> 00:44:22,255
worked really well for us.

792
00:44:22,876 --> 00:44:24,837
Creating more complex challenges would have been

793
00:44:24,897 --> 00:44:26,639
more difficult to communicate to the player

794
00:44:26,719 --> 00:44:28,500
and harder to maintain and fine tune.

795
00:44:30,142 --> 00:44:32,784
So in theory, you may want to just mix the ingredients

796
00:44:32,864 --> 00:44:35,125
and see the emergent gameplay that comes out of it.

797
00:44:35,486 --> 00:44:38,508
But in practice, and for ACU anyways,

798
00:44:38,748 --> 00:44:41,290
we believe that having a certain degree of control

799
00:44:41,330 --> 00:44:43,512
for emergence and being able to pull strings

800
00:44:43,552 --> 00:44:46,814
behind the scene when needed did go a long way

801
00:44:46,875 --> 00:44:48,536
towards reaching the goals we had set.

802
00:44:51,182 --> 00:44:52,282
So that's it.

803
00:44:53,423 --> 00:44:55,404
Thank you for letting me share this experience with you.

804
00:44:56,404 --> 00:44:58,785
I hope you learned something

805
00:44:58,865 --> 00:45:00,966
and it maybe gave you some ideas.

806
00:45:02,407 --> 00:45:04,928
Before I go, I just want to finish up by thanking,

807
00:45:05,249 --> 00:45:06,609
I would like to thank the crowd team,

808
00:45:06,629 --> 00:45:08,450
the NPC team, and the system teams

809
00:45:08,510 --> 00:45:10,931
which were all involved in creating ACU's ecosystem.

810
00:45:11,572 --> 00:45:14,173
and the crowd team did an incredible job

811
00:45:14,213 --> 00:45:15,834
at making the crowd life and crowd events,

812
00:45:16,595 --> 00:45:18,436
while the NPC and the systems teams

813
00:45:18,456 --> 00:45:20,797
did an amazing job at making the systems

814
00:45:21,298 --> 00:45:23,699
for NPC factions and behavior and reactions.

815
00:45:24,179 --> 00:45:26,161
So thank you all, thank you very much for coming,

816
00:45:26,341 --> 00:45:29,583
and that's it, don't forget to give your feedback

817
00:45:29,643 --> 00:45:31,464
to the awesome GZC staff.

818
00:45:32,204 --> 00:45:32,465
Thank you.

