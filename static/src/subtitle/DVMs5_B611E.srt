1
00:00:04,246 --> 00:00:05,066
OK, hello everyone.

2
00:00:05,566 --> 00:00:07,327
I'm going to be talking about The Sims 3 today.

3
00:00:07,667 --> 00:00:10,268
In particular, the dynamic living world

4
00:00:10,828 --> 00:00:11,989
and the unique personalities.

5
00:00:14,249 --> 00:00:15,450
OK, so this is a programming talk.

6
00:00:15,510 --> 00:00:16,570
It's going to be quite technical,

7
00:00:16,630 --> 00:00:17,610
but not super technical.

8
00:00:18,031 --> 00:00:20,231
There are going to be quite a lot of movies interspersed

9
00:00:20,251 --> 00:00:23,893
throughout, little oasis of fun in the desert of nerd,

10
00:00:23,913 --> 00:00:24,213
if you like.

11
00:00:26,794 --> 00:00:30,915
So we had two big goals in Sims 3,

12
00:00:30,955 --> 00:00:33,976
which is to simulate a larger, varied, dynamic world.

13
00:00:34,767 --> 00:00:37,447
and to make these unique sims, unique snowflakes.

14
00:00:39,588 --> 00:00:41,208
But why those two goals in particular?

15
00:00:41,728 --> 00:00:45,309
Well, one way of looking at it is that those two goals serve

16
00:00:45,329 --> 00:00:49,470
a wider goal of having a system which

17
00:00:49,530 --> 00:00:51,190
allows emergent narrative.

18
00:00:52,230 --> 00:00:54,651
So what does emergent narrative mean?

19
00:00:55,551 --> 00:00:56,211
Does it mean anything?

20
00:00:56,231 --> 00:00:59,592
Is it just a sort of trendy buzzword or catchphrase?

21
00:01:00,852 --> 00:01:01,732
Well, the idea is that I'm

22
00:01:03,191 --> 00:01:07,032
So, lots of games you go through one particular story,

23
00:01:07,912 --> 00:01:14,093
whereas the idea of an emergent narrative is that the game enables a huge bunch of different stories.

24
00:01:14,714 --> 00:01:16,734
It's like, the game is like a story box,

25
00:01:17,314 --> 00:01:22,575
and you can create a wide variety of different stories through player action,

26
00:01:23,296 --> 00:01:25,456
and through autonomous NPC action.

27
00:01:28,297 --> 00:01:30,097
So, after the game came out...

28
00:01:30,852 --> 00:01:34,373
An example of the sort of thing that we wanted in terms of emergent narrative

29
00:01:34,933 --> 00:01:36,914
appeared on the internet, and we were very excited by this.

30
00:01:37,054 --> 00:01:41,035
It's a really excellent blog by Robin Burkinshaw, who's a game designer,

31
00:01:42,136 --> 00:01:43,376
about a pair of homeless Sims.

32
00:01:48,358 --> 00:01:52,239
And the surprising thing, this is a quote from his website,

33
00:01:52,339 --> 00:01:55,160
a surprising amount of the interesting things that happened in this story

34
00:01:55,640 --> 00:01:58,922
were generated by just letting go and watching the Sims' free will

35
00:01:59,395 --> 00:02:03,375
and personality traits take over.

36
00:02:04,676 --> 00:02:07,396
So, Robin created these two sims, a father and daughter,

37
00:02:07,456 --> 00:02:09,016
and the father was called Kev.

38
00:02:09,476 --> 00:02:11,597
And he was a really kind of difficult to get on with guy,

39
00:02:11,737 --> 00:02:14,457
apart from being homeless, he had a number of different personality issues.

40
00:02:15,398 --> 00:02:19,358
But his daughter Alice is very different, she was sweet and kind.

41
00:02:22,439 --> 00:02:24,839
Now the sort of thing that happened in terms of emotional narrative is that, I mean,

42
00:02:25,019 --> 00:02:27,540
so Kev needed somewhere to stay, he didn't have his own home.

43
00:02:28,256 --> 00:02:31,877
So he would go from house to house and sometimes people would let him in.

44
00:02:32,377 --> 00:02:36,038
But then, he was a deeply inappropriate kind of guy.

45
00:02:36,418 --> 00:02:38,979
All the mean-spirited and inappropriate things he did in the house

46
00:02:39,199 --> 00:02:42,440
would eventually cause his hosts, no matter how forgiving, to chuck him out.

47
00:02:42,900 --> 00:02:44,041
And he was back on the street again.

48
00:02:44,841 --> 00:02:47,342
And eventually he even alienates his own daughter.

49
00:02:53,003 --> 00:02:57,845
So if you like, the high goal, or one of our top-level goals was emergent narrative.

50
00:02:58,471 --> 00:03:04,035
And two of the sub-goals are simulating a larger, varied, dynamic world and making unique

51
00:03:04,055 --> 00:03:04,375
sims.

52
00:03:07,477 --> 00:03:11,239
Okay, so I'll be talking, so the first half is about simulating the larger, varied world.

53
00:03:13,280 --> 00:03:15,802
Okay, so I'm going to be showing some videos to show you what I mean.

54
00:03:30,371 --> 00:03:33,453
OK, so this is Pauline Wan, who is a young lady.

55
00:03:34,794 --> 00:03:39,356
She is engaged to be married to a handsome policeman called

56
00:03:39,396 --> 00:03:39,616
Hank.

57
00:03:40,137 --> 00:03:43,399
And it's a Sunday afternoon, and she's cycling around town.

58
00:03:46,500 --> 00:03:47,881
And she arrives at the park.

59
00:03:47,901 --> 00:03:50,663
So one of things that's going on here is that wherever she goes,

60
00:03:50,703 --> 00:03:52,684
there's already a whole lot of stuff going on,

61
00:03:52,724 --> 00:03:54,805
which is sort of suitable for the venue she's in.

62
00:03:55,545 --> 00:03:57,846
it's already halfway through if you like, there's already people

63
00:03:58,427 --> 00:03:59,487
talking and doing things

64
00:03:59,867 --> 00:04:03,569
and these people, you know in a game like Grand Theft Auto, or a ton of games like that

65
00:04:03,589 --> 00:04:06,551
they sort of spawn people to be there when you get there

66
00:04:06,851 --> 00:04:08,932
whereas our game doesn't use spawning, I mean these are all

67
00:04:09,512 --> 00:04:10,533
real simulated sims

68
00:04:10,933 --> 00:04:13,894
and we sort of encourage them

69
00:04:14,375 --> 00:04:15,255
to come to the venues

70
00:04:15,595 --> 00:04:17,796
and we encourage them to sort of behave

71
00:04:18,417 --> 00:04:19,317
suitably when they get there

72
00:04:25,836 --> 00:04:29,158
So for some reason I had this weird urge to sort of spin the camera around all the time,

73
00:04:29,178 --> 00:04:32,099
so I apologize for all the vertigo induced on you guys.

74
00:04:33,420 --> 00:04:34,761
Yeah, I don't know what I was thinking of.

75
00:04:37,242 --> 00:04:38,023
Yeah, I'm silly.

76
00:04:42,145 --> 00:04:43,726
Okay, so next she's going to go to the gym.

77
00:04:49,178 --> 00:04:52,461
You can see just in the corner there, there are people sitting having a picnic.

78
00:04:52,501 --> 00:04:55,443
And again, they're people from a family and they've been encouraged to sit together

79
00:04:55,483 --> 00:04:57,164
because they're members of the same family.

80
00:04:57,724 --> 00:04:58,825
So they want to sit together.

81
00:05:13,755 --> 00:05:15,636
So when we arrive there, they put the roof down.

82
00:05:22,502 --> 00:05:27,865
So by the time she arrives there, there are already a ton of people doing suitable situation-specific

83
00:05:28,325 --> 00:05:29,986
behaviour in the different venues.

84
00:05:31,787 --> 00:05:35,508
So that's in the foreground, but you can also see in the background that there's all the

85
00:05:35,548 --> 00:05:37,369
other stuff going on in the other areas.

86
00:05:53,694 --> 00:05:57,096
You can see some of the people leaving the park now, because they're no longer so needed at the park,

87
00:05:57,436 --> 00:06:01,019
because the players are no longer focusing on the park so much.

88
00:06:13,167 --> 00:06:14,047
Okay, next video.

89
00:06:16,769 --> 00:06:17,830
I'll just show you one more video.

90
00:06:17,850 --> 00:06:19,331
So she's next, she's going to go to the library.

91
00:06:20,232 --> 00:06:21,493
No, I think it's going to take a little bit longer.

92
00:06:21,653 --> 00:06:22,613
Okay, we'll stop the video there.

93
00:06:28,008 --> 00:06:33,470
Okay, so, how did we, what techniques did we use in order to simulate this larger world?

94
00:06:34,090 --> 00:06:38,152
So obviously we needed a number of optimization techniques, we also needed some behavior techniques

95
00:06:38,192 --> 00:06:40,093
to make them behave suitably when they get there.

96
00:06:41,253 --> 00:06:44,054
So one of our optimizations we used was hierarchical planning.

97
00:06:45,555 --> 00:06:51,317
So the basic idea is to massively reduce the branching factor by instead of making some

98
00:06:51,337 --> 00:06:56,179
decisions with a massive number of options, making a small number of decisions with fewer

99
00:06:56,259 --> 00:06:56,560
options.

100
00:07:00,605 --> 00:07:03,628
So we've got all these different lots, and each lot has got lots of agents.

101
00:07:04,168 --> 00:07:06,270
And each agent, you can perform lots of interactions on him.

102
00:07:06,410 --> 00:07:11,194
So the naive and inefficient thing to do would be to go through all the lots, go through

103
00:07:11,214 --> 00:07:14,617
all the agents on each lot, go through all the interactions on each agent on each lot,

104
00:07:15,338 --> 00:07:16,519
but that's wildly inefficient.

105
00:07:17,700 --> 00:07:23,124
So instead what we do is the sim will choose which lot to go to, and then choose which

106
00:07:23,184 --> 00:07:26,387
agent to talk to, and then choose which social interaction to perform.

107
00:07:27,104 --> 00:07:31,648
So if there are L lots and M agents on each lot and N interactions on each lot,

108
00:07:32,068 --> 00:07:37,312
then this, you know, significantly changes the performance from order L times M times N to L plus M plus N.

109
00:07:37,452 --> 00:07:40,555
Okay. So here's a graphical depiction of this.

110
00:07:41,676 --> 00:07:47,040
Instead of having a wide variety of different actions on the left hand side on different agents,

111
00:07:47,100 --> 00:07:51,424
we first choose which lot to go to and then which SIM to interact with and then which interaction.

112
00:07:51,644 --> 00:07:51,864
Okay.

113
00:07:53,705 --> 00:07:54,346
Okay, so when the.

114
00:07:55,353 --> 00:07:58,575
When the sim is deciding which lot to go to, the first decision,

115
00:07:59,255 --> 00:08:00,456
how does he make that decision?

116
00:08:01,237 --> 00:08:05,179
To start with, we tried, each of the individual sim had all these different individual motives.

117
00:08:05,199 --> 00:08:09,022
So, oh, I quite want to go to the park at the moment, and another one was like, oh, I quite want to go to the library.

118
00:08:09,442 --> 00:08:12,864
But we found that very, very hard to tune, because we had these high-level tuning goals.

119
00:08:12,905 --> 00:08:16,647
Like, we wanted a certain number of guys in the park at a certain time.

120
00:08:16,687 --> 00:08:20,670
We wanted a certain number of people in the restaurant at dinner time, and stuff like that.

121
00:08:21,367 --> 00:08:25,490
So eventually we added, if you like, motives to the venues as well.

122
00:08:26,290 --> 00:08:31,594
The lots had motives too, but they had an urge to have a certain number of people in them at different times of the day.

123
00:08:32,174 --> 00:08:36,938
So here is some of our tuning data for the restaurant, which is the stuff that's circled.

124
00:08:38,058 --> 00:08:41,721
And this is basically specifying the number of agents we want in these venues at different times.

125
00:08:41,761 --> 00:08:45,804
And as you can see, there are two peaks for we want a lot of agents in the restaurant at lunchtime,

126
00:08:45,884 --> 00:08:48,946
and we want a lot of agents in the restaurant at dinner time.

127
00:08:50,348 --> 00:08:53,470
Okay, so that was our first optimization technique we used in order to get this living world.

128
00:08:53,490 --> 00:08:56,971
The second optimization technique was what we call commodity interaction maps.

129
00:08:59,573 --> 00:09:01,774
Okay, so this is an important optimization technique.

130
00:09:02,394 --> 00:09:06,996
So what Sims 1 and Sims 2 did was, when considering what to do on a particular lot,

131
00:09:07,036 --> 00:09:10,177
was iterate through all the objects on the lot,

132
00:09:10,437 --> 00:09:13,419
and then go through all the interactions on that object,

133
00:09:13,499 --> 00:09:16,120
and then think, is that interaction currently available?

134
00:09:16,460 --> 00:09:18,161
And then finally, do I want to do it?

135
00:09:19,603 --> 00:09:23,766
But this is very inefficient when most of the desires are satisfied most of the time.

136
00:09:24,066 --> 00:09:27,268
To take a concrete example, let's say that the Sim has just eaten a massive meal,

137
00:09:27,288 --> 00:09:31,591
he's completely full up and sated, and he lives in a house with like 20 fridges in it.

138
00:09:32,132 --> 00:09:34,953
So in this naive thing, he'll go through all the fridges,

139
00:09:35,394 --> 00:09:37,255
he'll go through all the interactions on each fridge,

140
00:09:37,735 --> 00:09:40,857
he'll work out if he can do each of those interactions,

141
00:09:40,877 --> 00:09:42,518
and then he'll think, oh no, I'm not hungry,

142
00:09:42,718 --> 00:09:44,680
and he'll keep continually doing that on all those things,

143
00:09:44,700 --> 00:09:46,441
which is sort of a bit of a waste of time.

144
00:09:47,501 --> 00:09:47,641
So...

145
00:09:48,415 --> 00:09:49,836
So in Sims 3 we do it a different way.

146
00:09:49,856 --> 00:09:53,518
It's a classic memory time trade-off.

147
00:09:54,018 --> 00:10:00,642
We store a map from the things that we might want, which we call commodities, to all the different interactions which satisfy that commodity.

148
00:10:02,022 --> 00:10:04,224
So here's an example. I don't know how well you can

149
00:10:05,104 --> 00:10:12,768
read it. On the left-hand side is a subset of the different commodities, and then on the right-hand side are all the different ways of satisfying it.

150
00:10:12,828 --> 00:10:16,490
So the top line is all the ways of satisfying your bladder motive.

151
00:10:17,160 --> 00:10:18,540
so using all the different toilets.

152
00:10:21,681 --> 00:10:23,941
So one thing to notice here is that we have

153
00:10:24,641 --> 00:10:27,262
much, much more motives in Sims 3 than in our previous

154
00:10:27,922 --> 00:10:30,263
Sims games. Sims 1 and Sims 2 have eight motives.

155
00:10:31,023 --> 00:10:34,584
We had a really large number, the technical term is the metric assload of motives,

156
00:10:35,124 --> 00:10:37,084
for all sorts of different situations.

157
00:10:38,505 --> 00:10:41,625
We have the traditional ones but we have a whole lot as well. You'll see near the bottom of this

158
00:10:41,945 --> 00:10:43,906
some example of sort of venue-specific motives.

159
00:10:44,367 --> 00:10:47,248
which is what we use to encourage people to behave appropriately

160
00:10:47,788 --> 00:10:48,888
when they arrive at venues.

161
00:10:50,629 --> 00:10:54,351
Okay, so that was the first two of our optimization techniques we use in order to make the larger world.

162
00:10:54,411 --> 00:10:57,052
And the third one is what we call auto-satisfy curves.

163
00:10:59,193 --> 00:11:03,174
So we have like 80 sims or thereabouts in our living world.

164
00:11:03,194 --> 00:11:08,236
And we can't afford to simulate all of them at the same level of detail.

165
00:11:08,276 --> 00:11:12,138
So we simulate the ones in the foreground to a much higher level of detail.

166
00:11:12,498 --> 00:11:13,538
And the guys in the background...

167
00:11:13,938 --> 00:11:15,439
we can't afford to do so much processing.

168
00:11:15,659 --> 00:11:17,220
In particular, motive decay,

169
00:11:17,240 --> 00:11:18,421
which they've all got all these motives

170
00:11:18,441 --> 00:11:20,003
and they've got more than they had in previous games.

171
00:11:20,523 --> 00:11:24,006
Instead of decaying all the motives on all the different Sims,

172
00:11:24,626 --> 00:11:25,787
the guys who are in the background,

173
00:11:25,867 --> 00:11:28,009
we don't decay or update their motives at all

174
00:11:28,309 --> 00:11:29,670
until they come to the foreground.

175
00:11:30,370 --> 00:11:32,252
And at that point, we work out what their motive should be.

176
00:11:32,512 --> 00:11:34,053
So in the lower corner there

177
00:11:34,594 --> 00:11:36,735
is what we call the auto-satisfy curve for hunger.

178
00:11:36,755 --> 00:11:39,057
And this is what we expect a typical Sim's

179
00:11:40,798 --> 00:11:42,119
hunger motive to look like during the day.

180
00:11:42,632 --> 00:11:44,854
he gets hungrier and hungrier and hungrier until 6am

181
00:11:45,134 --> 00:11:47,216
and then he has his breakfast, so he's full up for a bit

182
00:11:47,576 --> 00:11:51,059
and then he gets hungrier and hungrier and hungrier until 6pm dinner time

183
00:11:51,079 --> 00:11:53,421
and then he has his dinner and then it's okay to go

184
00:11:53,561 --> 00:11:55,463
so he doesn't bother having lunch in this model

185
00:11:55,883 --> 00:11:58,606
so then what happens is, if this sim is in the background

186
00:11:58,706 --> 00:12:01,048
and we haven't yet, and now we want to update his motive

187
00:12:01,068 --> 00:12:02,309
because he's coming to the foreground

188
00:12:02,749 --> 00:12:04,111
we work out what the time of day is

189
00:12:04,451 --> 00:12:06,433
and we sort of randomly displace it by a little bit

190
00:12:06,713 --> 00:12:08,014
so that not everyone has the same values

191
00:12:08,423 --> 00:12:11,506
and that's his new motor value. So that's much more efficient than computing it all the time.

192
00:12:11,686 --> 00:12:15,769
But obviously for the guys on screen, we do it in the traditional decaying kind of manner.

193
00:12:17,631 --> 00:12:23,636
Okay, so that's the final technique, important technique we use for simulating a larger world.

194
00:12:24,097 --> 00:12:25,238
We call it story progression.

195
00:12:27,900 --> 00:12:32,064
So the problem was, we can't simulate all the sims at a very high level of granularity.

196
00:12:32,842 --> 00:12:35,084
But all the sims do need to make progress in the world.

197
00:12:35,124 --> 00:12:37,907
I mean, even the sims in faraway houses,

198
00:12:37,927 --> 00:12:40,309
they need to get married, they need to get promoted,

199
00:12:40,389 --> 00:12:42,551
they need to get divorced possibly.

200
00:12:42,971 --> 00:12:44,353
Their lives need to go on as well,

201
00:12:44,473 --> 00:12:45,914
otherwise it just won't seem convincing.

202
00:12:48,657 --> 00:12:50,699
So the solution that we came up with

203
00:12:51,159 --> 00:12:53,641
was that the low LOD sims, the ones in the background,

204
00:12:54,062 --> 00:12:56,664
perform the long-term significant life actions

205
00:12:57,124 --> 00:12:57,985
at a low frequency.

206
00:13:00,425 --> 00:13:05,509
So this system was designed by Ray Maza and implemented by Peter Ingerbrigtsen.

207
00:13:10,493 --> 00:13:15,897
So the central idea is that the town has various meta-level desires, demographic desires,

208
00:13:16,277 --> 00:13:20,620
desires to keep the various statistics about the town at the right levels.

209
00:13:21,361 --> 00:13:25,124
And it uses these long-term life actions to satisfy these life desires.

210
00:13:25,804 --> 00:13:28,987
So just as a sim has a hunger desire which is satisfied by eating,

211
00:13:29,697 --> 00:13:37,001
the town has a desire that the gender ratio is at a certain point and it can satisfy that

212
00:13:37,021 --> 00:13:41,163
desire by killing sims or creating new babies of certain genders.

213
00:13:42,623 --> 00:13:45,865
So I'm going to show you a little movie of...

214
00:13:53,228 --> 00:13:55,349
So this was an early prototype to test out this idea.

215
00:13:55,429 --> 00:13:57,810
So we've got a very large number of sims.

216
00:13:59,775 --> 00:14:02,676
And they are all simulating, but they're all simulating just the life actions.

217
00:14:02,916 --> 00:14:05,137
So here there's some of them moving from one house to another,

218
00:14:06,317 --> 00:14:08,378
as they get too many objects that fit in their houses.

219
00:14:09,199 --> 00:14:12,880
And the lines between them denote the different types of relationships they can have.

220
00:14:19,463 --> 00:14:22,864
And what was cool about this is that it runs really extremely efficiently,

221
00:14:23,184 --> 00:14:26,986
no matter how fast you run it, because they're performing actions at such a low frequency.

222
00:14:35,910 --> 00:14:40,132
Okay, so here's two examples of story progression.

223
00:14:40,332 --> 00:14:43,013
So one of the demographics, and there were a real ton of demographics in the game, but

224
00:14:43,033 --> 00:14:43,934
one of them was gender balance.

225
00:14:43,994 --> 00:14:47,795
We wanted a more or less even number of males and females in the town.

226
00:14:47,835 --> 00:14:50,316
You can imagine the sort of degenerate things that would happen if that went wrong.

227
00:14:50,857 --> 00:14:56,219
So on the x-axis is the gender balance, and so 1 means everyone's a guy, and 0 means everyone's

228
00:14:56,259 --> 00:14:57,539
female, and they're clearly very bad.

229
00:14:57,779 --> 00:14:59,680
And then the y-axis is how happy the town is.

230
00:15:00,157 --> 00:15:00,657
about that.

231
00:15:01,957 --> 00:15:06,698
And then the actions on the left are the sort of long-term life actions that this story

232
00:15:06,718 --> 00:15:11,179
progression system can perform in order to modify the demographics.

233
00:15:12,019 --> 00:15:15,660
So effectively at a low frequency, I think at midnight, it performs these actions in

234
00:15:15,720 --> 00:15:17,700
order to update the town demographics.

235
00:15:20,821 --> 00:15:21,801
So here's another example.

236
00:15:22,661 --> 00:15:23,261
Employment rate.

237
00:15:23,621 --> 00:15:27,162
So the designers wanted most of the people to be employed, but absolutely not everybody.

238
00:15:27,723 --> 00:15:30,405
It's just more interesting, I think, if some people are unemployed.

239
00:15:30,785 --> 00:15:36,049
So the absolute optimal value is like 80% of the people are employed.

240
00:15:37,009 --> 00:15:42,533
And then again, it has various life actions for modifying that demographic based on whether it's too high or too low,

241
00:15:42,573 --> 00:15:45,175
like getting a job or quitting a job and getting fired.

242
00:15:48,357 --> 00:15:54,441
Okay, so that was the first of our big goals, which was...

243
00:15:56,550 --> 00:15:57,570
simulating a larger world.

244
00:15:57,950 --> 00:16:00,351
And the second half is going to be about how to make unique Sims.

245
00:16:03,912 --> 00:16:06,852
Okay, but before we can really make unique Sims

246
00:16:07,533 --> 00:16:08,833
with individual personalities,

247
00:16:09,253 --> 00:16:11,193
we really need to make them look after themselves well.

248
00:16:11,694 --> 00:16:14,714
I'm sure you guys know about Maslow's hierarchy of needs, which is the idea

249
00:16:14,734 --> 00:16:15,535
that you've got these

250
00:16:17,795 --> 00:16:18,375
you've got this sort of

251
00:16:19,256 --> 00:16:19,696
pyramid of

252
00:16:20,176 --> 00:16:24,137
different types of needs. So at the bottom you've got the survival

253
00:16:25,157 --> 00:16:25,557
desires.

254
00:16:25,957 --> 00:16:29,800
higher up you've got social desires, then you've got individual desires,

255
00:16:29,820 --> 00:16:37,086
and at the top you've got some sort of hippie notion of at-oneness with the universe, or something like that.

256
00:16:37,226 --> 00:16:38,687
But Maslow had a sort of controversial...

257
00:16:39,048 --> 00:16:43,131
well, the claim that he made that was slightly controversial was that people don't even try and satisfy

258
00:16:43,912 --> 00:16:48,316
high-level desires unless their lower-level desires are already satisfied.

259
00:16:49,897 --> 00:16:53,600
There do seem to be some counter-examples to that, like the starving artist in a garret.

260
00:16:54,175 --> 00:16:57,298
who's doing his life's work even though he hasn't got enough to eat or whatever.

261
00:16:57,618 --> 00:17:02,442
But I think what is more uncontroversial is there's a sort of perceptual version of Maslow's

262
00:17:02,462 --> 00:17:06,866
hierarchy of needs, which is that the player will not perceive any fancy kind of stuff

263
00:17:06,926 --> 00:17:13,412
about individual behaviour if they can't actually survive or look after themselves in a basic

264
00:17:13,452 --> 00:17:13,552
way.

265
00:17:13,752 --> 00:17:16,354
I mean, if for example they're weeing themselves or whatever, you're not going to think, ooh,

266
00:17:16,394 --> 00:17:17,816
he's got his great unique personality.

267
00:17:17,856 --> 00:17:20,798
What you're going to see is that he wees himself.

268
00:17:22,002 --> 00:17:26,324
So it was really important that they don't read themselves, they don't die of hunger, that sort of thing.

269
00:17:26,444 --> 00:17:26,624
Okay.

270
00:17:27,484 --> 00:17:29,065
So there's a couple of techniques we used in order to do that.

271
00:17:29,285 --> 00:17:32,387
So here is just a sequence of interactions,

272
00:17:33,187 --> 00:17:35,628
and how much the sim wants to do them, in this particular case.

273
00:17:36,109 --> 00:17:39,550
So he's quite hungry, and he slightly wants to watch TV, kind of thing.

274
00:17:40,171 --> 00:17:42,252
So that's how much he wants to do these actions.

275
00:17:42,592 --> 00:17:46,054
But then we need to actually decide which action to perform, and that might seem obvious.

276
00:17:46,594 --> 00:17:47,815
But it's not completely obvious, because...

277
00:17:49,035 --> 00:17:49,916
On the one hand we've got the...

278
00:17:51,729 --> 00:17:55,352
we've got how much they want to do it, but then we've got the probability of them doing that particular action.

279
00:17:55,432 --> 00:17:58,335
How do we transform the utility into probability?

280
00:17:58,996 --> 00:18:00,657
So the one obvious thing to do is think,

281
00:18:00,697 --> 00:18:02,739
hey, well, let's always choose the highest scoring action.

282
00:18:03,360 --> 00:18:05,001
And in a lot of games, that's the right thing to do.

283
00:18:05,582 --> 00:18:08,224
But in a Sims type game where you're modeling people,

284
00:18:08,444 --> 00:18:10,506
that gives really quite robotic results.

285
00:18:10,566 --> 00:18:13,109
I mean, let's say, for example, that the Sim has got some food to eat,

286
00:18:13,609 --> 00:18:14,990
and then he wants to go and sit down somewhere.

287
00:18:15,431 --> 00:18:19,032
If he's always choosing exactly optimally, he's going to go to the absolutely nearest chair every time.

288
00:18:19,072 --> 00:18:23,193
And so you're going to see a very small subset of all the available behavior, which is a bit of a shame.

289
00:18:24,233 --> 00:18:28,954
So another thing you can do is choose randomly from one of the N highest-scoring actions,

290
00:18:28,994 --> 00:18:30,315
which is what Sims 1 and Sims 2 did.

291
00:18:30,355 --> 00:18:35,156
So, for example, you choose from one of the three highest-scoring actions, which seems sensible.

292
00:18:35,216 --> 00:18:36,336
It certainly seems less robotic.

293
00:18:36,916 --> 00:18:41,398
However, let's say that you absolutely desperately need to go to the toilet, and there's two toilets.

294
00:18:41,418 --> 00:18:42,538
So two of your actions are...

295
00:18:43,018 --> 00:18:46,420
going to the toilet, but then the next highest scoring action is much, much, much lower,

296
00:18:46,480 --> 00:18:50,143
and that is watching TV. Then there's a 1 in 3 chance of you watching TV, so there's

297
00:18:50,183 --> 00:18:53,805
a 1 in 3 chance of bladder failure, which doesn't seem completely optimal.

298
00:18:56,586 --> 00:19:02,770
So the thing we did, we used this sort of simple Boltzmann distribution to convert the

299
00:19:03,610 --> 00:19:12,055
utility into the probability. So P is the probability, S is the score, and

300
00:19:12,516 --> 00:19:15,557
and T is the temperature, which is a cool, tunable constant

301
00:19:16,397 --> 00:19:19,898
for effectively how random to make it.

302
00:19:22,358 --> 00:19:24,019
Temperature intuitively should go up and down,

303
00:19:24,079 --> 00:19:26,360
depending on how well the synthetist thinks he's doing,

304
00:19:26,740 --> 00:19:28,800
to create a simulated annealing kind of effect.

305
00:19:29,060 --> 00:19:30,301
If he's doing really, really badly,

306
00:19:30,601 --> 00:19:32,041
if every action he does is failing,

307
00:19:32,401 --> 00:19:33,761
then we want to increase the temperature,

308
00:19:33,801 --> 00:19:34,882
so he becomes more random.

309
00:19:35,422 --> 00:19:37,022
Whereas if he's doing well, we want to lower the temperature.

310
00:19:39,563 --> 00:19:41,583
OK, so another important idea was, in terms of...

311
00:19:41,926 --> 00:19:44,027
So we've got all these different motives, we've got tons of motives.

312
00:19:44,487 --> 00:19:46,828
How do we tune the relative intensities of these motives

313
00:19:47,268 --> 00:19:51,269
so that if he's, for example, choosing between eating something and

314
00:19:52,169 --> 00:19:56,091
fulfilling one of his own internal personality things, which is more high priority?

315
00:19:56,331 --> 00:19:59,312
So one of our high-level design goals was that survival should take precedence

316
00:19:59,872 --> 00:20:02,033
over manifesting their individual personality traits.

317
00:20:02,353 --> 00:20:07,275
And so we sort of used Maslow's hierarchy of needs as a sort of a way of tuning the desire.

318
00:20:07,315 --> 00:20:08,575
So each level...

319
00:20:09,810 --> 00:20:12,190
in the pyramid is like ten times more important desires.

320
00:20:12,710 --> 00:20:13,391
And that more or less worked.

321
00:20:13,411 --> 00:20:19,472
That more or less gave us the idea that if a sim is that survival should trump manifesting

322
00:20:19,492 --> 00:20:20,652
their autonomous personality.

323
00:20:21,393 --> 00:20:21,633
Okay.

324
00:20:23,813 --> 00:20:26,214
So now we get to the heart of the thing which is the unique sims.

325
00:20:28,014 --> 00:20:30,575
So we wanted to make a town that was full of distinct individuals.

326
00:20:31,475 --> 00:20:34,396
As Matt Brown says, we wanted to make each sim a unique snowflake.

327
00:20:35,756 --> 00:20:38,397
But we also wanted their personalities to be very...

328
00:20:39,378 --> 00:20:42,220
immediately obvious to the player. We didn't want it to be the case that

329
00:20:42,840 --> 00:20:45,983
in order to notice what this guy was doing you had to sort of graph, you had to

330
00:20:46,043 --> 00:20:49,105
write down all their interactions over a period of days in a spreadsheet and do

331
00:20:49,125 --> 00:20:50,226
statistical analysis and think,

332
00:20:50,546 --> 00:20:53,728
ooh, this sim is spending like 2% more of his time cleaning than this other sim, so

333
00:20:54,008 --> 00:20:57,591
ooh, I think he's a bit of a clean sim. We didn't want that at all. We wanted to be really sort of in your face

334
00:20:57,911 --> 00:21:02,314
sort of caricature personalities. So those are our high-level goals in terms of uniqueness.

335
00:21:04,075 --> 00:21:07,238
So the high-level design was based on, um...

336
00:21:08,647 --> 00:21:13,169
that each personality was a bag of traits, and there was up to five traits that you can

337
00:21:13,209 --> 00:21:17,030
choose and we had a large pool of traits and we've added to them in subsequent expansions.

338
00:21:19,351 --> 00:21:24,153
And these personality traits affect the Sims in a variety of ways. So one thing they do

339
00:21:24,213 --> 00:21:29,115
is affect the available actions, the different things that the Sim can do. So, Plyptomaniacs

340
00:21:29,155 --> 00:21:33,837
can steal, and inappropriate Sim can troll people on internet forums, which is a genius

341
00:21:33,897 --> 00:21:36,958
one by Tom Wang, and Pyromaniacs can set things on fire.

342
00:21:37,654 --> 00:21:40,816
and over-emotional sims can cry while watching romantic telly

343
00:21:41,736 --> 00:21:44,819
so that's basically they get new types of actions available to them just because of

344
00:21:44,839 --> 00:21:45,759
their personality traits

345
00:21:47,721 --> 00:21:49,682
and personality traits can also affect adverbs

346
00:21:50,563 --> 00:21:53,284
they provide adverbial modifiers on common actions

347
00:21:54,225 --> 00:21:55,226
they affect the way you walk

348
00:21:56,186 --> 00:21:58,788
so grumpy sims will like mutter under their breath as they're going along

349
00:21:59,749 --> 00:22:00,970
traits can affect the way you idle

350
00:22:01,910 --> 00:22:04,252
so workaholics are always pulling out their cell phones

351
00:22:04,958 --> 00:22:07,819
So even while they're not doing anything, they're manifesting their personality traits.

352
00:22:08,780 --> 00:22:09,820
They even affect the way you look.

353
00:22:10,320 --> 00:22:14,621
So neurotic sims, I changed the parameters, so they're always looking around like this and looking a bit edgy.

354
00:22:15,062 --> 00:22:17,042
And the flirty sims are always checking out sims.

355
00:22:18,623 --> 00:22:20,023
And they affect the way you react to things.

356
00:22:20,363 --> 00:22:24,865
So just try forcing a vegetarian to eat meat or a hydrophobic sim into the pool.

357
00:22:25,165 --> 00:22:29,326
So one of the things that surprised Will Wright when Sims first came out

358
00:22:29,346 --> 00:22:33,007
was that people liked so much the punishing the sims, or torturing the sims.

359
00:22:33,258 --> 00:22:35,699
but that was something that was very, very appealing for some reason.

360
00:22:36,199 --> 00:22:38,781
And one of the things that's great about personality traits

361
00:22:39,501 --> 00:22:43,123
is it gives you a whole new dimension of ways of humiliating your sims

362
00:22:43,183 --> 00:22:45,044
on a sort of individual, specific basis.

363
00:22:49,166 --> 00:22:50,507
Okay, so all that stuff is cool,

364
00:22:50,527 --> 00:22:52,708
but it's how the traits affect their decision-making

365
00:22:52,748 --> 00:22:53,829
which is what we're going to focus on.

366
00:22:57,671 --> 00:22:59,872
Okay, so on the one hand we have all these personality traits

367
00:22:59,972 --> 00:23:02,053
and on the other hand we have all the different interactions.

368
00:23:02,642 --> 00:23:05,384
And in order for the personality traits to feel rich,

369
00:23:05,724 --> 00:23:08,766
we want millions and millions of connections between these two systems.

370
00:23:09,447 --> 00:23:11,188
However, as good software engineers,

371
00:23:11,948 --> 00:23:15,811
we want to minimize the code arrows between these code systems.

372
00:23:16,051 --> 00:23:17,672
We want nice lean APIs.

373
00:23:18,473 --> 00:23:20,334
This is exactly the sort of thing we don't want. This would be very naughty.

374
00:23:20,594 --> 00:23:22,095
So in the middle of find best action, right?

375
00:23:22,615 --> 00:23:25,417
Oh, if this sim has this specific personality trait,

376
00:23:25,678 --> 00:23:27,179
and the object he's trying to look at is a book,

377
00:23:27,219 --> 00:23:28,439
then, oh, let's increase the score.

378
00:23:28,720 --> 00:23:31,721
When we start having tons of examples of that scattered through our code...

379
00:23:32,216 --> 00:23:33,136
then it's not maintainable.

380
00:23:33,777 --> 00:23:34,677
So that's not what we want to do.

381
00:23:36,438 --> 00:23:39,239
What we want to do instead is create massively data-driven

382
00:23:39,279 --> 00:23:41,401
systems in which the interconnections

383
00:23:41,481 --> 00:23:43,662
between the gameplay elements can be added

384
00:23:44,002 --> 00:23:45,102
without touching the code at all.

385
00:23:46,363 --> 00:23:48,064
OK, so a little example of that.

386
00:23:54,547 --> 00:23:59,229
This is just some of our tuning tools, which

387
00:23:59,249 --> 00:24:01,010
we use for updating which.

388
00:24:01,500 --> 00:24:03,421
interactions or which traits advertise to each other.

389
00:24:03,782 --> 00:24:06,183
So these are the interactions available for evil people.

390
00:24:06,203 --> 00:24:12,166
Okay, so for example, couch potatoes are specifically encouraged to do these interactions.

391
00:24:12,366 --> 00:24:16,869
Other people will do these interactions too, but effectively the couch potatoes have got

392
00:24:16,909 --> 00:24:18,109
an extra reason for doing it.

393
00:24:20,010 --> 00:24:21,271
And here are the family-oriented sins.

394
00:24:31,771 --> 00:24:32,812
And there's tons of examples of...

395
00:24:33,352 --> 00:24:34,833
Yeah, neat guys have got tons of stuff.

396
00:24:34,893 --> 00:24:35,093
Okay.

397
00:24:43,580 --> 00:24:44,060
Okay, so...

398
00:24:44,300 --> 00:24:45,401
So, top level is that...

399
00:24:46,942 --> 00:24:48,704
So, we've got all these different personality traits

400
00:24:48,744 --> 00:24:50,765
and each one is associated with its own motive.

401
00:24:51,386 --> 00:24:52,747
So, the different sims have different wants.

402
00:24:54,128 --> 00:24:55,529
And by satisfying their unique wants,

403
00:24:56,009 --> 00:24:58,131
they are manifesting their individual personality.

404
00:24:59,581 --> 00:25:03,724
So for example, a mean-spirited sim has an extra motive effectively to undermine other

405
00:25:03,744 --> 00:25:04,544
people's self-worth.

406
00:25:05,985 --> 00:25:11,749
And various interactions, like mock people for example, advertise to that motive so he

407
00:25:11,789 --> 00:25:12,489
autonomously does it.

408
00:25:13,090 --> 00:25:16,732
And a couch potato has an extra motive to sort of slob around, and things like watching

409
00:25:16,752 --> 00:25:19,574
TV and sitting down advertise to that motive.

410
00:25:24,437 --> 00:25:28,759
Okay so then what we did is we logged out all the different interactions that all the

411
00:25:28,799 --> 00:25:29,120
simmers do.

412
00:25:30,144 --> 00:25:34,905
did so we could then look at these logs and see if it was sort of transparent just from

413
00:25:34,925 --> 00:25:37,086
looking at the data what the personalities were.

414
00:25:37,106 --> 00:25:40,947
So for example this is what a lady called Tamara did one Sunday afternoon.

415
00:25:41,007 --> 00:25:45,428
She gussied up in front of the mirror and she chatted to a friend and mooched some food,

416
00:25:46,948 --> 00:25:50,509
ate some cereal and then complimented this guy's appearance and made a flirty joke.

417
00:25:50,829 --> 00:25:54,550
And you can sort of read off quite clearly what sort of a lady she is.

418
00:25:57,551 --> 00:25:59,111
You can infer the personalities from what they do.

419
00:26:09,433 --> 00:26:14,174
So this is the same lady as before, this is Pauline Warren, and she is flirty and has

420
00:26:14,214 --> 00:26:14,914
commitment issues.

421
00:26:15,154 --> 00:26:18,235
And she's engaged to Hank, who I think also has commitment issues.

422
00:26:18,655 --> 00:26:21,316
So they're young and they love each other.

423
00:26:22,076 --> 00:26:27,898
And now these are all the interactions that she's currently considering, which are advertising

424
00:26:27,938 --> 00:26:29,798
to her specific personality traits.

425
00:26:31,619 --> 00:26:35,780
This is the way that probability is gained from score, which I was talking about earlier.

426
00:26:36,500 --> 00:26:38,421
So here she is going over to autonomously...

427
00:26:39,467 --> 00:26:41,209
to hug her boyfriend.

428
00:26:48,197 --> 00:26:51,821
I see the traitor glowing to indicate that she's sort of autonomously manifesting it.

429
00:27:08,745 --> 00:27:11,427
So a lot of things she wants to do are sort of flirty things, because she is a flirty sim.

430
00:27:15,430 --> 00:27:20,294
Okay, this is not a very good video.

431
00:27:20,314 --> 00:27:30,562
I don't know if you noticed, but they're coming closer together.

432
00:27:30,582 --> 00:27:34,785
So one of the things we wanted to do was manifest their relationship state by how close they were together.

433
00:27:39,103 --> 00:27:39,384
Okay.

434
00:27:46,306 --> 00:27:48,947
So in Sims 1 and Sims 2, every Sim had the same eight motives.

435
00:27:49,507 --> 00:27:52,828
But in our game, each Sim has a different set of motives based on their traits.

436
00:27:54,129 --> 00:27:56,790
But the set of these motives doesn't just vary between individuals.

437
00:27:57,190 --> 00:28:00,011
It also varies within the same individual over time.

438
00:28:00,291 --> 00:28:03,892
So we're adding and removing motives through time on an individual

439
00:28:04,272 --> 00:28:07,733
in order to model the Sim's understanding of various social situations.

440
00:28:08,291 --> 00:28:09,732
which is the thing I'll show you next.

441
00:28:11,314 --> 00:28:11,494
So...

442
00:28:18,419 --> 00:28:19,941
This is the same lady again, Pauline Wan.

443
00:28:21,062 --> 00:28:22,903
She's going to visit her neighbours,

444
00:28:22,923 --> 00:28:24,685
who I don't think she's really met before,

445
00:28:25,145 --> 00:28:25,946
the Frio brothers.

446
00:28:28,908 --> 00:28:30,730
And there's a whole social situation modelled

447
00:28:30,750 --> 00:28:31,931
around visiting,

448
00:28:33,012 --> 00:28:34,593
encouraging people to behave appropriately.

449
00:28:35,033 --> 00:28:35,634
So, for example...

450
00:28:37,417 --> 00:28:40,600
The hosts are encouraged to look after their guests, not just to ignore them.

451
00:28:41,901 --> 00:28:45,424
And guests are encouraged to do things that are sensible.

452
00:28:45,824 --> 00:28:47,346
So first of all, she's going up to ask,

453
00:28:47,386 --> 00:28:49,968
Hey, I don't really know you, but is it alright if I come into your house?

454
00:29:01,238 --> 00:29:02,298
So here she is coming into the house.

455
00:29:03,033 --> 00:29:07,434
So she's discouraged from doing the sort of things you shouldn't really do if you're a guest in a stranger's house.

456
00:29:08,035 --> 00:29:10,735
So for example, and she knows this inside her autonomy.

457
00:29:10,955 --> 00:29:13,896
So for example, she shouldn't really, just bringing up this for me,

458
00:29:14,096 --> 00:29:16,537
she shouldn't really just go up to the computer and start browsing the web.

459
00:29:16,577 --> 00:29:18,158
You see it's got a negative score there.

460
00:29:18,498 --> 00:29:22,339
She knows this is inappropriate and that subtracts from the utility of the action.

461
00:29:22,619 --> 00:29:24,760
So a ton of interactions here are inappropriate.

462
00:29:24,900 --> 00:29:25,440
And she knows that.

463
00:29:25,460 --> 00:29:30,322
If you leave her to her own devices, she's going to behave appropriately as a guest in the situation.

464
00:29:33,226 --> 00:29:37,509
However, what we're going to do in a minute is the player is going to override her autonomy

465
00:29:37,969 --> 00:29:39,210
and make her behave in a naughty way.

466
00:29:40,270 --> 00:29:47,615
So for example, he's going to make her sleep in the bed even though she doesn't know them.

467
00:29:47,635 --> 00:29:56,701
So this guy, one of the Frios...

468
00:29:59,440 --> 00:30:03,182
It's a little bit slow to notice this. I think he's too avidly watching, playing his video game.

469
00:30:03,562 --> 00:30:06,424
Ah, but now he's got up. He's like, ooh, Pauline, you're being very naughty.

470
00:30:06,444 --> 00:30:09,065
What the hell are you doing lying in our bed kind of thing?

471
00:30:24,479 --> 00:30:27,201
So next she's going to do another injury, she's going to insult their home.

472
00:30:27,421 --> 00:30:32,103
So the user is overriding her autonomy to make her behave really rudely.

473
00:30:32,884 --> 00:30:33,484
And he's like, oh.

474
00:30:35,945 --> 00:30:37,826
Again, that's made her even more inappropriate, basically.

475
00:30:38,847 --> 00:30:41,308
And there's a sort of social situation where she's keeping track of the sort of...

476
00:30:41,548 --> 00:30:45,390
And now finally, as the straw which breaks the camel's back of inappropriateness,

477
00:30:45,851 --> 00:30:47,752
she's going to try and make herself some food in their house.

478
00:30:48,272 --> 00:30:50,113
And now at this point, they've really, they've just had enough.

479
00:30:51,054 --> 00:30:53,255
Yeah, you're putting... It's time to go, mate.

480
00:30:53,683 --> 00:30:54,343
You've been very naughty.

481
00:31:05,350 --> 00:31:07,112
OK, so the way these situations work

482
00:31:07,692 --> 00:31:10,634
is they are hierarchical finite state machines which

483
00:31:10,994 --> 00:31:13,556
sometimes encourage or force Sims to do agents,

484
00:31:13,576 --> 00:31:17,178
and also sometimes add motives to, or remove motives,

485
00:31:17,398 --> 00:31:20,000
in order to encourage them to behave appropriately.

486
00:31:20,520 --> 00:31:22,201
So there's these various different states

487
00:31:22,241 --> 00:31:23,402
with various different substrates.

488
00:31:24,331 --> 00:31:26,151
So for example, the yellow states are the warning states.

489
00:31:26,371 --> 00:31:29,452
So when Pauline started doing the wrong thing,

490
00:31:29,492 --> 00:31:32,972
like insulting the home, she went into the warning state,

491
00:31:33,272 --> 00:31:35,093
where the host was encouraged to warn the guest.

492
00:31:36,033 --> 00:31:39,594
And then eventually, she was so rude

493
00:31:39,634 --> 00:31:40,794
that we went into the red state,

494
00:31:41,094 --> 00:31:44,294
where the host was forced to make the sim leave,

495
00:31:44,534 --> 00:31:45,595
and the sim was forced to leave.

496
00:31:48,815 --> 00:31:49,895
Yes, the way this works under the hood

497
00:31:49,915 --> 00:31:51,796
is we're actually adding motives,

498
00:31:51,976 --> 00:31:53,136
a different motive for the host.

499
00:31:53,552 --> 00:31:56,713
and a different motive for the guest to encourage them to behave appropriately.

500
00:31:57,634 --> 00:32:01,875
But sims with different personalities have different interpretations of these motives.

501
00:32:02,215 --> 00:32:07,097
So inappropriate and insane sims, they have the motive for behaving appropriately in the house,

502
00:32:07,637 --> 00:32:09,098
but they don't care about it, basically.

503
00:32:09,498 --> 00:32:11,979
So you will get, in fact I got a bug near the end of the game,

504
00:32:11,999 --> 00:32:16,660
which was that someone had come to my house and had gone straight upstairs and fallen asleep in my bed.

505
00:32:16,680 --> 00:32:19,621
But it turned out that she was an insane sim and that's what she should have done, if you like.

506
00:32:19,661 --> 00:32:22,302
So we have different interpretations of these motives.

507
00:32:25,435 --> 00:32:28,857
So another example of the way in which different Sims interpret the motives differently

508
00:32:31,259 --> 00:32:31,859
is at the picnic.

509
00:32:32,059 --> 00:32:36,002
Sims in situations are encouraged to sit with people they know,

510
00:32:36,202 --> 00:32:37,723
to give a sense of social cohesion.

511
00:32:38,023 --> 00:32:42,405
So people having a picnic, people from the same family will be sitting together.

512
00:32:43,986 --> 00:32:46,928
But Sims with different traits have a different understanding of these motives.

513
00:32:47,168 --> 00:32:49,690
I mean, the inappropriate guy actually actively goes out of his way

514
00:32:50,050 --> 00:32:52,111
to sit with people he doesn't know to freak them out, sort of thing.

515
00:32:52,131 --> 00:32:53,932
Another example of that.

516
00:33:00,011 --> 00:33:04,835
So here is a mother and son having a nice picnic, but here is coming Xander, who is

517
00:33:04,875 --> 00:33:08,718
a notorious inappropriate sim, and he's thinking, ooh, I don't know these guys, I'm going to

518
00:33:08,738 --> 00:33:10,699
come and stand near them and freak them out.

519
00:33:13,421 --> 00:33:16,084
But fortunately here comes the father and husband.

520
00:33:28,369 --> 00:33:31,151
Okay, so the high-level design idea is that

521
00:33:31,972 --> 00:33:33,013
we've got these individual traits,

522
00:33:33,393 --> 00:33:34,834
and we've got these social situations,

523
00:33:34,954 --> 00:33:37,396
and that somehow, modeling both of them

524
00:33:37,456 --> 00:33:39,358
is a complementary activities.

525
00:33:39,899 --> 00:33:42,241
The more accurately we model the social situations,

526
00:33:42,421 --> 00:33:44,783
the more specific the social interactions are,

527
00:33:45,343 --> 00:33:46,584
the more we'll be able to manifest

528
00:33:46,624 --> 00:33:48,066
their individual personality traits.

529
00:33:48,866 --> 00:33:51,909
So individuality and sociability are mutually supporting

530
00:33:51,989 --> 00:33:53,430
like two parts of an arch.

531
00:33:55,899 --> 00:33:58,560
And here is my first pretentious quote from Arthur Schopenhauer,

532
00:33:58,980 --> 00:34:00,581
that the revelation of the idea of man

533
00:34:00,641 --> 00:34:03,242
is accomplished by two means, by accurate drawing

534
00:34:03,262 --> 00:34:05,742
of significant characters, and by the invention

535
00:34:05,762 --> 00:34:08,583
of poignant situations in which they reveal themselves.

536
00:34:13,005 --> 00:34:16,846
Yeah, if we're going to have these much finer-grained

537
00:34:16,886 --> 00:34:19,207
personalities, we're going to need

538
00:34:19,447 --> 00:34:21,808
much finer-grained social interactions to support them.

539
00:34:22,768 --> 00:34:25,149
So Sims 1 and Sims 2 had very broad speech acts.

540
00:34:25,785 --> 00:34:26,766
like talking and joking.

541
00:34:27,526 --> 00:34:30,889
But in Sims 3, we added a ton of specific contextual socials,

542
00:34:30,949 --> 00:34:33,811
like complimenting home or worry about relationship,

543
00:34:34,712 --> 00:34:36,033
which were partly designed in order

544
00:34:36,053 --> 00:34:38,515
to manifest these much more specific personality traits.

545
00:34:49,801 --> 00:34:53,682
So these personality traits affect the different social interactions which they choose autonomously.

546
00:34:53,982 --> 00:34:58,623
So the snobs like to boast about their cars, and the neurotic sims will accuse their partners of cheating on them,

547
00:34:58,863 --> 00:34:59,944
even if they haven't cheated on them.

548
00:35:00,564 --> 00:35:05,845
And if a mean-spirited sim is talking to some nice other sim who turns out to be a vegetarian,

549
00:35:06,205 --> 00:35:07,585
they might mock her vegetarianism.

550
00:35:10,966 --> 00:35:14,127
But as well as affecting the social interactions that they choose to perform,

551
00:35:14,167 --> 00:35:17,608
they also affect the way they respond to these social interactions.

552
00:35:18,228 --> 00:35:19,388
And how they respond...

553
00:35:19,909 --> 00:35:21,530
depends on a series of production rules.

554
00:35:22,350 --> 00:35:24,891
So here is a simplified version of some of our production

555
00:35:24,931 --> 00:35:27,372
rules for what happens when a sim is trying to be funny.

556
00:35:28,392 --> 00:35:30,272
So the default rule is just, hey, if you're trying to be funny,

557
00:35:30,333 --> 00:35:31,153
then it's sort of neutral.

558
00:35:32,073 --> 00:35:33,554
The second rule says, hey, if you're trying to be funny,

559
00:35:33,594 --> 00:35:35,434
but I've heard this joke before, then it's boring.

560
00:35:35,814 --> 00:35:37,815
The third one says, if I'm trying to be funny,

561
00:35:37,855 --> 00:35:39,936
but you and I aren't getting on very well,

562
00:35:40,156 --> 00:35:40,916
then it's insulting.

563
00:35:41,456 --> 00:35:43,617
And the final one is, if I'm trying to be funny

564
00:35:43,657 --> 00:35:45,558
and the person I'm talking to has a good sense of humor,

565
00:35:45,618 --> 00:35:46,378
then they find it funny.

566
00:35:50,299 --> 00:35:56,322
Interactive fiction was one of our inspirations for the socializing system in two specific ways.

567
00:35:56,782 --> 00:35:58,162
One was its use of production rules.

568
00:35:58,182 --> 00:36:01,344
I don't know if you guys have seen Inform 7.

569
00:36:01,564 --> 00:36:04,945
The latest version of Inform uses production rules as the fundamental unit.

570
00:36:06,906 --> 00:36:11,608
The other main sort of guiding inspiration was the idea that in some interactive fiction

571
00:36:11,868 --> 00:36:13,709
that the conversation can be an end in itself.

572
00:36:15,069 --> 00:36:17,950
So for example, in Emily Short's Galatea, you have a...

573
00:36:17,970 --> 00:36:19,611
She's talking to this statue.

574
00:36:20,311 --> 00:36:27,814
And there is no ulterior motive to talking to the statue, you're just being in the conversation.

575
00:36:32,816 --> 00:36:37,959
So in a lot of games, the reason why you talk to people is for an ulterior motive.

576
00:36:39,059 --> 00:36:41,520
You're effectively treating people as means rather than ends.

577
00:36:41,800 --> 00:36:42,721
You're manipulating them.

578
00:36:44,621 --> 00:36:46,162
For example, in a large number of MMOs...

579
00:36:48,260 --> 00:36:51,221
you're treating these NPCs as experience points dispensers.

580
00:36:52,962 --> 00:36:54,982
And this is, of course, violating Kant's dictum,

581
00:36:55,563 --> 00:36:57,783
that we should always treat people as ends and never as

582
00:36:57,803 --> 00:36:58,043
meat.

583
00:37:12,908 --> 00:37:15,569
OK, so this is showing all the different production rules

584
00:37:15,629 --> 00:37:16,329
for different, um,

585
00:37:17,032 --> 00:37:18,733
for the different social interactions,

586
00:37:19,113 --> 00:37:21,394
and how they choose which one's going to fire.

587
00:37:22,494 --> 00:37:23,535
So for example, invite over.

588
00:37:24,015 --> 00:37:27,136
I think the tab at the bottom is all the different production

589
00:37:27,156 --> 00:37:30,137
rules which apply to the selected social interaction

590
00:37:30,157 --> 00:37:30,557
at the top.

591
00:37:31,498 --> 00:37:33,599
And we're sorting the different production rules

592
00:37:33,699 --> 00:37:36,560
by specificity to see which one's actually going to fire.

593
00:37:36,860 --> 00:37:38,681
What we're showing here very quickly

594
00:37:39,641 --> 00:37:42,122
is that the flirt is going to succeed because

595
00:37:42,142 --> 00:37:44,223
of the top most specific production rule, which

596
00:37:44,263 --> 00:37:45,903
says, if I'm flirting with somebody.

597
00:37:46,482 --> 00:37:49,424
and that other guy is also flirty, then it's going to succeed.

598
00:37:53,986 --> 00:37:57,067
So now she's actually going to try flirting with him.

599
00:38:00,889 --> 00:38:02,250
And yes, sure enough, it succeeds.

600
00:38:04,010 --> 00:38:07,892
But what's nice is that at the very same time, Pauline learned that he was flirty.

601
00:38:08,453 --> 00:38:12,855
So this is sort of learning of traits

602
00:38:13,575 --> 00:38:15,536
at the very moment in which they manifest in behavior.

603
00:38:24,589 --> 00:38:28,111
Okay, so these production rules are ranked by specificity, and the most specific rule fires.

604
00:38:29,031 --> 00:38:34,613
Often, the personality traits of either the actor or the target determine which rule fires.

605
00:38:35,534 --> 00:38:40,215
And when a rule fires, the other sim will learn the trait, and the trait learning is thus contextual.

606
00:38:42,496 --> 00:38:48,219
Okay, so Chris Hecker sort of posed this sort of complaint about AI in games.

607
00:38:48,239 --> 00:38:53,741
So I've tried to undermine his professionalism here, as you can see, by drawing a little beard about him.

608
00:38:54,215 --> 00:39:01,380
But his view, which is actually quite interesting, is that the field of computer graphics is

609
00:39:01,620 --> 00:39:05,342
significantly more advanced than AI in games, and he gave an interesting explanation of

610
00:39:05,362 --> 00:39:10,625
this, which is that graphics have a clean decomposition of form and function in terms

611
00:39:10,665 --> 00:39:16,209
of texture and polygon, and then artists are free to add any texture they like without

612
00:39:16,289 --> 00:39:17,670
any fear of anything going wrong.

613
00:39:18,530 --> 00:39:22,973
Graphic engineers deal with polygons, and they're in sort of two happy separate worlds.

614
00:39:23,730 --> 00:39:27,231
and there's no analogue in AI of the texture polygon decomposition.

615
00:39:28,012 --> 00:39:30,433
So that's his argument, and it's an interesting one.

616
00:39:32,194 --> 00:39:38,997
So the underlying explanation for why computer graphics are successful is that artists can

617
00:39:39,057 --> 00:39:43,279
manipulate these textures freely without worrying about side effects, without being able to

618
00:39:43,339 --> 00:39:44,340
break the game in any way.

619
00:39:44,360 --> 00:39:47,881
I mean, you can cut a part of a texture out and it's still a valid texture.

620
00:39:48,382 --> 00:39:50,923
You can merge two textures together and it's still a valid texture.

621
00:39:51,506 --> 00:39:53,708
This is because the texture is homeomorous.

622
00:39:54,328 --> 00:39:56,290
A part of a texture is itself a texture.

623
00:39:56,630 --> 00:39:59,252
So here is a pretentious word for the day, homeomorous,

624
00:39:59,592 --> 00:40:02,635
from the Greek homo miros, meaning that a part is the same.

625
00:40:03,115 --> 00:40:04,536
So for example, butter is homeomorous.

626
00:40:04,556 --> 00:40:06,998
So if you take a little bit of butter, it is also butter.

627
00:40:07,559 --> 00:40:09,120
But a human is not homeomorous,

628
00:40:09,140 --> 00:40:10,862
because if you take a person's finger,

629
00:40:10,902 --> 00:40:13,404
the finger is not himself a person.

630
00:40:13,764 --> 00:40:14,044
Okay.

631
00:40:15,826 --> 00:40:16,886
So what we ideally want,

632
00:40:16,926 --> 00:40:18,708
in order to answer Chris Hecker's challenge,

633
00:40:19,128 --> 00:40:20,830
is a homeomorous unit for game AI.

634
00:40:21,293 --> 00:40:23,475
And it certainly isn't the script or the function in C++.

635
00:40:23,495 --> 00:40:26,418
Because if you take a couple lines of a script,

636
00:40:26,538 --> 00:40:28,580
or you just cut out a little bit of a function,

637
00:40:28,600 --> 00:40:32,443
it's not even going to compile, let alone do anything good,

638
00:40:32,803 --> 00:40:35,405
because of all the implicit dependencies with the variables

639
00:40:35,425 --> 00:40:35,886
and what have you.

640
00:40:37,908 --> 00:40:41,330
But a plausible candidate for a homeomorous unit for game AI

641
00:40:41,451 --> 00:40:44,053
is the production rule, which is why I find it exciting.

642
00:40:44,073 --> 00:40:46,655
Because you can cut conditions out of a production rule,

643
00:40:46,955 --> 00:40:48,376
and it's still a valid production rule.

644
00:40:48,857 --> 00:40:50,718
And you can blend two production rules together.

645
00:40:51,837 --> 00:40:52,818
and it's still a production rule.

646
00:40:54,599 --> 00:41:02,626
So the production rule is, does have this property of being homoamorous.

647
00:41:03,426 --> 00:41:05,688
So does the social system answer the Photoshop challenge?

648
00:41:06,229 --> 00:41:08,270
Well, we were able, producers did add

649
00:41:09,271 --> 00:41:10,692
lots and lots of social interactions

650
00:41:11,072 --> 00:41:12,754
without needing to touch the code in any way.

651
00:41:12,954 --> 00:41:14,415
So the whole thing was completely data-driven.

652
00:41:15,096 --> 00:41:16,977
And they also added thousands of production rules.

653
00:41:17,797 --> 00:41:21,781
so they could make really really fine-grained little bits of behavior without worrying about

654
00:41:21,821 --> 00:41:22,502
crushing the game.

655
00:41:23,042 --> 00:41:28,687
So, you know, so like, or if I'm trying to mock someone's vegetarianism and that they

656
00:41:28,727 --> 00:41:32,090
really really really like me, then they're still going to find it really really annoying

657
00:41:32,110 --> 00:41:32,510
sort of thing.

658
00:41:32,531 --> 00:41:36,634
So very very specific rules they could just add without worrying about anything.

659
00:41:36,774 --> 00:41:41,699
So they went in this nice safe data-driven environment, but yet they could still define

660
00:41:41,759 --> 00:41:42,580
conditional behavior.

661
00:41:49,833 --> 00:41:56,458
Okay, so some of the emergent narrative comes from the individuals manifesting their personality

662
00:41:56,498 --> 00:41:56,799
traits.

663
00:41:57,539 --> 00:42:02,963
But another aspect of emergent narrative is what happens when you get two Sims with some

664
00:42:03,003 --> 00:42:04,524
sort of trait conflict between them.

665
00:42:06,446 --> 00:42:11,109
So for example, if you put a computer whiz and a technophobe in the same house, the technophobe

666
00:42:11,149 --> 00:42:15,072
has various extra actions available to him.

667
00:42:16,809 --> 00:42:18,490
sabotaging the computer and stuff.

668
00:42:18,631 --> 00:42:20,252
And then when he's done that, he's got new

669
00:42:20,612 --> 00:42:22,153
social interactions available to him like

670
00:42:22,634 --> 00:42:25,816
I think he can gloat about the broken computer or something like that.

671
00:42:25,936 --> 00:42:28,278
So you get these sort of micro-stories emerging.

672
00:42:28,999 --> 00:42:31,801
And similarly, if you put a Neatsim and a Slob in the same house,

673
00:42:32,281 --> 00:42:35,344
then sure, the Slob is not going to do any of the cleaning and the Neatsim is.

674
00:42:35,804 --> 00:42:38,666
And the Neatsim has got other specific interactions available like

675
00:42:39,006 --> 00:42:40,768
complaining about the mess and what have you.

676
00:42:44,140 --> 00:42:48,403
And these personality traits also create the ability to have,

677
00:42:49,304 --> 00:42:51,265
to do the same series of interactions,

678
00:42:51,405 --> 00:42:52,826
but have very, very different results,

679
00:42:53,087 --> 00:42:55,228
depending on the personality of the guys you're

680
00:42:55,248 --> 00:42:58,090
interacting with, which adds to replayability.

681
00:42:58,991 --> 00:43:01,633
So you go up to someone in the park

682
00:43:01,693 --> 00:43:04,114
and ask him about their career.

683
00:43:04,715 --> 00:43:06,416
In one case, you learn he's a policeman.

684
00:43:06,896 --> 00:43:08,858
And now your mean-spirited sim has the option

685
00:43:08,878 --> 00:43:09,958
of complaining about the police.

686
00:43:10,833 --> 00:43:14,656
But now let's do it again, we ask someone about their career and you learn he's unemployed

687
00:43:15,236 --> 00:43:19,780
and then the conversation turns awkward because the very act of revealing unemployment is

688
00:43:19,860 --> 00:43:20,220
awkward.

689
00:43:21,461 --> 00:43:25,003
And in the third case you learn he's unemployed but he's hot-headed, he doesn't like to be

690
00:43:25,043 --> 00:43:26,784
reminded he doesn't have a job and gets angry.

691
00:43:27,445 --> 00:43:33,449
So this is all the different ways that the same actions can pan out depending on the

692
00:43:33,789 --> 00:43:36,411
personality traits and situations of the people involved.

693
00:43:39,075 --> 00:43:46,079
Okay, so to summarize, Sunset Valley is a town that's full of these individuals, and the more you play, the more you get to know their quirks.

694
00:43:46,760 --> 00:43:50,462
And as you get to know them, they will learn about your sim's personality traits as well.

695
00:43:52,223 --> 00:43:59,868
And some take-home actionable items is to data-drive as much as you humanly can, and take the time to make some good in-game visualization tools,

696
00:44:01,089 --> 00:44:05,552
and also to prove out all your simulation ideas as much as possible using early prototypes.

697
00:44:06,993 --> 00:44:08,134
So my last movie is...

698
00:44:11,899 --> 00:44:15,422
So this is our nice 2D prototype, which I love, which is done by the Sims 3 designers.

699
00:44:16,343 --> 00:44:20,226
And we tested out a lot of the behaviour in this early prototype.

700
00:44:20,506 --> 00:44:25,351
So here, for example, is the same sort of visiting situation with the same sort of contextual

701
00:44:25,571 --> 00:44:30,255
interactions like complementing home, working in this sort of simple 2D world.

702
00:44:30,656 --> 00:44:34,920
And this helped us to test things out much quicker and was really, really great.

703
00:44:59,478 --> 00:45:03,221
So here again, it's the same sort of thing, but in our little 2D world.

704
00:45:08,925 --> 00:45:15,190
So a big thanks to the Sims 3 team for making this game, and allowing me to talk about it with you guys today. Thanks a lot.

705
00:45:40,473 --> 00:45:41,894
Hi, very impressive.

706
00:45:43,095 --> 00:45:45,777
You're talking about data driving everything.

707
00:45:46,517 --> 00:45:47,598
Data driving everything.

708
00:45:48,758 --> 00:45:51,860
Could you tell us a little bit about the process, the development process,

709
00:45:51,981 --> 00:45:59,766
how you make sure that people who create motives, actions, rules, work together?

710
00:45:59,786 --> 00:46:05,049
For example, adding a motive.

711
00:46:05,797 --> 00:46:07,239
Unfortunately, it wasn't completely data-driven.

712
00:46:07,259 --> 00:46:08,980
There were sort of enumerations in the code

713
00:46:09,000 --> 00:46:10,061
that had to be added as well.

714
00:46:11,602 --> 00:46:13,203
The social system was more data-driven.

715
00:46:13,404 --> 00:46:15,986
You could add completely new social interactions

716
00:46:16,486 --> 00:46:18,468
and these production rules.

717
00:46:22,131 --> 00:46:23,412
We can't data-drive absolutely everything

718
00:46:23,452 --> 00:46:24,613
and we could have data-driven more.

719
00:46:25,433 --> 00:46:27,835
I mean, it would be great to data-drive

720
00:46:27,875 --> 00:46:29,156
absolutely everything about motives

721
00:46:29,217 --> 00:46:30,357
and we didn't get as far as that.

722
00:46:30,598 --> 00:46:31,458
That would have been very cool.

723
00:46:33,022 --> 00:46:36,224
My question was more about coherence

724
00:46:36,464 --> 00:46:40,487
between many people working together on the same problem.

725
00:46:41,007 --> 00:46:42,968
How do you achieve coherence?

726
00:46:45,890 --> 00:46:49,352
It's a good question.

727
00:46:54,577 --> 00:46:56,499
Do you mean like tuning coherence, for example?

728
00:46:56,759 --> 00:46:57,939
What sort of coherence do you mean?

729
00:46:58,500 --> 00:47:01,321
There are many ways to represent the same kind of motif

730
00:47:01,481 --> 00:47:03,222
or need or whatever.

731
00:47:04,283 --> 00:47:06,964
How do you make sure that there are no behaviors that

732
00:47:07,184 --> 00:47:07,725
stick out?

733
00:47:08,225 --> 00:47:09,566
Oh, you mean like duplicates and stuff?

734
00:47:10,026 --> 00:47:11,427
Or incoherence.

735
00:47:12,367 --> 00:47:18,731
We have some really nice tools for browsing all the data

736
00:47:18,771 --> 00:47:19,091
as well.

737
00:47:19,191 --> 00:47:21,692
So we could see all the different interactions which

738
00:47:21,712 --> 00:47:23,433
satisfy this motive or the.

739
00:47:24,326 --> 00:47:26,227
different things that this interaction does.

740
00:47:26,467 --> 00:47:28,348
And so using these inspection tools,

741
00:47:28,368 --> 00:47:30,189
we could quickly find if there was anomalous data.

742
00:47:30,449 --> 00:47:33,410
So basically, if you build nice visualization data tools,

743
00:47:34,011 --> 00:47:35,011
you sort of let people do what they like,

744
00:47:35,271 --> 00:47:36,292
but then you can go back through.

745
00:47:36,332 --> 00:47:38,753
And we did find a lot of little data bugs near the end.

746
00:47:39,113 --> 00:47:40,894
I'm sure there was still some more, but yeah.

747
00:47:41,014 --> 00:47:42,735
Basically, we use big browser tools

748
00:47:42,795 --> 00:47:44,155
to try and find anomalous data.

749
00:47:44,696 --> 00:47:45,116
Okay, thanks.

750
00:47:45,296 --> 00:47:45,596
Thank you.

751
00:47:47,317 --> 00:47:47,477
Hey.

752
00:47:47,777 --> 00:47:47,957
Hi.

753
00:47:48,558 --> 00:47:50,398
How did you handle fringe cases

754
00:47:50,839 --> 00:47:52,439
and how did you deal with,

755
00:47:53,678 --> 00:47:59,379
possibilities of feedback loops that, since everything's so data-driven, and you're kind

756
00:47:59,399 --> 00:48:05,060
of hands-off on certain levels of interaction, how did you prevent your sims from spiraling

757
00:48:05,140 --> 00:48:09,701
out of control, like two flirty sims talking to each other and not really caring about

758
00:48:09,741 --> 00:48:12,941
doing anything but flirting, because both of those interactions are going to be really

759
00:48:12,981 --> 00:48:14,821
high on the list?

760
00:48:15,021 --> 00:48:15,622
That's a good question.

761
00:48:16,082 --> 00:48:21,463
So, in that example, basically, once their motives are satisfied, they no longer want

762
00:48:21,483 --> 00:48:22,783
to do it for a certain period of time.

763
00:48:23,196 --> 00:48:23,916
So if you have...

764
00:48:24,677 --> 00:48:26,498
So basically motive satisfaction is the general answer.

765
00:48:26,518 --> 00:48:29,380
So if one sim is flirty, then he wants to

766
00:48:29,941 --> 00:48:31,542
manifest his flirtiness by flirting.

767
00:48:31,802 --> 00:48:34,524
But once he's done that flirting, he's satisfied his flirty motive

768
00:48:34,804 --> 00:48:35,665
for a period of time.

769
00:48:36,025 --> 00:48:36,605
The other sim...

770
00:48:37,186 --> 00:48:39,387
So then there's a period of time after which he will do other things

771
00:48:39,988 --> 00:48:42,570
to stop exactly that sort of repetitive behavior,

772
00:48:42,630 --> 00:48:43,810
which would be unfortunate.

773
00:48:49,995 --> 00:48:50,515
Yeah, if you like.

774
00:48:50,555 --> 00:48:52,236
It's in the general system of motive satisfaction.

775
00:48:53,436 --> 00:48:55,137
Okay.

776
00:48:55,157 --> 00:48:56,699
So you showed a couple of production rules

777
00:48:56,739 --> 00:48:58,580
and you said you had the ability for designers

778
00:48:58,620 --> 00:48:59,761
to add new production rules.

779
00:49:00,301 --> 00:49:02,783
How did you handle, even in the example you showed,

780
00:49:02,803 --> 00:49:05,225
I think there was one production rule for,

781
00:49:05,686 --> 00:49:07,707
if you're flirty, then just get a neutral reaction.

782
00:49:08,108 --> 00:49:10,029
And of course that production rule could always match

783
00:49:10,049 --> 00:49:10,970
whenever somebody's flirty.

784
00:49:10,990 --> 00:49:14,293
So how did you select if multiple production rules matched

785
00:49:14,313 --> 00:49:15,353
which one to actually run?

786
00:49:16,194 --> 00:49:18,616
So we started off, I started off naively thinking

787
00:49:18,936 --> 00:49:20,437
that I could do it programmatically

788
00:49:22,832 --> 00:49:27,515
looking at the number of antecedents on the left-hand side.

789
00:49:27,895 --> 00:49:31,077
And then the more antecedents they were, the more specific it was.

790
00:49:31,297 --> 00:49:33,418
I could compute the specificity of this rule,

791
00:49:33,818 --> 00:49:38,161
and I, the megalomaniac programmer, could decide which rule was more important than another rule.

792
00:49:38,521 --> 00:49:40,542
But it turned out that system really wasn't working very well,

793
00:49:40,582 --> 00:49:43,784
and then a very cool designer lady came along and just added.

794
00:49:43,904 --> 00:49:47,006
She hand-tuned all these production rules to give them nice numbers,

795
00:49:47,026 --> 00:49:48,266
and then the system worked significantly better.

796
00:49:51,145 --> 00:49:53,966
Hey Richard, great talk, thank you.

797
00:49:54,066 --> 00:50:01,147
You said that when the system says sometimes that when the interaction happens, so-and-so learns that so-and-so is flirty.

798
00:50:01,468 --> 00:50:01,728
Yeah.

799
00:50:01,748 --> 00:50:07,309
So does that affect, do they have a notion of other sims' internal, like other sims' personalities, or how is that?

800
00:50:07,609 --> 00:50:15,951
Yeah, yeah they do. They know, I mean it's quite simple, but they basically, they either know or do not know about the different personality traits of the sim,

801
00:50:15,991 --> 00:50:19,911
which is just five bits of data if you like, and also about their career and...

802
00:50:20,474 --> 00:50:22,315
whether they're married and whether they're rich, I think.

803
00:50:22,355 --> 00:50:26,536
So there was a small amount of bits of data so that sims would learn stuff about other sims.

804
00:50:26,897 --> 00:50:29,498
It felt like a nice way of collecting information about the game.

805
00:50:29,798 --> 00:50:32,619
Also, the other thing about it was, it was interesting from a design perspective,

806
00:50:32,639 --> 00:50:35,460
that it meant that even when something failed, you were gaining something.

807
00:50:35,480 --> 00:50:37,621
Because let's say, for example, you tell a joke to this guy, right,

808
00:50:37,841 --> 00:50:39,541
and then he's sort of like, ah, like that,

809
00:50:39,661 --> 00:50:41,582
and you feel frustrated that your interaction failed.

810
00:50:41,782 --> 00:50:44,123
But then, bling, you learn that he has no sense of humour,

811
00:50:44,163 --> 00:50:46,304
so it turns failure into an achievement.

812
00:50:47,035 --> 00:50:48,477
So I think it was a useful thing.

813
00:50:48,797 --> 00:50:50,739
And that affected the autonomy of the characters too?

814
00:50:50,959 --> 00:50:55,063
Like, if I know that you like to use lots of pretentious words,

815
00:50:55,103 --> 00:50:59,848
for example, does that affect my autonomy?

816
00:50:59,888 --> 00:51:02,250
Like, when I choose an interaction with you?

817
00:51:03,191 --> 00:51:04,912
It would be great if it did, but no, it doesn't.

818
00:51:05,053 --> 00:51:05,653
That would be cool.

819
00:51:05,733 --> 00:51:10,057
I also really enjoyed the talk.

820
00:51:10,097 --> 00:51:11,118
Thanks, Ian.

821
00:51:11,636 --> 00:51:14,157
I was really interested in the interplay between what you talked about at the beginning,

822
00:51:14,217 --> 00:51:18,479
the sort of coarse graining where you step back and just simulate the whole town in terms of low frequency events,

823
00:51:19,019 --> 00:51:22,180
and then the latter half where you're simulating in detail.

824
00:51:24,061 --> 00:51:27,523
It seems like some traits you could do that with fairly reliably, like hunger,

825
00:51:27,663 --> 00:51:31,424
people are going to go up and down, but then the more fine-grained, individualized traits,

826
00:51:31,684 --> 00:51:32,885
you maybe couldn't do that.

827
00:51:33,045 --> 00:51:38,367
Like, for example, a flirty sim might be more likely to be in a relationship than a non-flirty sim.

828
00:51:39,132 --> 00:51:47,034
So where did you decide which things you could simulate for the whole town, and which things you just had to instantiate individually?

829
00:51:47,755 --> 00:51:50,775
Ah, well that shows I wasn't explaining very well.

830
00:51:50,875 --> 00:51:54,196
So it wasn't on a per-trait basis that they were doing low-LOD or high-LOD.

831
00:51:54,236 --> 00:52:01,298
It was that if the guys in the background were hardly doing any competition on them at all, apart from them deciding where to go to next.

832
00:52:01,678 --> 00:52:04,219
It's not like they do a subset of their low-level actions.

833
00:52:04,259 --> 00:52:07,360
I mean, they hardly do anything apart from go from place to place.

834
00:52:07,856 --> 00:52:09,257
if they're in the background area.

835
00:52:09,878 --> 00:52:12,099
And you're suggesting an alternative architecture

836
00:52:12,119 --> 00:52:14,921
where like sort of different parts of their mentality

837
00:52:14,982 --> 00:52:17,463
are loading in and out.

838
00:52:17,804 --> 00:52:19,645
I was just wondering, so how do you decide, for example,

839
00:52:19,685 --> 00:52:21,246
if a given sim is in a relationship

840
00:52:21,286 --> 00:52:22,307
when you instantiate them?

841
00:52:23,188 --> 00:52:27,711
Like, you know, so you track all the relationships

842
00:52:27,751 --> 00:52:28,872
of all the sims at all times?

843
00:52:29,092 --> 00:52:29,473
Yes, we do.

844
00:52:29,513 --> 00:52:31,975
And that does create an N-squared potential problem.

845
00:52:32,135 --> 00:52:33,055
And then we decay them.

846
00:52:34,215 --> 00:52:37,075
If these two guys, like, they know each other but they don't really have any strong things,

847
00:52:37,236 --> 00:52:38,916
then after a while we forget about the information.

848
00:52:38,936 --> 00:52:44,297
But there is a, there was a significant memory overhead of doing that N-squared tracking of relationships.

849
00:52:45,038 --> 00:52:45,298
Thank you.

850
00:52:47,978 --> 00:52:51,779
I love the game. I want to make that clear before I say something critical here.

851
00:52:52,380 --> 00:53:01,582
My pet peeve with the Sims is that they don't seem to have a concept of temporal reasoning or the consequences of their actions.

852
00:53:02,423 --> 00:53:07,045
What's, for instance, the most common thing I see is that, like, they'll be extremely tired and very hungry.

853
00:53:07,465 --> 00:53:13,966
And instead of getting a quick snack before going to bed, they'll go to bed, sleep for a couple hours, wake up in the middle of the night, you know, and go through all that.

854
00:53:14,246 --> 00:53:19,268
Do you think that kind of temporal reasoning is something that can be expressed in terms of production rules?

855
00:53:19,928 --> 00:53:22,989
Or is that a separate system that you would want to tack on?

856
00:53:24,029 --> 00:53:27,010
It's certainly true. You're absolutely right. It would be great to add that sort of thing.

857
00:53:27,770 --> 00:53:32,071
You could do it using some sort of HTM type planning or some sort of long term planning.

858
00:53:33,038 --> 00:53:34,139
or potentially production rules,

859
00:53:34,719 --> 00:53:35,519
it certainly would be great,

860
00:53:35,539 --> 00:53:37,581
it would make them much more plausible.

861
00:53:38,701 --> 00:53:40,022
Yeah, and production rules is one way of doing it.

862
00:53:40,042 --> 00:53:40,823
So yeah, absolutely.

863
00:53:40,843 --> 00:53:42,604
So you think it is expressible in terms of what you have?

864
00:53:43,264 --> 00:53:44,865
Oh, sorry, no, it's not expressible in terms of that.

865
00:53:45,165 --> 00:53:46,606
So that was production rule system, right?

866
00:53:46,626 --> 00:53:47,667
For a subset of the game,

867
00:53:47,787 --> 00:53:49,308
just for doing social interactions

868
00:53:49,688 --> 00:53:51,089
and the responses of social interactions.

869
00:53:51,129 --> 00:53:52,870
It's not like we had a general production rule system

870
00:53:53,330 --> 00:53:54,271
for all of behavior.

871
00:53:55,652 --> 00:53:58,313
It wouldn't, we needed to do something better.

872
00:53:58,333 --> 00:54:01,355
We did have more long-term planning in an early prototype,

873
00:54:01,375 --> 00:54:02,736
but it didn't make it into the final game.

874
00:54:03,018 --> 00:54:03,699
But you're absolutely right.

875
00:54:03,719 --> 00:54:05,519
That would be a great and important feature to add.

876
00:54:06,119 --> 00:54:08,360
Thank you.

877
00:54:08,980 --> 00:54:11,881
So really excellent and thought-provoking talk.

878
00:54:11,921 --> 00:54:13,181
That was really neat.

879
00:54:13,581 --> 00:54:14,742
So I had a question.

880
00:54:14,762 --> 00:54:16,482
I think you touched on, but I'd love

881
00:54:16,762 --> 00:54:20,363
to find out more about production rules for traits.

882
00:54:20,463 --> 00:54:23,924
And I'm thinking specifically of, for example, well,

883
00:54:24,164 --> 00:54:25,964
in the game Tropico, for example,

884
00:54:26,004 --> 00:54:29,045
if you had to assassinate somebody because they were

885
00:54:29,715 --> 00:54:36,159
they were threatening your rule, their children would be much more troublesome than they would ordinarily be,

886
00:54:36,399 --> 00:54:37,560
because you had killed their parent.

887
00:54:38,321 --> 00:54:42,123
And then when you were talking about traits and production rules, I was thinking about how, say,

888
00:54:42,243 --> 00:54:48,888
an abusive parent might produce a child that starts out neurotic and then grows into an abusive adult,

889
00:54:49,689 --> 00:54:56,473
or if a flirty sim just perchance ended up flirting with a bunch of mean-spirited sims who mocked her,

890
00:54:56,553 --> 00:54:57,214
then eventually...

891
00:54:57,699 --> 00:55:11,005
maybe she becomes less flirty because, you know, and so I guess the question was did you have specific production rules that created traits or would you rely on the simulation over time to change people's traits?

892
00:55:11,305 --> 00:55:18,309
Very good question. So, no, just to repeat, the production rules were only used in this very specific sub-part of the game to do with how they responded to socials.

893
00:55:18,449 --> 00:55:23,352
It wasn't a general mechanism for doing the whole of the gameplay, although that is also an interesting idea.

894
00:55:23,372 --> 00:55:26,773
In terms of your question specifically about traits and how they change...

895
00:55:27,679 --> 00:55:31,042
we didn't really change them very much in code at all because I think the high level

896
00:55:31,062 --> 00:55:35,905
design idea was that these players has carefully crafted his character to have this personality.

897
00:55:36,386 --> 00:55:40,809
Maybe he's trying to model his irritating ex-girlfriend or that really annoying math

898
00:55:40,829 --> 00:55:44,652
teacher or someone. And you know, he's done the work of creating that. It might be frustrating

899
00:55:44,692 --> 00:55:49,215
to him if through some clever simulation which he doesn't fully understand, it changed his

900
00:55:49,255 --> 00:55:54,019
personality underneath him. So we basically were a little bit scared of doing that sort

901
00:55:54,039 --> 00:55:54,419
of thing at all.

902
00:55:54,579 --> 00:55:55,700
We do completely acknowledge that.

903
00:55:56,087 --> 00:56:00,229
It's often the sort of turning point, the most dramatic point in some great piece of literature or something

904
00:56:00,569 --> 00:56:04,331
is that moment in which the guy gets self-realization and changes his personality.

905
00:56:04,691 --> 00:56:07,252
But we just shied away from doing it at all.

906
00:56:07,352 --> 00:56:10,373
And certainly if we had done it, we would have done it in code and not in production rules.

907
00:56:11,514 --> 00:56:11,714
Thanks.

908
00:56:11,754 --> 00:56:12,174
Keep this on.

909
00:56:14,535 --> 00:56:14,895
Hello.

910
00:56:14,915 --> 00:56:15,516
Thanks again.

911
00:56:15,596 --> 00:56:18,837
I have a very specific question of just a small detail of the production rules.

912
00:56:21,392 --> 00:56:25,274
Essentially, you have this interaction between two people based on the production rules,

913
00:56:25,314 --> 00:56:30,697
and then based on their behavior, the sims understand something about the other person's traits.

914
00:56:30,717 --> 00:56:32,597
There's this discovery process going on.

915
00:56:32,938 --> 00:56:36,739
I was wondering, is the discovery process explicitly encoded in the production rules,

916
00:56:36,859 --> 00:56:38,540
or is it somehow inferred by the engine?

917
00:56:39,461 --> 00:56:41,622
It's inferred from the antecedents.

918
00:56:41,962 --> 00:56:46,464
If one of the antecedents of the production rule is that the target has that particular trait,

919
00:56:46,484 --> 00:56:48,005
then it automatically learns it.

920
00:56:48,045 --> 00:56:49,385
So we didn't need to add extra data.

921
00:56:49,943 --> 00:56:53,184
The data is sort of implicitly there in the production rule itself, so we can pull it out.

922
00:56:53,565 --> 00:56:54,025
Okay, thank you.

923
00:56:54,045 --> 00:56:54,305
Thank you.

924
00:56:56,786 --> 00:56:57,987
Can I ask you Japanese?

925
00:57:02,329 --> 00:57:07,872
Sorry, I don't know how good this is going to be.

926
00:57:07,892 --> 00:57:08,352
Sorry, sorry.

927
00:57:20,162 --> 00:57:39,928
I did it wrong.

928
00:57:41,368 --> 00:57:41,788
Yes, thank you.

929
00:57:57,328 --> 00:57:58,409
That's a very good question.

930
00:57:59,049 --> 00:58:04,394
So the question is, how do we debug

931
00:58:04,414 --> 00:58:05,636
with such a large number of agents

932
00:58:05,656 --> 00:58:07,017
and such a large number of interactions?

933
00:58:07,437 --> 00:58:11,641
So the only thing to do is to have good in-game visualization

934
00:58:11,681 --> 00:58:11,982
tools.

935
00:58:12,462 --> 00:58:16,666
So we built a number of .NET little things

936
00:58:16,706 --> 00:58:18,608
that can run inside the game, where

937
00:58:18,628 --> 00:58:19,789
you can see all the different.

938
00:58:21,617 --> 00:58:25,318
individual sims their complete state at any time and all the interactions that they're

939
00:58:25,338 --> 00:58:29,439
thinking of doing and how much they want to do them and what the probabilities of them

940
00:58:29,479 --> 00:58:29,779
doing it.

941
00:58:30,059 --> 00:58:34,720
But the other thing we added was like a counterfactual engine where, because it takes a long time

942
00:58:34,760 --> 00:58:38,021
to get it into the state you want it to get into in order to test your particular situation,

943
00:58:38,261 --> 00:58:43,602
so we added the ability to change the state of the guy just with a few sliders within

944
00:58:43,642 --> 00:58:48,783
this same tool so we could say, oh, what would happen if this guy really was really, really

945
00:58:48,843 --> 00:58:49,123
hungry?

946
00:58:49,639 --> 00:58:51,140
and he was in a really bad mood about this,

947
00:58:51,521 --> 00:58:53,502
and he was really annoyed about this guy,

948
00:58:53,663 --> 00:58:54,403
what would happen then?

949
00:58:54,463 --> 00:58:57,566
So basically, we created a way of doing counterfactuals

950
00:58:57,606 --> 00:59:00,829
very quickly in our tool so as to test autonomy.

951
00:59:04,292 --> 00:59:05,633
I understand. Thank you very much.

952
00:59:05,653 --> 00:59:05,993
Thank you.

953
00:59:06,013 --> 00:59:06,293
Thank you.

954
00:59:06,333 --> 00:59:07,414
Thank you.

955
00:59:07,434 --> 00:59:07,694
Thank you.

956
00:59:08,075 --> 00:59:08,295
Thank you.

957
00:59:08,315 --> 00:59:08,575
Thank you.

958
00:59:08,956 --> 00:59:09,236
Thank you.

959
00:59:09,336 --> 00:59:13,159
Wonderful talk.

960
00:59:13,279 --> 00:59:13,479
Thank you.

961
00:59:13,499 --> 00:59:14,040
Thank you.

962
00:59:14,080 --> 00:59:14,580
Thank you.

963
00:59:14,600 --> 00:59:14,961
Thank you.

964
00:59:16,457 --> 00:59:20,600
If I'm understanding you properly, you had designers authoring the production rules?

965
00:59:20,921 --> 00:59:22,622
Sorry, this is another production rule question.

966
00:59:22,862 --> 00:59:23,082
Yes.

967
00:59:23,763 --> 00:59:29,807
And I was just curious, you know, on a good day, the great thing about production rules is you can kind of add more

968
00:59:29,887 --> 00:59:32,750
and they don't have bad interactions with one another and so on.

969
00:59:32,890 --> 00:59:33,070
Yeah.

970
00:59:33,290 --> 00:59:40,396
And on a bad day, it's like any other kind of, you know, code and you can get interactions between rules.

971
00:59:40,956 --> 00:59:41,196
Yes.

972
00:59:41,236 --> 00:59:42,657
To what extent did you have issues?

973
00:59:43,732 --> 00:59:49,013
with different designers adding rules into the system

974
00:59:50,113 --> 00:59:53,154
and having the rules step on one another?

975
00:59:53,174 --> 00:59:54,434
That's a good question.

976
00:59:54,994 --> 00:59:57,615
Well, there were two main guys, one producer and one designer,

977
00:59:57,895 --> 00:59:59,315
who were adding rules apart from me.

978
00:59:59,415 --> 01:00:01,396
So it wasn't like a huge bunch of people doing it.

979
01:00:01,676 --> 01:00:03,996
We did try and look at each other's stuff.

980
01:00:04,296 --> 01:00:08,477
The main problem we had was just adding too many rules too quickly.

981
01:00:08,797 --> 01:00:10,418
And so she went a bit crazy.

982
01:00:10,438 --> 01:00:11,238
I think there were 1,500 rules or something.

983
01:00:13,178 --> 01:00:16,821
And so for a bit it was a bit inefficient, because I wasn't anticipating adding this many fine,

984
01:00:16,941 --> 01:00:20,144
which is very cool, but these many fine-grained rules, but there was more rules than we expected.

985
01:00:20,584 --> 01:00:23,567
But also we had a sort of simple, it was a simple model of production rules.

986
01:00:23,587 --> 01:00:25,589
It didn't have, you know like in typical Horn clauses,

987
01:00:25,609 --> 01:00:28,631
you can have extra, extensionally quantified variables on the left-hand side.

988
01:00:29,032 --> 01:00:32,315
It didn't have that sort of functionality, so it was a less expressive system,

989
01:00:32,415 --> 01:00:36,858
unlike a classic Horn clause, which made it less easy to have some of the more hard problems.

990
01:00:37,259 --> 01:00:40,362
Was it actually a quantified system, or was it purely propositional?

991
01:00:40,712 --> 01:00:43,073
Well, it had three variables in it, but it didn't have any extra.

992
01:00:43,093 --> 01:00:47,256
You couldn't introduce a new variable that wasn't already part of the variables, if you know what I mean.

993
01:00:47,556 --> 01:00:48,576
Okay. Okay. Cool. Thanks.

994
01:00:48,636 --> 01:00:48,877
Thanks.

995
01:00:51,218 --> 01:00:51,498
Hey, man.

996
01:00:52,359 --> 01:00:58,322
Hey, Richard. Back in October, when I mentioned that I created a sim to model myself,

997
01:00:58,662 --> 01:01:02,925
you put me on the spot and said, what five traits did you choose for yourself?

998
01:01:03,565 --> 01:01:09,529
So I think a lot of people would hear, I know that you had to create a sim in your own image.

999
01:01:10,255 --> 01:01:14,980
It's just got to be natural. So what five traits did you choose for yourself?

1000
01:01:16,121 --> 01:01:18,343
I don't know. I honestly never tried to do that.

1001
01:01:19,184 --> 01:01:19,444
Oh!

1002
01:01:19,544 --> 01:01:24,529
Who have you tried to convince? If you were to do it now...

1003
01:01:25,089 --> 01:01:27,792
Thank you. Okay, thanks very much guys. Thank you.

