1
00:00:05,813 --> 00:00:09,936
Thanks for coming my talk superhumans of New York managing Marvel's spider-man's

2
00:00:09,936 --> 00:00:10,577
many faces.

3
00:00:10,577 --> 00:00:14,940
I'm now all's I are a character to the at insomniac games and as the title of

4
00:00:14,940 --> 00:00:16,061
the talk might imply.

5
00:00:16,061 --> 00:00:20,304
I'll be talking a bit about the work that went into creating the faces in our

6
00:00:20,304 --> 00:00:23,746
most recent game Marvel's spider-man which released last September.

7
00:00:23,746 --> 00:00:29,650
To be more specific I'll be talking about how we started setting up our

8
00:00:29,650 --> 00:00:32,652
process with a 3rd party studio to create facial rigs.

9
00:00:34,028 --> 00:00:37,190
I'll expand on how we added our own little twists along the way,

10
00:00:37,190 --> 00:00:40,513
and added edits to the art on our end.

11
00:00:40,513 --> 00:00:46,176
I'll cover how we tracked those changes as subsequent re-deliveries came in.

12
00:00:46,176 --> 00:00:49,398
And finally, I'll end with the work we did getting heads in the open world.

13
00:00:49,398 --> 00:00:54,241
But first, for anyone who's unfamiliar with the game or hasn't played it in a while,

14
00:00:54,241 --> 00:00:59,725
here's a trailer that features some of the facial work that went into the game.

15
00:00:59,725 --> 00:01:01,166
What is happening to our city, Yuri?

16
00:01:01,166 --> 00:01:02,466
I don't know.

17
00:01:03,423 --> 00:01:05,845
Feels like the end of the world.

18
00:01:05,845 --> 00:01:06,365
Maybe it is.

19
00:01:06,365 --> 00:01:10,107
Peter Parker!

20
00:01:10,107 --> 00:01:12,549
How the hell are you?

21
00:01:12,549 --> 00:01:15,590
The city is in danger.

22
00:01:15,590 --> 00:01:17,711
It needs our help.

23
00:01:17,711 --> 00:01:19,172
All of our help.

24
00:01:19,172 --> 00:01:23,094
Alright, well, call the play coach.

25
00:01:23,094 --> 00:01:26,156
Gang of costumed nutjobs is taking the city apart piece by piece.

26
00:01:26,156 --> 00:01:28,077
Time I returned the favor.

27
00:01:32,737 --> 00:01:34,957
This is opportunity knocking.

28
00:01:34,957 --> 00:01:39,498
You know the closer you get to them, the more you become a target, right?

29
00:01:39,498 --> 00:01:43,219
The closer I get, the better chance we have to stop them.

30
00:01:43,219 --> 00:01:51,841
I've ordered Silver Sable and her team to shoot you on sight.

31
00:01:51,841 --> 00:01:55,001
This city's had enough of your vigilante-ing.

32
00:01:55,001 --> 00:01:58,782
You're officially an enemy of the people.

33
00:02:06,700 --> 00:02:23,570
How do I call you?

34
00:02:23,570 --> 00:02:27,913
I mean, do you have, like, a cell phone in your pockets or something?

35
00:02:35,731 --> 00:02:39,212
Thank you.

36
00:02:39,212 --> 00:02:41,193
So going in, one of our biggest goals

37
00:02:41,193 --> 00:02:43,534
was to create a living, breathing New York.

38
00:02:43,534 --> 00:02:44,914
Since Spider-Man is a character

39
00:02:44,914 --> 00:02:47,875
so is often so inexorably tied to the city of New York,

40
00:02:47,875 --> 00:02:50,916
New York is often one of the most important characters.

41
00:02:50,916 --> 00:02:52,697
And in service of that goal,

42
00:02:52,697 --> 00:02:55,238
every character, big or small, had to feel real,

43
00:02:55,238 --> 00:02:56,718
whether you were in a cinematic

44
00:02:56,718 --> 00:02:57,898
or just walking down the street.

45
00:02:59,298 --> 00:03:01,279
We had a very high bar set.

46
00:03:01,279 --> 00:03:05,240
We essentially needed to have photo reel quality

47
00:03:05,240 --> 00:03:07,881
to our characters, and the interpersonal relationships

48
00:03:07,881 --> 00:03:09,742
had to deliver a punch.

49
00:03:09,742 --> 00:03:11,602
So we couldn't really skimp on anything.

50
00:03:11,602 --> 00:03:14,984
They had to have realistic and nuanced performances

51
00:03:14,984 --> 00:03:15,904
in order to hit our goals.

52
00:03:17,445 --> 00:03:20,386
So to fulfill those expectations,

53
00:03:20,386 --> 00:03:22,788
we'd also have to have lots of characters.

54
00:03:22,788 --> 00:03:24,609
As with most superhero stories,

55
00:03:24,609 --> 00:03:26,169
especially the Spider-Man ones,

56
00:03:26,169 --> 00:03:27,990
our story we were aspiring to tell

57
00:03:27,990 --> 00:03:30,612
was about big action and big implications,

58
00:03:30,612 --> 00:03:32,513
but rooted in a very personal story

59
00:03:32,513 --> 00:03:35,434
about Peter Parker and the people around him.

60
00:03:35,434 --> 00:03:37,135
Aspirationally, that's all great,

61
00:03:37,135 --> 00:03:39,597
but practically for character production and all that.

62
00:03:40,077 --> 00:03:41,838
it usually means a lot of work.

63
00:03:41,838 --> 00:03:43,499
And it meant that some featured characters

64
00:03:43,499 --> 00:03:45,920
in some of our cinematics were only featured

65
00:03:45,920 --> 00:03:49,082
once or twice in the entire game.

66
00:03:49,082 --> 00:03:52,183
And so we had to have them up to a certain level, though,

67
00:03:52,183 --> 00:03:54,144
so that they wouldn't stand out like a sore thumb

68
00:03:54,144 --> 00:03:55,545
against the other characters

69
00:03:55,545 --> 00:03:58,866
for whom we were devoting more time and resources.

70
00:03:58,866 --> 00:04:02,668
Final, oh, excuse me.

71
00:04:04,104 --> 00:04:08,287
So finally, these higher quality rigs were fine for the larger

72
00:04:08,287 --> 00:04:11,269
cinematics, but it had to feel like New York.

73
00:04:11,269 --> 00:04:14,011
And a little secret, New York is pretty heavily populated.

74
00:04:14,011 --> 00:04:17,934
So we would have to have rigs that would also

75
00:04:17,934 --> 00:04:21,016
be able to run in the open world for when you're out

76
00:04:21,016 --> 00:04:22,557
on the street, and we didn't want

77
00:04:22,557 --> 00:04:24,098
to turn the game into a slideshow

78
00:04:24,098 --> 00:04:25,179
every time you were outside.

79
00:04:27,290 --> 00:04:30,691
So realistic faces are very difficult to pull off.

80
00:04:30,691 --> 00:04:35,753
And with a game like this, it can really make or break it.

81
00:04:35,753 --> 00:04:40,455
And it takes a lot of time to get a system in place.

82
00:04:40,455 --> 00:04:44,456
And in the first year of production at our studio,

83
00:04:44,456 --> 00:04:47,557
we only had three riggers in the Burbank studio

84
00:04:47,557 --> 00:04:48,497
working on Spider-Man.

85
00:04:49,177 --> 00:04:53,339
And we hadn't really done a project production on this kind of level yet in

86
00:04:53,339 --> 00:04:54,239
our history.

87
00:04:54,239 --> 00:04:59,481
Though we've grown considerably now in our rigging team even doing something

88
00:04:59,481 --> 00:05:03,562
now from scratch, you know, it takes a super long time and you know, there's

89
00:05:03,562 --> 00:05:07,283
lots of R and D and it would be a steep uphill battle at the even at this

90
00:05:07,283 --> 00:05:08,444
point.

91
00:05:08,444 --> 00:05:11,585
For the higher quality characters, we might have a general idea of where to go,

92
00:05:11,585 --> 00:05:15,606
but it just it takes a lot of time and experimentation and make mistakes being

93
00:05:15,606 --> 00:05:18,727
made to kind of get to that point where we can create.

94
00:05:19,687 --> 00:05:23,789
characters at a quality that we were aspiring to.

95
00:05:23,789 --> 00:05:28,372
So, you know, we decided to instead approach a third party

96
00:05:28,372 --> 00:05:31,434
that knew what they were doing and had a system in place,

97
00:05:31,434 --> 00:05:32,595
and that party was 3Lateral.

98
00:05:34,484 --> 00:05:36,365
As you guys may have already heard of these guys,

99
00:05:36,365 --> 00:05:39,287
they've been making a pretty big splash

100
00:05:39,287 --> 00:05:41,649
in the last few years, but a quick summary on them

101
00:05:41,649 --> 00:05:43,351
for people who might not know.

102
00:05:43,351 --> 00:05:46,293
They specialize in data acquisition, processing,

103
00:05:46,293 --> 00:05:48,655
and creating rigs for interactive characters.

104
00:05:48,655 --> 00:05:51,678
Rigs are often based off of photogrammetry scans

105
00:05:51,678 --> 00:05:55,200
in order to get those realistic rigs

106
00:05:55,200 --> 00:05:56,521
as it was done in their work with us.

107
00:05:57,569 --> 00:05:59,855
No, they've worked with many methods of capturing data.

108
00:05:59,855 --> 00:06:02,583
For our purposes, they did scans of actors

109
00:06:02,583 --> 00:06:04,910
in neutral pose as well as doing fax poses.

110
00:06:06,819 --> 00:06:09,160
For anyone who's unfamiliar with FACTS

111
00:06:09,160 --> 00:06:11,661
or didn't go to Axel's great talk yesterday,

112
00:06:11,661 --> 00:06:14,262
I definitely recommend seeing it if it ever goes up

113
00:06:14,262 --> 00:06:17,303
on the internet at some point, the God of War talk.

114
00:06:17,303 --> 00:06:21,405
I'll be talking a bit about it during the presentation.

115
00:06:21,405 --> 00:06:23,085
So just to give anyone unfamiliar,

116
00:06:23,085 --> 00:06:24,746
crash course in a paragraph,

117
00:06:24,746 --> 00:06:26,687
it stands for Facial Action Coding System.

118
00:06:26,687 --> 00:06:28,988
And it's a system that was popularized

119
00:06:28,988 --> 00:06:31,749
about 30 years ago by a man named Paul Ekman.

120
00:06:31,749 --> 00:06:34,009
And it essentially breaks down anatomically

121
00:06:34,009 --> 00:06:35,890
possible muscle movements on a face.

122
00:06:36,773 --> 00:06:39,535
It was originally kind of developed as a psychology tool.

123
00:06:39,535 --> 00:06:41,856
So with this breakdown, since we're all experts,

124
00:06:41,856 --> 00:06:43,676
you can tell that I was having a kind of rough day

125
00:06:43,676 --> 00:06:45,777
when I took this picture.

126
00:06:45,777 --> 00:06:47,218
But it tends to lend itself well

127
00:06:47,218 --> 00:06:50,019
to creating realistic facial rigs

128
00:06:50,019 --> 00:06:51,780
and going into performance capture,

129
00:06:51,780 --> 00:06:54,761
and thus is often a sort of baseline

130
00:06:54,761 --> 00:06:56,462
for creating realistic facial rigs.

131
00:06:56,462 --> 00:06:59,363
Terminology can sometimes be different

132
00:06:59,363 --> 00:07:02,725
depending on what system people are using

133
00:07:02,725 --> 00:07:03,805
and things they set up,

134
00:07:03,805 --> 00:07:05,286
but this is the general thrust of it.

135
00:07:07,046 --> 00:07:09,788
So the rigs they made for us were to be joint based

136
00:07:09,788 --> 00:07:12,129
with corrective facial blend shapes

137
00:07:12,129 --> 00:07:14,030
using streaming tech in our engine.

138
00:07:14,030 --> 00:07:15,911
We were able to stream hundreds of blend shapes

139
00:07:15,911 --> 00:07:18,233
during cinematics and further polish and detail

140
00:07:18,233 --> 00:07:19,634
came from blending normal maps

141
00:07:19,634 --> 00:07:21,235
as well as blending color maps.

142
00:07:21,235 --> 00:07:24,196
These were derived from those photogrammetry scans

143
00:07:24,196 --> 00:07:27,218
and used to simulate wrinkles and blood pooling

144
00:07:27,218 --> 00:07:29,960
under the skin in more extreme poses.

145
00:07:29,960 --> 00:07:32,081
Finally, a custom embedded rig node

146
00:07:32,081 --> 00:07:33,522
that they shipped with each character.

147
00:07:34,889 --> 00:07:37,774
kind of did all the calculations for the rig logic

148
00:07:37,774 --> 00:07:40,017
under the hood instead of using utility nodes

149
00:07:40,017 --> 00:07:42,361
which allowed us to kind of play them back

150
00:07:42,361 --> 00:07:43,243
in the viewport in real time,

151
00:07:43,243 --> 00:07:45,186
which is a pretty cool thing

152
00:07:45,186 --> 00:07:47,150
considering how complicated they were.

153
00:07:48,023 --> 00:07:50,344
But anyways, this is all just for context,

154
00:07:50,344 --> 00:07:53,366
for this company and its methods.

155
00:07:53,366 --> 00:07:56,328
A lot of companies and teams are using similar methods,

156
00:07:56,328 --> 00:07:59,170
but if you'd like to know more specifically about them,

157
00:07:59,170 --> 00:08:00,571
their work and their process,

158
00:08:00,571 --> 00:08:03,953
you can see GDC talks they've presented,

159
00:08:03,953 --> 00:08:05,975
their website, their YouTube.

160
00:08:05,975 --> 00:08:07,596
And yeah, they're out there a lot.

161
00:08:09,267 --> 00:08:11,348
So for all these characters we needed,

162
00:08:11,348 --> 00:08:13,369
we set up multiple tiers for quality

163
00:08:13,369 --> 00:08:15,971
when setting up work agreements with 3Lateral.

164
00:08:15,971 --> 00:08:20,893
The way things worked out, we set up five tiers

165
00:08:20,893 --> 00:08:23,835
and first I'll go through tiers one through three

166
00:08:23,835 --> 00:08:26,096
since they were functionally fairly similar

167
00:08:26,096 --> 00:08:28,257
and then I'll follow with tier four and five.

168
00:08:30,068 --> 00:08:33,252
So, tiers one through three were any named characters.

169
00:08:33,252 --> 00:08:36,135
They were actors we had cast specifically for certain roles,

170
00:08:36,135 --> 00:08:38,898
and sometimes they were meant to be digital doubles,

171
00:08:38,898 --> 00:08:42,603
meaning it was a direct representation of the actor

172
00:08:42,603 --> 00:08:43,764
and their facial features,

173
00:08:43,764 --> 00:08:47,569
such as with Otto Octavius and Norman Osborn.

174
00:08:48,230 --> 00:08:51,691
Then we had other rigs that we coined characterized,

175
00:08:51,691 --> 00:08:53,352
meaning that they were based off of scans,

176
00:08:53,352 --> 00:08:55,193
but then edited to fit a design

177
00:08:55,193 --> 00:08:57,614
that the actor might not quite fit.

178
00:08:57,614 --> 00:08:58,694
And in the regular cases,

179
00:08:58,694 --> 00:09:00,475
it meant slight changes in physique

180
00:09:00,475 --> 00:09:02,996
for people like Peter Parker or Kingpin

181
00:09:02,996 --> 00:09:05,397
to kind of widen their necks and give them wider jaws.

182
00:09:05,397 --> 00:09:08,298
But then in the more extreme cases

183
00:09:08,298 --> 00:09:09,919
of this characterization after the fact,

184
00:09:09,919 --> 00:09:13,120
it meant things like adding severe scar tissue to Electro

185
00:09:13,120 --> 00:09:15,201
or fully changing the shape of the cranium

186
00:09:15,201 --> 00:09:17,182
and adding more scars for with Hammerhead.

187
00:09:18,098 --> 00:09:24,523
The series one through three essentially covered any characters that were kind of cast to be

188
00:09:24,523 --> 00:09:28,705
in a Golden Path cinematic more than once or twice.

189
00:09:28,705 --> 00:09:35,509
And I say at time of casting because there were actually some characters where they had

190
00:09:35,509 --> 00:09:39,892
been written as bigger roles, but then as rewrites happened for story cohesion, certain

191
00:09:39,892 --> 00:09:42,074
ones were cut just because we had a pretty crowded story.

192
00:09:44,407 --> 00:09:49,752
What we ended up doing with those facial rigs was just using them for other background characters

193
00:09:49,752 --> 00:09:53,075
that for whom we might have used a tier four or five rig.

194
00:09:53,075 --> 00:10:00,041
There was actually one character that we had cast and we put her into three separate roles

195
00:10:00,041 --> 00:10:03,765
and, you know, completely separate people in the game.

196
00:10:03,965 --> 00:10:09,076
I think able to get by with it because of some texture and hair styling wizardry from

197
00:10:09,076 --> 00:10:10,459
our character team.

198
00:10:10,459 --> 00:10:14,287
Actually all three were in this slideshow and you may or may not have noticed, but it's

199
00:10:14,287 --> 00:10:14,668
pretty cool.

200
00:10:15,796 --> 00:10:18,358
So the rigs were based off of scans of the actors

201
00:10:18,358 --> 00:10:20,379
doing the facial poses and the fax shapes

202
00:10:20,379 --> 00:10:21,359
I mentioned before.

203
00:10:21,359 --> 00:10:26,622
With the classification for the tiers one, two, or three,

204
00:10:26,622 --> 00:10:31,205
we kind of set up how much iteration and blend shapes

205
00:10:31,205 --> 00:10:32,866
would be kind of done by 3Lateral.

206
00:10:32,866 --> 00:10:36,148
So the tier one character was essentially the top

207
00:10:36,148 --> 00:10:37,569
and had a lot of iteration.

208
00:10:38,189 --> 00:10:40,251
Well, Tier 3 had a fair amount of custom work,

209
00:10:40,251 --> 00:10:42,674
but it was still one of those things where

210
00:10:42,674 --> 00:10:45,417
little inconsistencies between that and the scan were OK,

211
00:10:45,417 --> 00:10:47,199
as long as things didn't look broken,

212
00:10:47,199 --> 00:10:49,461
because they were minor characters.

213
00:10:49,461 --> 00:10:53,646
So we didn't go over it with as fine tooth a comb

214
00:10:53,646 --> 00:10:55,108
as we did with the major characters.

215
00:10:55,108 --> 00:10:59,312
So the way it broke down, major characters like Peter or MJ

216
00:10:59,312 --> 00:10:59,773
were Tier 1.

217
00:11:00,390 --> 00:11:02,652
Secondary but prominent and important characters

218
00:11:02,652 --> 00:11:05,454
like Captain Wapitanabe or Kingpin were tier two or three,

219
00:11:05,454 --> 00:11:08,216
with characters like Tombstone

220
00:11:08,216 --> 00:11:11,138
or the Rosemans Gallery Manager being tier three.

221
00:11:11,138 --> 00:11:13,300
As mentioned previously,

222
00:11:13,300 --> 00:11:15,621
these rigs had blending normal and diffuse maps

223
00:11:15,621 --> 00:11:17,903
to simulate wrinkles and skin flushing.

224
00:11:18,504 --> 00:11:21,247
So to that end, they delivered with eTrig,

225
00:11:21,247 --> 00:11:24,190
they sent us three wrinkle maps and three color maps,

226
00:11:24,190 --> 00:11:26,853
respectively, which were then masked out

227
00:11:26,853 --> 00:11:28,876
to create a total of 37 tracks that

228
00:11:28,876 --> 00:11:31,619
would blend in during animation to replace

229
00:11:31,619 --> 00:11:32,880
the normal in-color result.

230
00:11:35,187 --> 00:11:37,148
For those who have played the game,

231
00:11:37,148 --> 00:11:39,369
they might be aware we were fortunate enough

232
00:11:39,369 --> 00:11:41,470
to have the late legend Stan Lee agree

233
00:11:41,470 --> 00:11:42,911
to do the cameo in our game.

234
00:11:42,911 --> 00:11:45,612
And with him, we were able to also get the scans of him

235
00:11:45,612 --> 00:11:46,833
in the fax poses as well.

236
00:11:46,833 --> 00:11:48,794
So his wrinkle maps and all of it

237
00:11:48,794 --> 00:11:51,396
is actually derived from his data to recreate his likeness.

238
00:11:51,396 --> 00:11:53,717
It was awesome to be able to have him in our game

239
00:11:53,717 --> 00:11:55,378
and have it kind of have that.

240
00:11:55,658 --> 00:11:58,319
stamp of a true Marvel creation.

241
00:11:58,319 --> 00:12:01,080
For me personally, it made for a pretty surreal day

242
00:12:01,080 --> 00:12:04,681
making goofy faces at the Stan Lee

243
00:12:04,681 --> 00:12:06,521
while coaching him through the fax poses.

244
00:12:06,521 --> 00:12:08,762
He's a great sport about it and, you know,

245
00:12:08,762 --> 00:12:10,542
yeah, he's great and he'll be missed.

246
00:12:13,060 --> 00:12:16,402
So, tier four characters in Blow covered kind of just,

247
00:12:16,402 --> 00:12:18,583
yeah, background characters as needed.

248
00:12:18,583 --> 00:12:21,844
The minor characters are background people.

249
00:12:21,844 --> 00:12:24,505
They were based off of scans that we had done

250
00:12:24,505 --> 00:12:26,526
from an open call for studio employees

251
00:12:26,526 --> 00:12:29,287
and relatives who might be in town

252
00:12:29,287 --> 00:12:30,948
to go to a 3D scanning studio nearby

253
00:12:30,948 --> 00:12:32,888
where we did photogrammetry scans of them.

254
00:12:32,888 --> 00:12:35,709
Some of the scans ended up heavily edited,

255
00:12:35,709 --> 00:12:39,211
but that's kind of how the sort of baseline started.

256
00:12:39,787 --> 00:12:44,194
So if anyone knows any Insomniac employees or relatives of employees

257
00:12:44,194 --> 00:12:48,140
and might have seen some familiar faces in the game, chances are it was them.

258
00:12:49,258 --> 00:12:51,639
The scans, however, were only in the neutral pose.

259
00:12:51,639 --> 00:12:54,820
We never did the fax shapes and things like that.

260
00:12:54,820 --> 00:12:58,201
So what 3Lateral did was they took the neutral poses

261
00:12:58,201 --> 00:13:02,142
and based on some statistical estimation,

262
00:13:02,142 --> 00:13:05,203
then derived their movements and everything.

263
00:13:05,203 --> 00:13:08,784
Obviously, it was all still high quality

264
00:13:08,784 --> 00:13:10,704
and it had wrinkle maps and all that,

265
00:13:10,704 --> 00:13:13,805
and blend shapes and all that.

266
00:13:14,765 --> 00:13:18,308
But, yeah, it was not driven by scan data

267
00:13:18,308 --> 00:13:21,891
as none of that was available in this case.

268
00:13:21,891 --> 00:13:24,754
So, to that point, instead of the 37 wrinkle

269
00:13:24,754 --> 00:13:26,836
and color maps from the higher tiers,

270
00:13:26,836 --> 00:13:29,838
tier four rigs had 24 blending wrinkle map tracks

271
00:13:29,838 --> 00:13:30,279
and no color maps.

272
00:13:30,279 --> 00:13:35,524
They say tracks because since they didn't,

273
00:13:35,524 --> 00:13:37,085
they didn't have that information,

274
00:13:37,085 --> 00:13:39,227
they just set up the tracks in the logic.

275
00:13:39,825 --> 00:13:43,286
And what we ended up doing was kind of plugging that in

276
00:13:43,286 --> 00:13:46,467
and changing our skin shader a bit for these characters

277
00:13:46,467 --> 00:13:48,928
so then wrinkle maps would come in additively

278
00:13:48,928 --> 00:13:50,489
rather than replacing.

279
00:13:50,489 --> 00:13:53,790
And with that, we were able to share wrinkle maps

280
00:13:53,790 --> 00:13:54,970
between all these characters.

281
00:13:54,970 --> 00:13:57,671
And what we did was we made generic sets,

282
00:13:57,671 --> 00:13:59,652
one for male, female, and elderly.

283
00:14:02,357 --> 00:14:06,641
Finally for tier 5, we fed in a bunch of heads that had already been created for the game

284
00:14:06,641 --> 00:14:12,027
as seeds for a character creator of sorts, complete with sliders that 3Lateral had delivered

285
00:14:12,027 --> 00:14:14,449
to us to make new models in Maya.

286
00:14:15,243 --> 00:14:17,265
One of our character artists created a wide array

287
00:14:17,265 --> 00:14:20,047
of male and female heads of various races,

288
00:14:20,047 --> 00:14:23,591
ages, for various body types to cover civilians,

289
00:14:23,591 --> 00:14:26,053
thugs, heavy thugs, and police officers.

290
00:14:26,053 --> 00:14:28,135
Those character creator values were sent back to them

291
00:14:28,135 --> 00:14:30,057
and they created rigged versions

292
00:14:30,057 --> 00:14:32,700
using that same statistical approximation model

293
00:14:32,700 --> 00:14:33,560
and sent them back to us.

294
00:14:33,560 --> 00:14:35,462
All told, we had about 90 of them,

295
00:14:35,462 --> 00:14:37,804
so it was definitely a case

296
00:14:37,804 --> 00:14:40,587
where having a simple batchable command helped me out a lot.

297
00:14:41,757 --> 00:14:45,261
If some of this is sounding vaguely familiar,

298
00:14:45,261 --> 00:14:50,427
it's actually very close to the GeneSplicer technology base

299
00:14:50,427 --> 00:14:52,189
that they showed off in GDC 2017.

300
00:14:52,189 --> 00:14:57,836
At the, I believe it was at the Unreal Engine Summit.

301
00:14:58,907 --> 00:15:02,969
uh... but however for purposes it was it wasn't about trying to create rigs that

302
00:15:02,969 --> 00:15:07,170
would like work the run in runtime in the engine and like you have sliders and

303
00:15:07,170 --> 00:15:07,950
all that

304
00:15:07,950 --> 00:15:12,191
but just about creating a wide array of faces so then we could uh... kind of

305
00:15:12,191 --> 00:15:16,133
prop out our uh... cinematics with uh... good background people

306
00:15:17,772 --> 00:15:20,214
Anyways, functionally for our purposes on our end,

307
00:15:20,214 --> 00:15:24,037
they behaved very similar to the tier four heads

308
00:15:24,037 --> 00:15:26,259
with the same mesh topology and shader setup.

309
00:15:26,259 --> 00:15:28,200
So it was pretty much the same protocol

310
00:15:28,200 --> 00:15:30,102
except just on way more characters.

311
00:15:32,027 --> 00:15:34,629
So, that's a lot of things to keep on top of.

312
00:15:34,629 --> 00:15:37,090
As one might imagine, 3Laterals works load aside

313
00:15:37,090 --> 00:15:38,771
for creating all 150 of these rigs.

314
00:15:38,771 --> 00:15:41,913
It was a lot of files to track, integrate, vet,

315
00:15:41,913 --> 00:15:44,975
keep track of, and edit, especially considering

316
00:15:44,975 --> 00:15:47,536
that it was kind of only supposed to be me doing this,

317
00:15:47,536 --> 00:15:50,198
and it was with the expectation also

318
00:15:50,198 --> 00:15:52,599
that it wouldn't take up all of my time either,

319
00:15:52,599 --> 00:15:56,221
because there were always more things to create,

320
00:15:56,221 --> 00:15:58,602
other tools and pipelines to maintain,

321
00:15:58,602 --> 00:16:00,043
myas to crash, all of that.

322
00:16:01,072 --> 00:16:03,614
So I imagine lots more studios and projects

323
00:16:03,614 --> 00:16:06,456
are using these types of separate team situations

324
00:16:06,456 --> 00:16:10,038
to create facial rigs in the last few years,

325
00:16:10,038 --> 00:16:12,599
either through outside companies like we did,

326
00:16:12,599 --> 00:16:14,621
or in the case of the bigger publishers,

327
00:16:14,621 --> 00:16:17,483
they'll start to set up internal groups

328
00:16:17,483 --> 00:16:20,404
as shared resource groups for all their studios.

329
00:16:20,404 --> 00:16:22,886
I figure this situation's becoming more and more common,

330
00:16:22,886 --> 00:16:24,627
a common thing that might.

331
00:16:25,047 --> 00:16:29,855
be happening more and more in AAA, and even AA sometimes,

332
00:16:29,855 --> 00:16:32,239
hence the genesis of this talk, at least on my end.

333
00:16:32,239 --> 00:16:35,564
I figure it's a thing where a conversation on best practices

334
00:16:35,564 --> 00:16:37,708
might be a beneficial thing to start,

335
00:16:37,708 --> 00:16:40,052
whether or not ours turn out to be the best or far from it.

336
00:16:41,772 --> 00:16:44,553
So the first simple problem was processing the raw files

337
00:16:44,553 --> 00:16:45,393
they sent us.

338
00:16:45,393 --> 00:16:47,454
Since they weren't working off of our Perforce branch,

339
00:16:47,454 --> 00:16:49,915
they sent clean files based off of their own environment

340
00:16:49,915 --> 00:16:51,396
every single time.

341
00:16:51,396 --> 00:16:53,137
So anytime we sent feedback,

342
00:16:53,137 --> 00:16:54,538
a new version would come back to us

343
00:16:54,538 --> 00:16:56,719
and we'd have to process and integrate it again.

344
00:16:56,719 --> 00:17:01,581
And this happened over many months with many characters.

345
00:17:03,456 --> 00:17:05,617
So we wrote a tool to do that boring stuff

346
00:17:05,617 --> 00:17:08,499
and kind of batch through everything thrown our way.

347
00:17:08,499 --> 00:17:11,060
This processing tool at first started out

348
00:17:11,060 --> 00:17:14,141
as just a simple thing for adding controllers

349
00:17:14,141 --> 00:17:15,282
and body joints and.

350
00:17:16,058 --> 00:17:20,761
repassing textures changing changing their naming conventions to kind of just

351
00:17:20,761 --> 00:17:23,083
exactly fit with ours

352
00:17:23,083 --> 00:17:26,825
uh... and uh... you know set up attributes to control blend shapes and

353
00:17:26,825 --> 00:17:30,147
wrinkle maps and all that with our engine conventions

354
00:17:30,147 --> 00:17:34,470
but once we got the basic stuff down uh... we wanted to add hooks for you

355
00:17:34,470 --> 00:17:37,672
know extra functions for certain characters and stuff and all kind of go

356
00:17:37,672 --> 00:17:39,353
through all that uh... later

357
00:17:39,893 --> 00:17:42,595
This tool kind of started out as a simple, like,

358
00:17:42,595 --> 00:17:44,255
you know, couple button thing.

359
00:17:44,255 --> 00:17:46,657
So excuse the interface, because it's

360
00:17:46,657 --> 00:17:50,098
kind of one of those things where a small solution had

361
00:17:50,098 --> 00:17:51,879
to turn into a bigger and bigger solution.

362
00:17:51,879 --> 00:17:55,040
And it kind of turned into a gray sea of semi-buttons.

363
00:17:55,040 --> 00:17:56,441
But it got the job done.

364
00:17:56,441 --> 00:17:59,543
So one of the first things we tackled next

365
00:17:59,543 --> 00:18:03,504
was streamlining our feedback process with them.

366
00:18:04,362 --> 00:18:09,624
They're based out of Serbia, so we wanted to stick mostly to email communication,

367
00:18:09,624 --> 00:18:13,965
because in-person communication was obviously out of the question to do, like, super often.

368
00:18:13,965 --> 00:18:18,107
And also Skype calls would be considered kind of a last resort item,

369
00:18:18,107 --> 00:18:22,388
since, you know, we have that big time difference as well to deal with.

370
00:18:22,388 --> 00:18:25,449
So, as part of their deliveries to us, they would go through...

371
00:18:26,191 --> 00:18:30,273
They would go through the fax shapes and try and pose the rig to match.

372
00:18:30,273 --> 00:18:34,834
They would then assess internally and send the controller values used to get to the,

373
00:18:34,834 --> 00:18:38,136
to match with those photogrammetry scans.

374
00:18:38,136 --> 00:18:42,458
And in the margins of that spreadsheet, they would list

375
00:18:42,458 --> 00:18:46,599
any notes on discrepancies they had spotted on their own.

376
00:18:46,599 --> 00:18:51,001
So then, because of that, we wouldn't necessarily try and waste a lot of time

377
00:18:51,001 --> 00:18:53,902
communicating issues that they had already spotted.

378
00:18:53,902 --> 00:18:55,383
So that saves a little bit of time.

379
00:18:57,500 --> 00:18:59,162
So, since we had that spreadsheet,

380
00:18:59,162 --> 00:19:01,525
I wrote a function to read those controller values

381
00:19:01,525 --> 00:19:05,330
from that spreadsheet, create a calisthenics animation,

382
00:19:05,330 --> 00:19:07,893
and import the scans to match those timings.

383
00:19:07,893 --> 00:19:10,155
So then, with that, we could get a play blast

384
00:19:10,155 --> 00:19:11,757
of the delivered rig in Maya.

385
00:19:12,432 --> 00:19:15,174
We could export the animations to a test cinematic in our engine

386
00:19:15,174 --> 00:19:17,016
and get a play blast of the scans coming in.

387
00:19:17,016 --> 00:19:21,380
And all those captures were then brought into a template Premiere project

388
00:19:21,380 --> 00:19:23,822
to get a comparison between the delivered rig,

389
00:19:23,822 --> 00:19:27,205
how the animation was exporting to the engine,

390
00:19:27,205 --> 00:19:30,929
as well as a photogrammetry scan for a ground truth comparison.

391
00:19:31,859 --> 00:19:35,103
This allowed us to spot extra issues with the rig

392
00:19:35,103 --> 00:19:38,307
where we wanted to communicate that to 3Lateral,

393
00:19:38,307 --> 00:19:40,610
as well as suss out any potential issues

394
00:19:40,610 --> 00:19:44,394
that we might be having with the way the rig animation

395
00:19:44,394 --> 00:19:46,377
was being delivered to our engine

396
00:19:46,377 --> 00:19:48,880
for fixes that we might need to make on our end.

397
00:19:50,212 --> 00:19:51,993
With the help of the tool and the workflow we had set up,

398
00:19:51,993 --> 00:19:55,236
the process of creating these videos was actually

399
00:19:55,236 --> 00:19:56,858
turned into a simple enough process

400
00:19:56,858 --> 00:20:00,662
that I could kind of delegate it to a junior employee

401
00:20:00,662 --> 00:20:02,343
from our production services department

402
00:20:02,343 --> 00:20:05,566
who had very little Maya experience.

403
00:20:05,566 --> 00:20:07,448
And because of that, that was kind of off my plate

404
00:20:07,448 --> 00:20:08,649
so I could do other things.

405
00:20:08,649 --> 00:20:12,273
And an hour or so after a rig was delivered and processed,

406
00:20:12,273 --> 00:20:15,576
then my art director, Lied, and I, we would get a video.

407
00:20:15,877 --> 00:20:18,470
of that and then be able to just do quick draw overs

408
00:20:18,470 --> 00:20:20,339
and send back to 3Lateral as feedback.

409
00:20:21,349 --> 00:20:23,850
From that, I can say at least speaking on our end

410
00:20:23,850 --> 00:20:27,952
and our perspective, it made for a great working relationship

411
00:20:27,952 --> 00:20:32,094
where more often than not, we were on at least the same page

412
00:20:32,094 --> 00:20:33,675
about what we were trying to communicate.

413
00:20:33,675 --> 00:20:36,516
There were rarely that many miscommunications,

414
00:20:36,516 --> 00:20:40,498
which is, I think, pretty cool considering how often emails

415
00:20:40,498 --> 00:20:43,099
can turn into miscommunications when you're

416
00:20:43,099 --> 00:20:44,580
with someone who's four feet away

417
00:20:44,580 --> 00:20:46,181
versus on another continent.

418
00:20:48,825 --> 00:20:50,747
So when they delivered the heads to us,

419
00:20:50,747 --> 00:20:53,089
they always just had the standard eyelashes,

420
00:20:53,089 --> 00:20:55,512
brows, eyeball geometry, and all that.

421
00:20:55,512 --> 00:20:59,776
However, in order to hit the art direction we wanted,

422
00:20:59,776 --> 00:21:02,559
the character art team would make new assets

423
00:21:02,559 --> 00:21:05,142
for things like hair, eyelashes, beards, jewelry,

424
00:21:05,142 --> 00:21:06,343
and all that.

425
00:21:06,343 --> 00:21:09,486
And as time went on and iterative rig deliveries

426
00:21:09,486 --> 00:21:10,247
came back in,

427
00:21:10,908 --> 00:21:13,170
it became pretty clear that we would need a way

428
00:21:13,170 --> 00:21:15,914
to save out those extra changes we had gotten

429
00:21:15,914 --> 00:21:18,777
so then we wouldn't have to just keep saving it out

430
00:21:18,777 --> 00:21:20,980
and bringing stuff back in, transferring weights

431
00:21:20,980 --> 00:21:24,705
all the time because it would just be a big time sink

432
00:21:24,705 --> 00:21:26,687
and then potentially things might be forgotten.

433
00:21:27,536 --> 00:21:31,719
So to get around this a function was added to save extra meshes to a and

434
00:21:31,719 --> 00:21:36,762
associated data to a character post folder and the way it worked was to

435
00:21:36,762 --> 00:21:40,464
simply duplicate the selected measures arranging them into a matching hierarchy

436
00:21:40,464 --> 00:21:44,847
relative to the geometry folder for things like a lady groups and all that

437
00:21:44,847 --> 00:21:48,529
and we exported those duplicates with their materials to a separate file

438
00:21:48,529 --> 00:21:52,871
called extra measures and along with those it exported skin weight values and

439
00:21:52,871 --> 00:21:56,734
all that to a folder using our save skin weights tool.

440
00:21:57,472 --> 00:21:59,713
With that, re-importing those extra meshes,

441
00:21:59,713 --> 00:22:01,873
scanned it in their proper respective groups,

442
00:22:01,873 --> 00:22:05,114
was a fresh, into a fresh file that we got from them,

443
00:22:05,114 --> 00:22:08,255
was a simple button click with little or no thought

444
00:22:08,255 --> 00:22:09,316
or work required by us.

445
00:22:09,316 --> 00:22:14,657
So, even though they were doing very good with the face,

446
00:22:14,657 --> 00:22:16,278
very good work with the face,

447
00:22:16,278 --> 00:22:20,319
any neck movement was just purely for Adam's apple,

448
00:22:20,319 --> 00:22:22,740
you know, swallowing, flexing of the muscles

449
00:22:22,740 --> 00:22:24,920
for, you know, that intense performance.

450
00:22:25,816 --> 00:22:29,727
Basically, they were tasked with getting the facial movements, but neck deformation for

451
00:22:29,727 --> 00:22:33,638
head looks and body mechanics wasn't really under their purview under our work agreement.

452
00:22:34,294 --> 00:22:36,255
so it wasn't really on them to do it.

453
00:22:36,255 --> 00:22:39,679
What they delivered to us was a face with single joints

454
00:22:39,679 --> 00:22:43,042
for the head and neck, and the rest was just kind of skinned

455
00:22:43,042 --> 00:22:43,663
to a chest joint.

456
00:22:43,663 --> 00:22:47,026
It was a very simple and generic setup for basic movement.

457
00:22:47,026 --> 00:22:49,669
But as soon as we started getting those heads

458
00:22:49,669 --> 00:22:52,351
in Cinematics with some facial animation,

459
00:22:52,351 --> 00:22:55,174
it was pretty clear that we had to get the rest up in line

460
00:22:55,174 --> 00:22:56,776
with the level of polish with the face.

461
00:22:57,828 --> 00:23:02,073
Now, one thing that I feel is often missing from a lot of game characters is that polish

462
00:23:02,073 --> 00:23:04,816
work does tend to end kind of just at the chin.

463
00:23:05,142 --> 00:23:11,326
little or no work is done for creating a realistic and plausible feeling in the neck when the

464
00:23:11,326 --> 00:23:12,307
head turns.

465
00:23:12,307 --> 00:23:15,629
So you don't get that sternomastoid flex in the neck.

466
00:23:15,629 --> 00:23:20,451
And when you look down, there's often, you know, it's just, it's kind of trying to get

467
00:23:20,451 --> 00:23:21,532
things good enough.

468
00:23:21,532 --> 00:23:25,615
So, you know, you might get some gradual twists or something, but that's often the extent

469
00:23:25,615 --> 00:23:26,615
of it.

470
00:23:26,615 --> 00:23:32,899
Obviously, budgets and time being the way they are, it's, it's a simple, it's an understandable

471
00:23:32,899 --> 00:23:34,520
thing to kind of let go.

472
00:23:34,520 --> 00:23:34,900
But.

473
00:23:35,820 --> 00:23:37,800
In our case, we actually did, I think,

474
00:23:37,800 --> 00:23:39,901
since we were freed up in a lot of ways,

475
00:23:39,901 --> 00:23:41,542
we had the opportunity and time to push things

476
00:23:41,542 --> 00:23:42,302
a little bit further.

477
00:23:42,302 --> 00:23:44,883
And since we already had a few hundred corrective

478
00:23:44,883 --> 00:23:47,444
blend shapes coming in for the face,

479
00:23:47,444 --> 00:23:49,525
adding a few more for left, right,

480
00:23:49,525 --> 00:23:51,145
head up and head down movements

481
00:23:51,145 --> 00:23:53,126
was just kind of a drop in the bucket.

482
00:23:53,126 --> 00:23:55,147
We eventually also started to add fixers

483
00:23:55,147 --> 00:23:58,688
for combinations where it's looking down into the side

484
00:23:58,688 --> 00:24:00,509
because on some of those characters,

485
00:24:00,509 --> 00:24:02,590
things were maybe looking a little crunchy at times.

486
00:24:03,563 --> 00:24:04,965
though the meshes were pretty dense.

487
00:24:04,965 --> 00:24:10,369
Unfortunately, sometimes that last little bit of mesh density at the base of the

488
00:24:10,369 --> 00:24:13,151
neck to get that sort of sharp profile on characters

489
00:24:13,151 --> 00:24:16,734
who had more exposed necks wasn't quite there.

490
00:24:16,734 --> 00:24:20,417
So moving forward, it would probably be cool to integrate some wrinkle map

491
00:24:20,417 --> 00:24:21,998
tracks and stuff like that.

492
00:24:22,232 --> 00:24:25,076
But that would take some, you know,

493
00:24:25,076 --> 00:24:28,320
some, probably some schmoozing with the,

494
00:24:28,320 --> 00:24:30,703
with our shader tech artists, you know,

495
00:24:30,703 --> 00:24:32,205
in order to change up our shaders.

496
00:24:32,205 --> 00:24:35,329
So, might I mention, they're incredibly good looking,

497
00:24:35,329 --> 00:24:37,031
well dressed, and very smart.

498
00:24:39,503 --> 00:24:45,025
Anyways, for most of our characters, we sculpted correctives for them using some tools to streamline

499
00:24:45,025 --> 00:24:49,567
things using this workflow, where we generate duplicated targets of the sculpted corrective

500
00:24:49,567 --> 00:24:54,869
result, edit those and quickly update the resulting shapes by extracting deltas, essentially

501
00:24:54,869 --> 00:24:57,590
just creating a sort of link between all of that.

502
00:24:58,410 --> 00:25:02,596
then a script would set all of that up

503
00:25:02,596 --> 00:25:05,280
and then when you extract the deltas again,

504
00:25:05,280 --> 00:25:08,104
a preset calisthenics animation would come up

505
00:25:08,104 --> 00:25:11,208
and let you see how the correctives

506
00:25:11,208 --> 00:25:12,870
is blended into each other.

507
00:25:14,006 --> 00:25:16,568
It might be worth mentioning that we did our production

508
00:25:16,568 --> 00:25:18,630
in Maya 2016 before they added the shape editor.

509
00:25:18,630 --> 00:25:21,873
So the creation of these tools was born largely

510
00:25:21,873 --> 00:25:25,456
out of some lack of reliability that we were having

511
00:25:25,456 --> 00:25:26,977
when using the old blend shape editor

512
00:25:26,977 --> 00:25:31,281
and using the sculpt tool where sometimes edits

513
00:25:31,281 --> 00:25:32,962
were saving to the base mesh rather than

514
00:25:32,962 --> 00:25:34,463
the corrective we were editing.

515
00:25:34,463 --> 00:25:37,906
Now that we're on a newer version of Maya,

516
00:25:37,906 --> 00:25:39,408
I'm gonna be kind of...

517
00:25:40,270 --> 00:25:45,923
I guess, evaluating the new stuff and seeing if we phase this out, if it turns out to be

518
00:25:45,923 --> 00:25:46,986
stable and useful.

519
00:25:46,986 --> 00:25:47,667
Just a little note.

520
00:25:50,432 --> 00:25:52,572
So if we ever needed any other custom shapes,

521
00:25:52,572 --> 00:25:56,293
there was also a tool to easily set up a cone pose reader

522
00:25:56,293 --> 00:26:00,394
on specified joints for pose-based deformation

523
00:26:00,394 --> 00:26:02,774
and add that to the arsenal of correctives

524
00:26:02,774 --> 00:26:05,395
for some of the more major characters.

525
00:26:05,395 --> 00:26:07,795
And it was usually just things like, yeah,

526
00:26:07,795 --> 00:26:10,176
raising the clavicles for people like Peter,

527
00:26:10,176 --> 00:26:14,296
or also there were some cases where we had some edge cases

528
00:26:14,296 --> 00:26:18,037
for doing like skin-to-skin contact with the, you know.

529
00:26:18,563 --> 00:26:22,807
the with any kissing that the game may or may not have ended on.

530
00:26:22,807 --> 00:26:25,048
Once we're done with the correctives,

531
00:26:25,048 --> 00:26:26,429
using those same tools,

532
00:26:26,429 --> 00:26:29,111
we can just export it out to that extra,

533
00:26:29,111 --> 00:26:32,234
that character post folder and it would store

534
00:26:32,234 --> 00:26:35,976
anything so then it can be brought back in on future deliveries.

535
00:26:37,780 --> 00:26:41,142
Since a pipeline had already been written to export shapes out to a folder and store

536
00:26:41,142 --> 00:26:45,104
them, we were actually occasionally able to find some secondary uses.

537
00:26:45,104 --> 00:26:51,348
One notable one was that we were able to create a pretty easily scriptable neck jiggle rig

538
00:26:51,348 --> 00:26:51,908
for Kingpin.

539
00:26:51,908 --> 00:26:58,132
As he is a heavyset gentleman, we realized that things were looking a little static under

540
00:26:58,132 --> 00:26:58,492
his chin.

541
00:26:59,312 --> 00:27:04,520
uh... but the issue was that his uh... his regard he had neck influences from

542
00:27:04,520 --> 00:27:08,726
the facial ring so we can necessarily just throw join on top of it and uh...

543
00:27:08,726 --> 00:27:11,309
you know not mess with the facial animation so that was an option

544
00:27:12,593 --> 00:27:15,375
But using the jiggle on a middle controller

545
00:27:15,375 --> 00:27:16,576
of a standard Maya muscle rig,

546
00:27:16,576 --> 00:27:19,418
we were able to set up driven blend shapes.

547
00:27:19,418 --> 00:27:23,921
So we had three of them for movement in the positive axis,

548
00:27:23,921 --> 00:27:26,283
positive direction in the X, Y, and Z axes,

549
00:27:26,283 --> 00:27:27,764
which would then bring in

550
00:27:27,764 --> 00:27:30,226
and then drive in the positive and negative.

551
00:27:30,226 --> 00:27:32,368
And we were basically able to kind of

552
00:27:32,368 --> 00:27:35,870
create a joint movement in a sort of faked way,

553
00:27:35,870 --> 00:27:38,032
so then the jiggle blend shapes

554
00:27:38,032 --> 00:27:38,913
and the neck could coexist.

555
00:27:40,737 --> 00:27:42,641
For cinematics, we would go through and do a pass

556
00:27:42,641 --> 00:27:45,145
on baking those controllers for his jowl jiggle.

557
00:27:45,145 --> 00:27:48,231
It was a subtle thing that no consumers likely notice in game,

558
00:27:48,231 --> 00:27:49,493
but it at least made me happy.

559
00:27:49,493 --> 00:27:49,833
There you go.

560
00:27:54,308 --> 00:27:56,729
So that blend shape stuff worked for cinematics,

561
00:27:56,729 --> 00:28:00,111
but we couldn't have those blend shapes streaming in gameplay

562
00:28:00,111 --> 00:28:03,173
because that is something that is very much just delegated to,

563
00:28:03,173 --> 00:28:07,635
very much, you know, specific to cinematics.

564
00:28:07,635 --> 00:28:12,057
So we needed a gradual neck twist rig for the neck,

565
00:28:12,057 --> 00:28:13,238
and also while we were at it,

566
00:28:13,238 --> 00:28:15,279
needed a way to load in clavicle skinning

567
00:28:15,279 --> 00:28:17,260
since that area was just skin to the chest.

568
00:28:18,246 --> 00:28:20,568
So we had to add them all after the fact,

569
00:28:20,568 --> 00:28:22,350
but at the same time we wanted to avoid

570
00:28:22,350 --> 00:28:25,212
messing with the three laterals skin weights for the face.

571
00:28:25,212 --> 00:28:26,974
In order to edit the clavicle weighting

572
00:28:26,974 --> 00:28:30,357
and add gradual weighting in a clean scalable way,

573
00:28:30,357 --> 00:28:32,779
as with all other edits, which was the goal.

574
00:28:34,028 --> 00:28:38,874
We added a feature to our import skin weights tool

575
00:28:38,874 --> 00:28:43,760
called relative mode, where weights could be brought in to only affect

576
00:28:43,760 --> 00:28:46,864
the weights of influences from the imported skin data file.

577
00:28:46,864 --> 00:28:51,450
So that way, if the tool loaded a skin data file with weights only for the head,

578
00:28:52,071 --> 00:28:53,812
neck twists, joints, and clavicles and chest,

579
00:28:53,812 --> 00:28:55,594
it would only affect the weight share values

580
00:28:55,594 --> 00:28:57,755
for those influences while leaving

581
00:28:57,755 --> 00:28:59,356
the facial weights untouched,

582
00:28:59,356 --> 00:29:01,738
making it easy to load in fresh deliveries

583
00:29:01,738 --> 00:29:03,339
to other rigs completely as long as

584
00:29:03,339 --> 00:29:04,400
they shared the same topology.

585
00:29:04,400 --> 00:29:06,962
So you can see this extreme example here

586
00:29:06,962 --> 00:29:10,624
where I'm gonna skin his cranium to the clavicle.

587
00:29:10,624 --> 00:29:13,847
I can save it out and then load it back in

588
00:29:13,847 --> 00:29:14,968
in a relative mode.

589
00:29:15,348 --> 00:29:19,290
onto a version of the rig that has all the face joints.

590
00:29:19,290 --> 00:29:22,692
And you can see that it now only affects that area

591
00:29:22,692 --> 00:29:24,854
while leaving the facial joints untouched.

592
00:29:24,854 --> 00:29:28,896
So to break down exactly what we're doing to achieve this,

593
00:29:28,896 --> 00:29:31,077
I'll go over a quick example.

594
00:29:31,077 --> 00:29:32,478
Warning, there will be a bit of math,

595
00:29:32,478 --> 00:29:34,559
but don't worry, it's simple and quick

596
00:29:34,559 --> 00:29:36,040
because I went to art school

597
00:29:36,040 --> 00:29:38,742
and I was only required to take one math class

598
00:29:38,742 --> 00:29:40,143
and it was actually just called math.

599
00:29:41,342 --> 00:29:43,584
So, say we have a head.

600
00:29:43,584 --> 00:29:45,986
If we were to look at vert 7,729,

601
00:29:45,986 --> 00:29:47,868
we see it's weight values here.

602
00:29:47,868 --> 00:29:51,772
So, if we load in a skin data file,

603
00:29:51,772 --> 00:29:55,036
the skin data file has neck, head,

604
00:29:55,036 --> 00:29:57,258
and neck twist joint influence data only,

605
00:29:57,258 --> 00:29:59,400
and not the hundreds of facial joints

606
00:29:59,400 --> 00:30:02,883
that are included in this sort of thing.

607
00:30:02,883 --> 00:30:03,044
So,

608
00:30:03,693 --> 00:30:06,434
We look at the weight data for the same vert

609
00:30:06,434 --> 00:30:07,995
from the skin data file,

610
00:30:07,995 --> 00:30:11,457
and we see that it's 0.5 neck for twist and 0.5 head.

611
00:30:11,457 --> 00:30:14,958
All that really matters here is the 50-50 split.

612
00:30:14,958 --> 00:30:18,620
Since we're working in relative mode,

613
00:30:18,620 --> 00:30:21,021
we're only concerned with the influences

614
00:30:21,021 --> 00:30:22,942
that are in the skin data file,

615
00:30:22,942 --> 00:30:24,503
and so jaw bulge and jaw line

616
00:30:24,503 --> 00:30:26,584
aren't influences in the skin data file.

617
00:30:26,584 --> 00:30:28,285
We'll leave them alone,

618
00:30:28,285 --> 00:30:31,687
and only affect the 0.35 remaining influence.

619
00:30:32,667 --> 00:30:36,630
Then we basically multiply out the incoming influences

620
00:30:36,630 --> 00:30:38,212
by 0.35, zero out any other influences,

621
00:30:38,212 --> 00:30:40,393
and match them with the skin data file,

622
00:30:40,393 --> 00:30:42,515
and we have a normalized result.

623
00:30:42,515 --> 00:30:48,320
So, once the weights were set, just like everything else,

624
00:30:48,320 --> 00:30:51,502
we needed a sustainable way to export them out,

625
00:30:51,502 --> 00:30:53,764
sans facial joints.

626
00:30:53,764 --> 00:30:56,186
So, essentially we needed a way to do the inverse

627
00:30:56,186 --> 00:30:57,907
of that process that I just described.

628
00:30:58,802 --> 00:31:01,464
So at Insomniac, we do have some tools

629
00:31:01,464 --> 00:31:02,885
for saving out skin weights.

630
00:31:02,885 --> 00:31:04,886
What it does is it basically takes the weight values

631
00:31:04,886 --> 00:31:06,887
for each vert and then just exports them out

632
00:31:06,887 --> 00:31:08,048
as a JSON formatted file.

633
00:31:08,048 --> 00:31:10,670
It's a thing that we just tend to do a lot quickly

634
00:31:10,670 --> 00:31:12,571
to just quickly rebind a thing

635
00:31:12,571 --> 00:31:15,112
or just share some weights between things

636
00:31:15,112 --> 00:31:16,633
as long as they share mesh topology.

637
00:31:16,633 --> 00:31:19,555
So since our save skin weights tool output

638
00:31:19,555 --> 00:31:22,697
was a collection of data in a simple dictionary,

639
00:31:22,697 --> 00:31:25,699
I was able to interact with that data to get what we needed.

640
00:31:26,970 --> 00:31:30,292
So while the regular one was saving out joints

641
00:31:30,292 --> 00:31:32,593
for the entire skin cluster,

642
00:31:32,593 --> 00:31:35,755
I was able to write something that would output

643
00:31:35,755 --> 00:31:37,736
as a separate file with edited values.

644
00:31:37,736 --> 00:31:40,017
So along with exporting skin for this full skeleton,

645
00:31:40,017 --> 00:31:44,099
it exported a skin for the skeleton

646
00:31:44,099 --> 00:31:46,580
that had the body joints and none of the facial joints.

647
00:31:46,580 --> 00:31:49,562
As you can see, there are a lot of facial joints,

648
00:31:49,562 --> 00:31:52,163
but fortunately they were all under two

649
00:31:52,163 --> 00:31:55,485
sort of root joints, one for the head

650
00:31:55,485 --> 00:31:56,566
and one for the neck.

651
00:31:57,612 --> 00:32:01,244
So I was able to make something that could generically detect all face joints, whether

652
00:32:01,244 --> 00:32:04,596
they were under the hierarchy of the face or under the hierarchy of the neck.

653
00:32:05,902 --> 00:32:10,162
The tool would then transfer weight values for all face joints to the head and all neck

654
00:32:10,162 --> 00:32:13,343
joints from the face rig and twist joint for the head.

655
00:32:13,343 --> 00:32:17,764
The result would be an extra non-face skin data file for the mesh that could be brought

656
00:32:17,764 --> 00:32:22,525
back on the rig in relative mode for new deliveries.

657
00:32:22,525 --> 00:32:27,086
Since we shared topology between all the heads, this would actually work on other files as

658
00:32:27,086 --> 00:32:29,847
well if we wanted to do some recycling to get that clavicle weight in.

659
00:32:31,885 --> 00:32:33,865
So if there are any math whizzes in the audience

660
00:32:33,865 --> 00:32:35,286
going through these numbers in their head,

661
00:32:35,286 --> 00:32:36,846
they might have noticed a little bit of a problem

662
00:32:36,846 --> 00:32:38,047
with the approach from the last slide.

663
00:32:38,047 --> 00:32:41,208
If the facial animation from the neck joints

664
00:32:41,208 --> 00:32:42,648
were being saved out to the end twist joint,

665
00:32:42,648 --> 00:32:46,230
it creates a situation where the end controller

666
00:32:46,230 --> 00:32:48,130
gets more influence as it's saved out

667
00:32:48,130 --> 00:32:52,232
because it takes more and more relative influence

668
00:32:52,232 --> 00:32:54,333
from the resulting file.

669
00:32:54,333 --> 00:32:54,993
Let me break it down.

670
00:32:54,993 --> 00:32:57,494
If we look back on our old friend, vert 7729,

671
00:32:59,435 --> 00:33:01,056
If we go by this formula of saving out

672
00:33:01,056 --> 00:33:03,516
the non-face skin data file,

673
00:33:03,516 --> 00:33:07,437
we take the facial joints and migrate the weighting

674
00:33:07,437 --> 00:33:08,617
to the head joint.

675
00:33:08,617 --> 00:33:12,118
And if the head and neck forward twist ratio,

676
00:33:12,118 --> 00:33:14,178
which used to be one to one,

677
00:33:14,178 --> 00:33:15,819
is actually now very unbalanced.

678
00:33:15,819 --> 00:33:17,959
So if we were to turn it back around

679
00:33:17,959 --> 00:33:19,979
and reload the weights back in in relative mode,

680
00:33:19,979 --> 00:33:21,380
we actually have a lot more weighting

681
00:33:21,380 --> 00:33:22,280
on the head than before.

682
00:33:22,280 --> 00:33:25,081
And the more and more of these weights are saved out,

683
00:33:25,081 --> 00:33:26,341
the worse the problem gets.

684
00:33:28,045 --> 00:33:31,469
you know, it still isn't messing with the facial joint,

685
00:33:31,469 --> 00:33:33,431
that's the facial joints,

686
00:33:33,431 --> 00:33:35,113
but that's still, you know,

687
00:33:35,113 --> 00:33:37,796
that was the main purpose of this,

688
00:33:37,796 --> 00:33:40,880
but things are getting more skewed.

689
00:33:40,880 --> 00:33:43,763
So really all I can say is

690
00:33:43,763 --> 00:33:45,125
I concur with Dr. Octavius on this one.

691
00:33:45,780 --> 00:33:48,322
Luckily, this process started to kind of come online

692
00:33:48,322 --> 00:33:50,264
when the rigs were closer to being completed.

693
00:33:50,264 --> 00:33:52,585
So even though it was possible

694
00:33:52,585 --> 00:33:54,427
that it slowly started to offset things,

695
00:33:54,427 --> 00:33:56,168
it never really became an issue

696
00:33:56,168 --> 00:33:58,150
because we were always re-extracting deltas

697
00:33:58,150 --> 00:34:01,072
for those bun shapes because we were always

698
00:34:01,072 --> 00:34:04,114
saving out those bases and then just redoing it.

699
00:34:04,114 --> 00:34:06,576
It's just a little like clerical error on my part

700
00:34:06,576 --> 00:34:09,778
that luckily didn't really balloon into anything.

701
00:34:09,778 --> 00:34:11,600
And if I'm being honest, I didn't even notice it

702
00:34:11,600 --> 00:34:13,721
until I was preparing this presentation.

703
00:34:15,663 --> 00:34:19,265
But, you know, what I'll probably change in the future now

704
00:34:19,265 --> 00:34:23,368
for this scheme is basically have it export out to a joint

705
00:34:23,368 --> 00:34:26,810
that can just kind of serve as a dummy that exists in both.

706
00:34:26,810 --> 00:34:30,993
So like, we actually don't actually use the base,

707
00:34:30,993 --> 00:34:32,594
like neck joint at all,

708
00:34:32,594 --> 00:34:34,715
like the one that drives the twist joints.

709
00:34:34,715 --> 00:34:36,596
So I'll likely just put the stuff into there.

710
00:34:36,596 --> 00:34:38,317
So then it just serves as a container

711
00:34:38,317 --> 00:34:40,278
and then it all just goes back out to the face anyways

712
00:34:40,278 --> 00:34:41,099
when you load it back in.

713
00:34:41,865 --> 00:34:44,648
But, yeah, if you guys want to do this sort of thing,

714
00:34:44,648 --> 00:34:47,730
just keep that in mind and be better than me.

715
00:34:47,730 --> 00:34:49,812
So, for the rest of you who've been glazing over

716
00:34:49,812 --> 00:34:51,894
for the last couple of minutes,

717
00:34:51,894 --> 00:34:52,655
time to unglaze,

718
00:34:52,655 --> 00:34:55,998
because we're going away from the land of numbers

719
00:34:55,998 --> 00:34:57,899
and into triangulating quad meshes.

720
00:34:57,899 --> 00:34:59,080
So maybe keep Facebook handy.

721
00:35:00,647 --> 00:35:02,748
So with all that workflow solved,

722
00:35:02,748 --> 00:35:04,729
one confusing snag we ran into

723
00:35:04,729 --> 00:35:06,470
for getting our models in engine

724
00:35:06,470 --> 00:35:08,571
was things would look fine in Maya,

725
00:35:08,571 --> 00:35:09,931
but when we exported things out,

726
00:35:09,931 --> 00:35:11,992
there was this odd disconnect between

727
00:35:11,992 --> 00:35:14,993
the way it looked in Maya and the way it was in the engine.

728
00:35:14,993 --> 00:35:17,314
We were getting this sort of sawtooth thing

729
00:35:17,314 --> 00:35:19,695
and jagginess along the silhouette of the neck

730
00:35:19,695 --> 00:35:20,496
at certain times.

731
00:35:20,496 --> 00:35:23,277
I asked around to other riggers, our engine people,

732
00:35:23,277 --> 00:35:24,678
and did lots of frantic Googling

733
00:35:24,678 --> 00:35:26,198
to find out what was going on,

734
00:35:26,198 --> 00:35:27,759
and I was pretty perplexed.

735
00:35:28,299 --> 00:35:31,401
We ran side-by-side overlays, had no idea what was going on.

736
00:35:31,401 --> 00:35:34,224
I was thinking maybe there was something wrong with the engine,

737
00:35:34,224 --> 00:35:36,665
but I was wrong because our core department is amazing.

738
00:35:36,665 --> 00:35:39,407
Please give us more features.

739
00:35:39,407 --> 00:35:43,370
And, you know, what I accidentally stumbled backwards into

740
00:35:43,370 --> 00:35:49,175
was figuring out a lot about the way Maya triangulates quads.

741
00:35:49,175 --> 00:35:52,037
For any four-sided face, Maya accepts that shape,

742
00:35:52,037 --> 00:35:56,360
but quietly triangulates those faces by connecting the two closest corners.

743
00:35:57,122 --> 00:35:59,644
Since it does this all quietly, you don't really notice it,

744
00:35:59,644 --> 00:36:01,805
except for the telltale pops that you kind of get

745
00:36:01,805 --> 00:36:04,567
when a mesh is moving,

746
00:36:04,567 --> 00:36:07,349
and two corners are suddenly the new ones

747
00:36:07,349 --> 00:36:08,530
that are closest to each other.

748
00:36:08,530 --> 00:36:11,453
There are ways that you can kind of display it in Maya,

749
00:36:11,453 --> 00:36:13,434
which you might be able to see here,

750
00:36:13,434 --> 00:36:15,216
but either way, yeah, you can turn on something

751
00:36:15,216 --> 00:36:16,497
where it'll softly show it,

752
00:36:16,497 --> 00:36:18,878
and you can see it switch when you move verts around.

753
00:36:18,878 --> 00:36:21,640
So there was kind of the rub.

754
00:36:21,640 --> 00:36:25,363
It was dynamically re-triangulating that stuff in Maya.

755
00:36:26,377 --> 00:36:30,982
And, but your average game engine actually just takes the triangulation at bind pose

756
00:36:30,982 --> 00:36:32,904
and keeps that.

757
00:36:32,904 --> 00:36:35,428
So that's where the mismatch was coming from.

758
00:36:35,428 --> 00:36:37,170
The resulting model was different.

759
00:36:37,170 --> 00:36:42,856
So unfortunately there's no way I actually know of to disable that in Maya, but fortunately

760
00:36:42,856 --> 00:36:46,020
I found a little hack where you can just throw a poly-triangulate modifier.

761
00:36:46,363 --> 00:36:48,964
to get a more accurate visual of what it might look like in an engine.

762
00:36:48,964 --> 00:36:53,285
But one trick to getting it to come in before the deformers

763
00:36:53,285 --> 00:36:56,927
is, you know, that's something that's actually necessary

764
00:36:56,927 --> 00:36:59,187
because if you throw it in after the deformers,

765
00:36:59,187 --> 00:37:01,208
it'll still dynamically re-triangulate.

766
00:37:01,208 --> 00:37:04,069
You'll just get the hard line instead of the dotted line

767
00:37:04,069 --> 00:37:04,890
in that sort of mode.

768
00:37:04,890 --> 00:37:09,531
So, it's, instead of triangulating the head mesh,

769
00:37:09,531 --> 00:37:11,992
what you need to do is triangulate the ridge mesh.

770
00:37:12,993 --> 00:37:13,913
What's the RidgeMesh?

771
00:37:13,913 --> 00:37:17,476
For anyone who might not know what I'm talking about,

772
00:37:17,476 --> 00:37:19,337
it's essentially a copy of a shape node

773
00:37:19,337 --> 00:37:21,399
that Maya creates when you throw a deformer onto it.

774
00:37:21,399 --> 00:37:24,841
And that shape node kind of serves as an input

775
00:37:24,841 --> 00:37:27,343
to the deformer to kind of give it a baseline

776
00:37:27,343 --> 00:37:28,804
to offset for the things.

777
00:37:28,804 --> 00:37:33,587
So if you run an operation like polytriangulate

778
00:37:33,587 --> 00:37:35,629
just on the regular head mesh,

779
00:37:35,629 --> 00:37:38,631
you can rearrange deformers,

780
00:37:38,631 --> 00:37:41,393
you can rearrange inputs and stuff on anything in Maya.

781
00:37:42,145 --> 00:37:46,110
But Maya will actually block you from rearranging anything

782
00:37:46,110 --> 00:37:49,334
that edits the mesh until it still always

783
00:37:49,334 --> 00:37:50,895
has to be after any deformers.

784
00:37:50,895 --> 00:37:53,659
It's probably something that they kind of put into place

785
00:37:53,659 --> 00:37:55,921
to prevent chaos and tears.

786
00:37:55,921 --> 00:38:01,227
But we tech artists, we deal in chaos and tears all the time.

787
00:38:02,247 --> 00:38:04,609
If you, the way you can do though,

788
00:38:04,609 --> 00:38:06,450
is just throw it on the ridge mesh instead,

789
00:38:06,450 --> 00:38:07,992
and then you can kind of just trick it

790
00:38:07,992 --> 00:38:11,074
into coming in before the deformation.

791
00:38:11,074 --> 00:38:13,677
And luckily, the poly-triangulate modifier

792
00:38:13,677 --> 00:38:17,520
doesn't actually rearrange vertices or anything like that,

793
00:38:17,520 --> 00:38:19,862
so the resulting deformations are fine.

794
00:38:19,862 --> 00:38:22,404
And here it is in the node editor.

795
00:38:22,404 --> 00:38:24,766
It's all a little bit more simple than it probably looks.

796
00:38:24,766 --> 00:38:27,148
But, that didn't solve the deeper problem.

797
00:38:27,786 --> 00:38:32,969
The fact was, triangulation in Biden Pose was fighting our ability to get a good silhouette.

798
00:38:32,969 --> 00:38:36,891
The triangulations weren't going along the sternal mastoid as we wanted, but they were

799
00:38:36,891 --> 00:38:41,073
actually going perpendicular, which was creating that sawtoothing.

800
00:38:41,073 --> 00:38:46,096
So along the lines of the hack to solve the dynamic re-triangulation issue, I found a

801
00:38:46,096 --> 00:38:49,077
surprisingly simple way to kind of feed in a new base mesh.

802
00:38:50,948 --> 00:38:53,210
What you can do is you can connect a new mesh

803
00:38:53,210 --> 00:38:56,074
to the inMesh attribute of the hidden arid shape

804
00:38:56,074 --> 00:38:58,637
and then immediately disconnect it

805
00:38:58,637 --> 00:39:01,179
and you've essentially kind of done a convoluted way

806
00:39:01,179 --> 00:39:04,503
of doing a set adder to just replace that mesh.

807
00:39:05,746 --> 00:39:09,848
and as long as the order is still the same, you're good.

808
00:39:09,848 --> 00:39:12,730
So we would create a duplicate of the mesh,

809
00:39:12,730 --> 00:39:15,151
run a poly-triangulate on the offending area,

810
00:39:15,151 --> 00:39:16,952
then flip the triangles in that area,

811
00:39:16,952 --> 00:39:20,414
and delete history, pipe it into the new mesh,

812
00:39:20,414 --> 00:39:23,356
and we've replaced the resulting triangle flow

813
00:39:23,356 --> 00:39:25,337
with something that's a little bit more pleasing to us.

814
00:39:25,337 --> 00:39:29,839
I included all this because I figured it might be useful

815
00:39:29,839 --> 00:39:32,521
for other people who kind of might run into this problem.

816
00:39:33,207 --> 00:39:36,450
uh... but i didn't really want to turn it into a big tutorial or anything

817
00:39:36,450 --> 00:39:38,652
but if you do want a big tutorial or something

818
00:39:38,652 --> 00:39:43,257
uh... actually did write one uh... about two years ago when i discovered it in a

819
00:39:43,257 --> 00:39:43,917
blog post

820
00:39:43,917 --> 00:39:48,602
at the time i was very heavily buried in the land of NDAs so i had to rely on

821
00:39:48,602 --> 00:39:52,746
placeholder assets and snarky flavor text but you should be able to you know

822
00:39:52,746 --> 00:39:53,907
get the point of all of it

823
00:39:53,907 --> 00:39:55,048
if anyone wants to do this

824
00:39:55,934 --> 00:39:57,495
So rather than listening me go into it,

825
00:39:57,495 --> 00:40:00,098
you can just snap a picture of this slide,

826
00:40:00,098 --> 00:40:03,001
ask me later, go to my Twitter or my website,

827
00:40:03,001 --> 00:40:05,584
noelsire.net, and it should be easy to find

828
00:40:05,584 --> 00:40:07,806
because I'm kind of lazy and don't blog nearly

829
00:40:07,806 --> 00:40:08,467
as much as I should.

830
00:40:10,857 --> 00:40:14,558
So this actually came in handy as a secondary way

831
00:40:14,558 --> 00:40:17,779
to do other things to edit other base meshes if we wanted.

832
00:40:17,779 --> 00:40:20,540
You could pipe in a new mesh for heavy thugs

833
00:40:20,540 --> 00:40:22,760
because we were deleting the blend shapes anyways

834
00:40:22,760 --> 00:40:26,761
and it was just saving those as deltas in the deformer.

835
00:40:26,761 --> 00:40:30,082
So we wanted to give the heavy thugs thicker necks

836
00:40:30,082 --> 00:40:31,102
so we were able to just do that

837
00:40:31,102 --> 00:40:33,743
and no need to propagate that all out

838
00:40:33,743 --> 00:40:35,383
to the hundreds of blend shapes.

839
00:40:35,844 --> 00:40:39,669
So, we did this to a few characters to change small things if we wanted, if we didn't want

840
00:40:39,669 --> 00:40:42,954
to deal with like, you know, sending it back and all that.

841
00:40:44,791 --> 00:40:48,812
This also came in handy as a nifty way to recycle neck bun shapes between characters.

842
00:40:48,812 --> 00:40:54,933
So you could bring in the base mesh of a character that had already gotten neck corrective bun shapes.

843
00:40:54,933 --> 00:41:00,574
Then you could import the correctives, as you see here with MJ.

844
00:41:00,574 --> 00:41:05,375
Then after that's in, then you feed back in the original mesh,

845
00:41:05,375 --> 00:41:11,076
and you found kind of a hacky way to recycle the bun shapes between the two of them.

846
00:41:11,076 --> 00:41:13,216
And, you know, kind of the heavy lifting is done at this point,

847
00:41:13,216 --> 00:41:14,637
and it's just, you know, polish.

848
00:41:16,765 --> 00:41:19,427
So that covered cinematics, but for gameplay,

849
00:41:19,427 --> 00:41:22,290
those heads were way too heavy to be in the open world

850
00:41:22,290 --> 00:41:25,092
for the amount of civilians we wanted on the street.

851
00:41:25,092 --> 00:41:28,536
The plan was to create a bunch of separate

852
00:41:28,536 --> 00:41:30,898
but very simple head rigs to do blinking,

853
00:41:30,898 --> 00:41:34,201
eye looks, maybe jaw flap, all that simple stuff.

854
00:41:34,201 --> 00:41:36,563
We played around with a few things at first.

855
00:41:36,563 --> 00:41:38,585
One notable test that I actually thought was pretty cool

856
00:41:38,585 --> 00:41:41,147
was doing facial animation through

857
00:41:41,693 --> 00:41:44,656
basically through the shaders where we

858
00:41:44,656 --> 00:41:48,118
sort out blend shape deltas as textures

859
00:41:48,118 --> 00:41:49,179
and then they just kind of came in.

860
00:41:49,179 --> 00:41:51,441
I couldn't actually find a video

861
00:41:51,441 --> 00:41:54,243
because it was super long time ago.

862
00:41:54,243 --> 00:41:54,563
But.

863
00:41:55,447 --> 00:41:58,470
Anyways, that was like kind of just feeding in blend shapes in a sort of cheap way.

864
00:41:58,470 --> 00:42:02,694
What we ended up electing to do though was a simple joint rig like the one shown here.

865
00:42:02,694 --> 00:42:09,299
And we were going to load those heads and attach them to the bodies at runtime,

866
00:42:09,299 --> 00:42:13,703
like per cycle, and using our built-in engine retargeting,

867
00:42:13,703 --> 00:42:19,188
animations could then just be shared across all heads.

868
00:42:19,188 --> 00:42:23,051
And here you go. You can see, you know, the sort of first test at that.

869
00:42:23,688 --> 00:42:26,349
Just simple stuff for a kind of face idle.

870
00:42:26,349 --> 00:42:29,852
However, it became clear pretty quickly

871
00:42:29,852 --> 00:42:32,533
with the massive amount of civilians

872
00:42:32,533 --> 00:42:34,414
we wanted in our open world at once

873
00:42:34,414 --> 00:42:37,276
where you could just see a super long distance.

874
00:42:37,276 --> 00:42:40,698
Even that was actually starting to become too heavy

875
00:42:40,698 --> 00:42:43,140
for our needs as doing that searching

876
00:42:43,140 --> 00:42:45,981
and matching per frame was actually starting

877
00:42:45,981 --> 00:42:46,682
to slow things down.

878
00:42:47,592 --> 00:42:52,295
So luckily our engine actually has a vanity mesh system for keeping multiple mesh groups

879
00:42:52,295 --> 00:42:56,837
within one model that can be toggled off and on and then you can set up groups for

880
00:42:56,837 --> 00:43:00,980
drawing things in randomly and all that from a predefined set.

881
00:43:02,129 --> 00:43:08,431
So we already had all possible shirts, pants, gloves, and shoes in our civilian master files.

882
00:43:08,431 --> 00:43:14,572
So what we ended up electing to do was have the heads also be in that body model as sort

883
00:43:14,572 --> 00:43:17,273
of other toggleable submeshes.

884
00:43:17,273 --> 00:43:19,714
However, it wasn't all sunshine and roses in that case either.

885
00:43:21,029 --> 00:43:22,650
So ballooning file size aside,

886
00:43:22,650 --> 00:43:24,491
the problem with this approach was,

887
00:43:24,491 --> 00:43:28,592
whereas before head models were sort of separate,

888
00:43:28,592 --> 00:43:30,193
so they could have bespoke positions

889
00:43:30,193 --> 00:43:34,555
for things like eyeballs and eyelids and all that.

890
00:43:35,330 --> 00:43:39,271
they had to all kind of live in the same sort of environment.

891
00:43:39,271 --> 00:43:43,573
So, kind of to keep the situation we had before,

892
00:43:43,573 --> 00:43:47,894
we would have either had to move all of the facial landmarks

893
00:43:47,894 --> 00:43:50,235
to be in the exact same spot,

894
00:43:50,235 --> 00:43:53,536
or just have joints for every single head.

895
00:43:54,398 --> 00:43:56,379
Thankfully, there wasn't much consideration

896
00:43:56,379 --> 00:43:59,061
for either of those as keeping all the joints in the head

897
00:43:59,061 --> 00:44:01,802
would be just a massive pain to track

898
00:44:01,802 --> 00:44:03,943
and just kind of grow out of control quickly

899
00:44:03,943 --> 00:44:06,944
because we had like 20 heads that could be kind of brought

900
00:44:06,944 --> 00:44:08,865
in for each of these types of characters.

901
00:44:08,865 --> 00:44:11,446
But then also we didn't, you know,

902
00:44:11,446 --> 00:44:14,768
we wanted to have a variety in our open world.

903
00:44:14,768 --> 00:44:15,868
So we didn't want to, you know,

904
00:44:15,868 --> 00:44:19,210
have basically just everyone have the exact same face

905
00:44:19,210 --> 00:44:21,791
but just slightly different like skin color and stuff.

906
00:44:21,791 --> 00:44:23,752
We actually wanted more visual variety.

907
00:44:24,272 --> 00:44:26,353
So that wasn't an acceptable option either.

908
00:44:26,353 --> 00:44:30,336
So what we elected to do was create a 11-joint facial rig

909
00:44:30,336 --> 00:44:34,178
that only used translate to move the brows, lips,

910
00:44:34,178 --> 00:44:35,078
and even eye blink.

911
00:44:35,078 --> 00:44:37,740
The way we handled different sizes of eyes and stuff

912
00:44:37,740 --> 00:44:39,461
was just to adjust the weighting,

913
00:44:39,461 --> 00:44:41,162
where the animation was always the same,

914
00:44:41,162 --> 00:44:45,304
but smaller eyes just basically had less eyelid weighting.

915
00:44:46,082 --> 00:44:50,809
and uh... you know only the people with the largest features would then approach

916
00:44:50,809 --> 00:44:54,154
anything near a hundred percent waiting on things like the eyes

917
00:44:55,411 --> 00:44:58,613
Only the jaw used rotation, and the lower lip joint

918
00:44:58,613 --> 00:45:01,294
was parented under that.

919
00:45:01,294 --> 00:45:04,135
And it just honestly didn't really cause that much

920
00:45:04,135 --> 00:45:06,797
in the way of problems, because the jaws did

921
00:45:06,797 --> 00:45:07,837
tend to be in a similar spot.

922
00:45:07,837 --> 00:45:10,299
And again, these were just kind of open world people,

923
00:45:10,299 --> 00:45:14,301
and they weren't necessarily going all snake swallowing

924
00:45:14,301 --> 00:45:15,561
a cow or anything like that on us.

925
00:45:15,561 --> 00:45:20,864
So still left eyeball rotation, though, if we wanted to do it.

926
00:45:22,813 --> 00:45:25,196
For that, we actually experimented with using blend shapes

927
00:45:25,196 --> 00:45:26,739
to do rotation.

928
00:45:26,739 --> 00:45:29,483
I even wrote a script to mass produce them.

929
00:45:29,483 --> 00:45:31,225
And we were getting surprisingly good results

930
00:45:31,225 --> 00:45:32,607
considering that blend shapes

931
00:45:32,607 --> 00:45:34,370
only do that linear interpolation.

932
00:45:35,935 --> 00:45:41,260
What we did was we just kind of got it to a rotation of about 15 degrees and then we

933
00:45:41,260 --> 00:45:45,844
capped things at a weight of 1.5 and with that, you know, we didn't necessarily have

934
00:45:45,844 --> 00:45:50,328
that much in the way of issues and we could rotate to about 20 degrees in each direction.

935
00:45:50,328 --> 00:45:53,070
And yeah, it was pretty cool I think.

936
00:45:53,070 --> 00:45:58,415
But before rolling it out to all characters in order to just suss out some things, we

937
00:45:58,415 --> 00:46:03,980
ran a sort of lighter weight version of the civilian rig in a sort of open world diorama.

938
00:46:05,361 --> 00:46:06,502
So hold on to your seats,

939
00:46:06,502 --> 00:46:08,804
because I'm about to blow your minds.

940
00:46:08,804 --> 00:46:10,905
Turns out eyeballs are really small.

941
00:46:10,905 --> 00:46:13,327
I know what you're thinking.

942
00:46:13,327 --> 00:46:16,289
Gee, Noah, that sure is the industry-redefining hot take

943
00:46:16,289 --> 00:46:17,430
we came here for.

944
00:46:17,430 --> 00:46:19,192
Sure glad we flew people out,

945
00:46:19,192 --> 00:46:23,395
spent thousands on hotels and registration and all that.

946
00:46:23,395 --> 00:46:23,755
It's crazy.

947
00:46:24,737 --> 00:46:26,298
But before you crown me king of the nerds,

948
00:46:26,298 --> 00:46:28,700
basically what was happening was we

949
00:46:28,700 --> 00:46:32,483
had five professional game devs standing around a TV

950
00:46:32,483 --> 00:46:33,924
and squinting.

951
00:46:33,924 --> 00:46:36,046
And we couldn't really tell the difference

952
00:46:36,046 --> 00:46:39,249
because they're on screen about that big on a smaller screen

953
00:46:39,249 --> 00:46:40,970
typically than we have right here.

954
00:46:40,970 --> 00:46:43,912
So it was determined from the minuscule bit of benefit

955
00:46:43,912 --> 00:46:46,314
we got from it, it just really wasn't worth it.

956
00:46:46,314 --> 00:46:50,758
And maybe when we have 8K TVs or whatever, it might.

957
00:46:50,758 --> 00:46:52,119
We'll revisit.

958
00:46:52,119 --> 00:46:54,361
But it's still a pretty cool result, I think.

959
00:46:56,718 --> 00:46:58,900
So, sorry.

960
00:46:58,900 --> 00:47:03,825
Before I go, I'd like to quickly talk about batch tools

961
00:47:03,825 --> 00:47:04,786
and naming conventions,

962
00:47:04,786 --> 00:47:07,249
because during most of the production,

963
00:47:07,249 --> 00:47:10,372
it was just kind of me interacting with the files,

964
00:47:10,372 --> 00:47:11,633
and it was coming from a company

965
00:47:11,633 --> 00:47:14,616
that also took its naming conventions seriously.

966
00:47:14,616 --> 00:47:18,040
And, you know, it was fairly drama-free and stuff.

967
00:47:18,856 --> 00:47:21,617
Then towards the end with the tier five rigs,

968
00:47:21,617 --> 00:47:24,419
we actually, rather than having me just be that

969
00:47:24,419 --> 00:47:27,621
intermediary, we had a character artist go through

970
00:47:27,621 --> 00:47:32,163
and add art to those files, add the hair and all that.

971
00:47:32,163 --> 00:47:35,465
But as he was doing that, I gave him this big list of rules

972
00:47:35,465 --> 00:47:37,166
and so I was like, you know, you can't use pasted textures,

973
00:47:37,166 --> 00:47:39,467
you have to keep naming, you can't name it this,

974
00:47:39,467 --> 00:47:40,247
this, and this.

975
00:47:40,548 --> 00:47:44,316
I was probably annoying the hell out of him with all those rules, but he stuck to them.

976
00:47:44,316 --> 00:47:49,067
I occasionally even jumped in files and checked just to give him that sort of random inspection.

977
00:47:49,067 --> 00:47:50,670
He was following them to his credit.

978
00:47:51,555 --> 00:47:53,476
And as we were closing out the game,

979
00:47:53,476 --> 00:47:55,997
as breathing room became more and more scarce,

980
00:47:55,997 --> 00:47:58,017
you know, we were starting to hit performance problems

981
00:47:58,017 --> 00:48:00,098
and, you know, it became pretty clear

982
00:48:00,098 --> 00:48:03,879
we had to like do a lot of changing of LODs

983
00:48:03,879 --> 00:48:06,380
to be more aggressive and things like that.

984
00:48:06,380 --> 00:48:09,160
Problem is we had to do this on 130 rigs.

985
00:48:09,160 --> 00:48:13,802
So, you know, thanks to the conventions

986
00:48:13,802 --> 00:48:14,802
that we were keeping.

987
00:48:15,222 --> 00:48:20,067
We shared UV sets and all that, kept strict naming,

988
00:48:20,067 --> 00:48:22,710
and we had a pretty good batch tool that we just kept

989
00:48:22,710 --> 00:48:25,012
upgrading through the projects to kind of prepare

990
00:48:25,012 --> 00:48:28,015
for a moment like this.

991
00:48:28,015 --> 00:48:30,898
Going through and editing all 130 of them was just a script

992
00:48:30,898 --> 00:48:36,223
I wrote in a couple hours and then just ran over lunch,

993
00:48:36,223 --> 00:48:38,045
came back, checked it.

994
00:48:38,624 --> 00:48:40,085
We threw it in game.

995
00:48:40,085 --> 00:48:42,426
Oh, LODs need to be more aggressive.

996
00:48:42,426 --> 00:48:44,067
Okay, whatever, just rerun it again.

997
00:48:44,067 --> 00:48:46,289
It was a pretty simple thing.

998
00:48:46,289 --> 00:48:48,610
Or, you know, we wanted to change certain weights

999
00:48:48,610 --> 00:48:49,771
on all of the characters.

1000
00:48:49,771 --> 00:48:51,712
Just all pretty simple.

1001
00:48:52,680 --> 00:48:58,062
So it basically turned what would have been a garbage week or weeks into, yeah, just that

1002
00:48:58,062 --> 00:48:59,363
little simple thing.

1003
00:48:59,363 --> 00:49:03,824
Probably would have had to drag in the whole department, you know, because, you know, I

1004
00:49:03,824 --> 00:49:07,286
think even doing that manually, even if I was sleeping under my desk and all that, just

1005
00:49:07,286 --> 00:49:08,786
wouldn't have been possible.

1006
00:49:09,774 --> 00:49:11,736
So it's not really much of a story,

1007
00:49:11,736 --> 00:49:13,939
but a story about a story that didn't happen.

1008
00:49:13,939 --> 00:49:16,302
And it's like one of those boring stories

1009
00:49:16,302 --> 00:49:19,205
where something goes right.

1010
00:49:19,205 --> 00:49:22,889
But while those stories are fun to watch about other people,

1011
00:49:22,889 --> 00:49:25,452
the crazy stories aren't the ones that you want to be in.

1012
00:49:25,452 --> 00:49:27,374
So follow your conventions, kids.

1013
00:49:27,374 --> 00:49:27,955
They do work.

1014
00:49:29,569 --> 00:49:31,090
So, as with all creative endeavors,

1015
00:49:31,090 --> 00:49:33,772
we learned some lessons along the way.

1016
00:49:33,772 --> 00:49:36,694
And so, what might we change if we move forward?

1017
00:49:36,694 --> 00:49:37,535
First, a small one.

1018
00:49:37,535 --> 00:49:40,797
I probably should have, from the beginning,

1019
00:49:40,797 --> 00:49:43,620
included a better way of doing these conditional additions

1020
00:49:43,620 --> 00:49:44,740
for certain characters.

1021
00:49:44,740 --> 00:49:48,103
It was kind of those things where I didn't realize

1022
00:49:48,103 --> 00:49:52,346
how much we'd be replacing eyebrows and eyelashes and stuff.

1023
00:49:52,346 --> 00:49:54,148
And this kind of just kept getting added

1024
00:49:54,148 --> 00:49:57,350
to the sort of master file and all that.

1025
00:49:57,991 --> 00:50:06,136
So probably what I'm going to be doing is just kind of have stuff where it's like separate scripts for each character that then just gets sourced in according to whatever.

1026
00:50:06,136 --> 00:50:12,681
Because while it didn't really cause any issues, it kind of just hurt my soul a little bit to keep doing that.

1027
00:50:12,681 --> 00:50:21,226
And there are just so many edits that we're just like, okay, I'm actually making Aunt May remove her eyebrows and stuff when they come in because we're bringing in a new set of eyebrows.

1028
00:50:22,107 --> 00:50:24,887
So, again, another one of those small solutions

1029
00:50:24,887 --> 00:50:27,168
that just kind of grew and, you know,

1030
00:50:27,168 --> 00:50:30,028
probably should have anticipated it.

1031
00:50:30,028 --> 00:50:32,729
So, we had a lot of heads that were shared

1032
00:50:32,729 --> 00:50:35,529
and randomly loaded on different types of characters,

1033
00:50:35,529 --> 00:50:37,310
especially at the thugs.

1034
00:50:37,310 --> 00:50:40,690
And the thing is, all of those thugs

1035
00:50:40,690 --> 00:50:42,871
were then just skinned kind of separately,

1036
00:50:42,871 --> 00:50:46,051
never really kind of followed any sort of convention

1037
00:50:46,051 --> 00:50:47,992
for no particular, there was no, you know,

1038
00:50:47,992 --> 00:50:49,472
reason that we thought to do that.

1039
00:50:50,255 --> 00:50:56,141
But then towards the end we were getting a ton of clipping bugs because we had these

1040
00:50:56,141 --> 00:51:01,025
shared head models that were coming in on unlike body models.

1041
00:51:01,025 --> 00:51:05,529
So in the future I'll probably push to at least try and do some sort of baseline for

1042
00:51:05,529 --> 00:51:06,530
clavicle weighting.

1043
00:51:06,530 --> 00:51:07,771
So then, you know.

1044
00:51:08,031 --> 00:51:10,735
We'd still want to try and be able to support changing

1045
00:51:10,735 --> 00:51:13,799
the weights a little bit more if it really

1046
00:51:13,799 --> 00:51:15,261
needs to fit a certain look.

1047
00:51:15,261 --> 00:51:17,644
But either way, there has to be a reason

1048
00:51:17,644 --> 00:51:19,646
to do that rather than just kind of what we did,

1049
00:51:19,646 --> 00:51:21,208
where it's like, just do whatever.

1050
00:51:23,283 --> 00:51:30,369
Next, partway through production, I wanted to add those combination shapes that I was talking about, but

1051
00:51:30,369 --> 00:51:36,054
you know, the way you have to deal with, like, blend shapes and all that, and all the attribute connections and stuff,

1052
00:51:36,054 --> 00:51:40,919
I probably should have found a better way to track it because it was just kind of annoying manual work and, like, I

1053
00:51:40,919 --> 00:51:44,702
sometimes had to disconnect things and reprocess them from scratch.

1054
00:51:44,702 --> 00:51:49,766
So, I started to add, like, a lot more just general tracking through network nodes and all that to...

1055
00:51:50,482 --> 00:51:53,985
be able to track everything, but either way it needs to be kind of done from the beginning.

1056
00:51:53,985 --> 00:52:01,131
I might investigate in the future figuring out a way to properly save out blend shape

1057
00:52:01,131 --> 00:52:07,537
deltas rather than the absolute shapes, because then things would be able to be shared between

1058
00:52:07,537 --> 00:52:10,720
characters or if the character model changed for whatever reason.

1059
00:52:10,840 --> 00:52:13,942
There's no need for all those extra steps.

1060
00:52:13,942 --> 00:52:16,843
That sort of method of sharing blunt shapes

1061
00:52:16,843 --> 00:52:18,524
that I talked about before

1062
00:52:18,524 --> 00:52:20,125
was discovered pretty late in the project.

1063
00:52:20,125 --> 00:52:21,306
Either way, like yeah,

1064
00:52:21,306 --> 00:52:22,747
having something from the beginning

1065
00:52:22,747 --> 00:52:25,268
that would have allowed us to share blunt shapes

1066
00:52:25,268 --> 00:52:26,869
to then just polish on top of it

1067
00:52:26,869 --> 00:52:28,610
would have probably saved a lot of

1068
00:52:28,610 --> 00:52:29,971
reduplication of time and effort.

1069
00:52:32,780 --> 00:52:37,162
And having a proper plan in place from the beginning for the pedestrian rigs probably

1070
00:52:37,162 --> 00:52:42,965
would have saved us a lot of time and heartache because I think we just we didn't necessarily

1071
00:52:42,965 --> 00:52:48,787
stress test as often as we should have and yeah again still worked out but you know could

1072
00:52:48,787 --> 00:52:49,888
be better in the future.

1073
00:52:50,952 --> 00:52:57,896
And lastly, I probably need to make a way to empower the character artists to do the updates for things like eyebrows and all that,

1074
00:52:57,896 --> 00:53:01,358
because especially towards the end with like the important characters,

1075
00:53:01,358 --> 00:53:06,601
it was often, you know, move one vert, you know, adjust this slightly, change the UVs here,

1076
00:53:06,601 --> 00:53:09,863
okay, and then I need to rig it and get it into the game,

1077
00:53:09,863 --> 00:53:14,146
because part of vetting that was actually about seeing it on the animated characters.

1078
00:53:14,566 --> 00:53:16,968
in the engine with the lighting and all that.

1079
00:53:16,968 --> 00:53:18,989
And either way, I was kind of starting to become,

1080
00:53:18,989 --> 00:53:22,112
like I'd get these things like two or three times a day.

1081
00:53:22,112 --> 00:53:25,555
It was often just like Trello comments or Slack messages

1082
00:53:25,555 --> 00:53:28,017
or just, you know, walking down the hall to the kitchen

1083
00:53:28,017 --> 00:53:29,858
there like, hey, can you update that thing?

1084
00:53:29,858 --> 00:53:33,581
It's kind of turned into a bit of a tracking thing,

1085
00:53:33,581 --> 00:53:34,982
which was like pretty bad.

1086
00:53:35,657 --> 00:53:41,142
More sort of damaging was that I was becoming a bottleneck

1087
00:53:41,142 --> 00:53:42,843
and kind of getting in the way of artists.

1088
00:53:42,843 --> 00:53:46,647
So I want to remove myself as that sort of red tape

1089
00:53:46,647 --> 00:53:49,410
and give them some sort of method

1090
00:53:49,410 --> 00:53:52,072
for importing the new stuff with an emphasis

1091
00:53:52,072 --> 00:53:53,433
on keeping things clean.

1092
00:53:53,433 --> 00:53:55,295
So yeah, something I'm investigating.

1093
00:53:57,321 --> 00:54:06,584
Anyways, that's all I have for today. Before I go, I'd like to give thanks to all my fellow Insomniacs for helping make a game that's been a dream project of mine.

1094
00:54:06,584 --> 00:54:11,106
I'd like to thank my fellow riggers, past and present. We share everything and, you know, we all...

1095
00:54:11,551 --> 00:54:14,711
I think if I walked out of here and got hit by a bus,

1096
00:54:14,711 --> 00:54:16,312
we'd be pretty good for a while,

1097
00:54:16,312 --> 00:54:19,372
because we all just know each other.

1098
00:54:19,372 --> 00:54:23,113
Also, the Shader Tech artists, the animation team,

1099
00:54:23,113 --> 00:54:25,273
character artists, our awesome core department,

1100
00:54:25,273 --> 00:54:28,594
my advisor, Jeff Hanna, 3Lateral, Cubic Motion,

1101
00:54:28,594 --> 00:54:31,654
and our amazing voice and PCAP cast,

1102
00:54:31,654 --> 00:54:34,295
and our producers at Sony and Marvel.

1103
00:54:34,295 --> 00:54:37,055
Lastly, thanks to you for coming to my first UDC talk.

1104
00:54:37,055 --> 00:54:39,996
Hopefully I didn't bore or disappoint.

1105
00:54:41,356 --> 00:54:44,298
As is obligatory, I'll mention we're hiring a lot.

1106
00:54:44,298 --> 00:54:47,460
So if you'd like to come and help us build

1107
00:54:47,460 --> 00:54:49,522
some really cool things in the future,

1108
00:54:49,522 --> 00:54:52,384
talk to me or someone else wearing an Insomniac badge.

1109
00:54:52,384 --> 00:54:54,245
We don't bite, and if you do,

1110
00:54:54,245 --> 00:54:56,166
maybe you'll get some superpowers or something.

1111
00:54:56,166 --> 00:54:58,888
Anyways, if there are any questions,

1112
00:54:58,888 --> 00:55:01,069
I'd be happy to answer to the best

1113
00:55:01,069 --> 00:55:02,310
of my knowledge and legal ability.

1114
00:55:15,010 --> 00:55:16,031
I have a question.

1115
00:55:16,031 --> 00:55:16,151
Oh, OK.

1116
00:55:16,151 --> 00:55:19,752
So you talked about how you had to simplify drastically

1117
00:55:19,752 --> 00:55:22,473
the rigs for the tier four and five.

1118
00:55:22,473 --> 00:55:27,075
How did you handle simplifying the one for tier one to three

1119
00:55:27,075 --> 00:55:29,916
so that you didn't have all those many blend shapes?

1120
00:55:29,916 --> 00:55:31,857
Or was it the same rig in cinematics

1121
00:55:31,857 --> 00:55:33,318
and in the rest of gameplay?

1122
00:55:34,046 --> 00:55:40,554
Well, the tier 1 through 3 heads, actually all of the heads were usually delivered with the LOD 0.

1123
00:55:40,554 --> 00:55:46,701
The tiers 1 through 3 had a shared topology and then the tiers 4 and 5 had a shared slightly lower topology.

1124
00:55:47,357 --> 00:55:50,839
But then the tier one had all of the blend shapes.

1125
00:55:50,839 --> 00:55:55,001
Then the, sorry, LOD zero had all of the blend shapes.

1126
00:55:55,001 --> 00:55:58,323
Then LOD one was usually like the exact same mesh,

1127
00:55:58,323 --> 00:55:59,964
just minus the blend shapes.

1128
00:55:59,964 --> 00:56:03,806
Then LOD two was a kind of half mesh, half density one.

1129
00:56:04,467 --> 00:56:09,289
And then, yeah, they shared UVs, so in the case where we had to go through and make the

1130
00:56:09,289 --> 00:56:13,811
LEDs more aggressive, we were able to just use transfer attributes.

1131
00:56:13,811 --> 00:56:19,833
Though the eyes were a bit of a tricky thing because, you know, they overlapped UVs.

1132
00:56:19,833 --> 00:56:24,155
So what I ended up doing was just writing something to kind of separate the side to

1133
00:56:24,155 --> 00:56:27,737
side and figure out the size of the eyes to bring in, like, new versions of the eyes.

1134
00:56:28,234 --> 00:56:33,556
OK, so the guys from 3Lateral already gave you the second,

1135
00:56:33,556 --> 00:56:34,096
the LOD one?

1136
00:56:34,096 --> 00:56:35,416
Yeah, they did.

1137
00:56:35,416 --> 00:56:39,117
And yeah, it was just basically, it was literally like half,

1138
00:56:39,117 --> 00:56:41,318
like every other edge loop was gone.

1139
00:56:41,318 --> 00:56:43,359
And then, yeah, in the case of later,

1140
00:56:43,359 --> 00:56:48,480
then we used simply gone to create more downgraded ones,

1141
00:56:48,480 --> 00:56:52,321
or more optimized meshes, and then kind of bring those in.

1142
00:56:52,321 --> 00:56:52,982
Thanks.

1143
00:56:55,805 --> 00:56:59,436
OK, anyone else?

1144
00:56:59,436 --> 00:57:01,081
Going, going, yeah.

1145
00:57:01,081 --> 00:57:02,625
All right, thank you.

