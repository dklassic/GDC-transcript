1
00:00:05,651 --> 00:00:10,695
morning everybody. Thank you for being here very early this Thursday morning. I hope

2
00:00:10,695 --> 00:00:15,739
everybody's kind of recovered from that party. Um, we up here? We're all up here? Uh, if you

3
00:00:15,739 --> 00:00:22,065
guys could make sure you turn off your cell phones or put them on silent or whatever. Um,

4
00:00:22,065 --> 00:00:29,411
don't want the mics to pick them up. Um, I'm Will Armstrong, this is Patrick. I'm Patrick.

5
00:00:29,411 --> 00:00:31,953
I was the lead programmer over on Firewatch.

6
00:00:32,448 --> 00:00:35,331
I was a tools and gameplay programmer on Firewatch.

7
00:00:35,331 --> 00:00:39,495
And we're here to tell you about the tools and systems

8
00:00:39,495 --> 00:00:43,118
that we wrote for all of the dialogue in Firewatch

9
00:00:43,118 --> 00:00:45,780
and localization and just how we built

10
00:00:45,780 --> 00:00:51,745
tools for a pretty ambitious game with a very small team.

11
00:00:56,575 --> 00:00:59,416
So in a previous life, I was at 2K Marin,

12
00:00:59,416 --> 00:01:01,357
worked on Bioshock 2 in the Bureau.

13
00:01:01,357 --> 00:01:02,858
These days I'm over at Unity.

14
00:01:02,858 --> 00:01:05,839
I was an early engineer at Twitter

15
00:01:05,839 --> 00:01:09,300
and an engineering manager, mostly focusing on the web team.

16
00:01:09,300 --> 00:01:10,561
And Firewatch was my first game.

17
00:01:12,553 --> 00:01:14,776
So everything that we're gonna tell you about here

18
00:01:14,776 --> 00:01:16,237
is built off of previous work

19
00:01:16,237 --> 00:01:18,400
that we've learned about at other GDCs.

20
00:01:18,400 --> 00:01:21,083
So kind of going all the way back to GDC 2012,

21
00:01:21,083 --> 00:01:24,807
Ilan Ruskin gave a very good talk about how Valve

22
00:01:24,807 --> 00:01:28,972
used this sort of bark system

23
00:01:28,972 --> 00:01:31,195
to do all of their dialogue in Left 4 Dead 2.

24
00:01:31,672 --> 00:01:35,914
and our work is very heavily based off of that.

25
00:01:35,914 --> 00:01:39,476
In, what was it, 2016, the Valve guy, 2016, yeah, 2014,

26
00:01:39,476 --> 00:01:46,220
the Valve guys gave a talk on how they used

27
00:01:46,220 --> 00:01:48,201
dynamic dialogue system to turn that sort of

28
00:01:48,201 --> 00:01:50,682
back and forth bark systems into big long conversations

29
00:01:50,682 --> 00:01:54,544
in, is it there, is that a?

30
00:01:58,488 --> 00:02:00,828
The zombie one or the Nathan Drake one?

31
00:02:00,828 --> 00:02:01,728
The Nathan Drake one, I think.

32
00:02:01,728 --> 00:02:03,489
Yes, definitely Nathan Drake.

33
00:02:03,489 --> 00:02:08,770
And then we took a lot of our design cues for the radio

34
00:02:08,770 --> 00:02:10,510
from the 2008 Prince of Persia reboot.

35
00:02:10,510 --> 00:02:13,870
That game featured a dedicated button for narrative.

36
00:02:13,870 --> 00:02:15,371
There was just a button that you could hit at any time

37
00:02:15,371 --> 00:02:18,171
and have your AI companions start to sort of chat with you

38
00:02:18,171 --> 00:02:19,511
about what had happened in the game

39
00:02:19,511 --> 00:02:21,352
or what you were looking at or where you were.

40
00:02:21,352 --> 00:02:23,372
And that informed a lot of our early work on the radio.

41
00:02:23,372 --> 00:02:26,112
So this is all built on sort of the shoulders of giants here.

42
00:02:26,112 --> 00:02:26,233
The

43
00:02:29,041 --> 00:02:34,808
initial prototype we were making was a little different than the game we shipped.

44
00:02:34,808 --> 00:02:39,514
The way we first started thinking about Firewatch was that Henry was going to be driving all

45
00:02:39,514 --> 00:02:40,495
of the conversations.

46
00:02:40,495 --> 00:02:41,917
Everything was going to be...

47
00:02:42,725 --> 00:02:47,769
started by Henry, interruptible at any time by Henry, he could stop any conversation he had

48
00:02:47,769 --> 00:02:51,872
started, just switch topics, you could always talk about everything. Every conversation was

49
00:02:51,872 --> 00:02:57,096
started by him. And that sounded to us a lot like barks, combat barks. They could start at

50
00:02:57,096 --> 00:03:02,680
any time, stop at any time, come from anywhere. Very, very reactive, very, very dynamic. So

51
00:03:02,680 --> 00:03:08,724
that's sort of how we landed on, uh, Valve's bark system as sort of the, the way to start.

52
00:03:10,928 --> 00:03:16,473
For those of you who aren't familiar with Firewatch, it's sort of a game about wandering

53
00:03:16,473 --> 00:03:24,499
around the woods as a sort of sad middle-aged man having long conversations with your boss

54
00:03:24,499 --> 00:03:30,084
Delilah over a radio. And the whole game is sort of built around these big conversations

55
00:03:30,084 --> 00:03:36,749
that you have while going on a hike through the woods. So what we actually built when we

56
00:03:36,749 --> 00:03:40,072
were still, you know, having Henry be able to interrupt at any time.

57
00:03:40,490 --> 00:03:43,072
talk about anything, was a generic event system.

58
00:03:43,072 --> 00:03:49,357
And generic event system meant that any system in the game

59
00:03:49,357 --> 00:03:52,020
could fire events, and then we would have blackboards

60
00:03:52,020 --> 00:03:54,122
to store gameplay state, and we would figure out

61
00:03:54,122 --> 00:03:56,243
how to respond to every event by that.

62
00:03:56,243 --> 00:03:58,585
So what that really looked like was

63
00:03:58,585 --> 00:04:00,247
we have a bunch of events, a bunch of requirements,

64
00:04:00,247 --> 00:04:01,488
and a bunch of responses.

65
00:04:01,488 --> 00:04:02,629
You can think of this as like,

66
00:04:03,575 --> 00:04:08,740
when something happens, interrogate the current state of the game with the requirements and

67
00:04:08,740 --> 00:04:14,145
then use the responses to alter to a new game state. Um, relatively straightforward, thing

68
00:04:14,145 --> 00:04:20,010
happens at some time, change the game in some way. Um, what that really looked like for us

69
00:04:20,010 --> 00:04:26,396
was event name and then a bunch of Boolean tests and then a whole bunch of responses. Um,

70
00:04:26,396 --> 00:04:27,337
ideally this would be

71
00:04:28,829 --> 00:04:32,851
just of, you know, your Boolean test could be anything and you could interrogate any kind of

72
00:04:32,851 --> 00:04:37,973
game state. We were a small team, we had to make some special cases. Uh, we didn't bring

73
00:04:37,973 --> 00:04:42,955
strings into our blackboard system, we kept it very simple and very, very lean. So we added a

74
00:04:42,955 --> 00:04:49,919
couple of special cases for what, who triggered the event and then who was the target of the

75
00:04:49,919 --> 00:04:53,280
event, the sort of context of the event. And we let designer use string for those and

76
00:04:53,280 --> 00:04:57,722
everything else was just little Boolean tests on floating points.

77
00:04:58,287 --> 00:05:04,090
So for a very concrete example, if I say, you know, toss the beer can, then you would get the

78
00:05:04,090 --> 00:05:10,573
event on tossed. Who tossed it? The player. What was tossed? The beer can. If the context of the

79
00:05:10,573 --> 00:05:15,396
world is, I haven't said this line, then say the line, fuck it, I'm not the maid. When I talk

80
00:05:15,396 --> 00:05:19,358
about an event, I'm not the maid. I'm not the maid. I'm not the maid. I'm not the maid. I'm not

81
00:05:19,925 --> 00:05:24,687
What that is is just a string. Um, it's uh, set by the designers and it can be very

82
00:05:24,687 --> 00:05:32,571
systemic, like on tossed. It can be extremely special case like, you know, quest 7 day 3

83
00:05:32,571 --> 00:05:38,354
step 2 finished. Uh, it really just is up to the designer to sort of decide what that

84
00:05:38,354 --> 00:05:42,116
concept is that they're trying to do and what sort of moment in the game they're trying to

85
00:05:42,116 --> 00:05:45,157
capture. It's very open ended and allows for a lot of flexibility.

86
00:05:45,777 --> 00:05:48,879
when I talk about a target or a sender,

87
00:05:48,879 --> 00:05:51,481
the target is context of the event.

88
00:05:51,481 --> 00:05:53,623
So what did I throw?

89
00:05:53,623 --> 00:05:54,664
What am I looking at?

90
00:05:54,664 --> 00:05:56,125
Who am I talking to?

91
00:05:56,125 --> 00:05:58,166
And the sender is what triggered the event

92
00:05:58,166 --> 00:05:59,007
in the first place.

93
00:05:59,007 --> 00:06:03,070
So often the player, sometimes Delilah,

94
00:06:03,070 --> 00:06:05,992
and then a lot of times in level objects.

95
00:06:05,992 --> 00:06:10,115
So you would have like on opened on a lock box or a door.

96
00:06:11,900 --> 00:06:18,701
And then when I talk about facts, facts are sort of arbitrarily designer created strings. Uh,

97
00:06:18,701 --> 00:06:25,643
they end up being, uh, stored in blackboards. Blackboards are just dictionaries. We use a

98
00:06:25,643 --> 00:06:29,923
bunch of different dictionaries to kind of scope, uh, the number of facts that we have at

99
00:06:29,923 --> 00:06:35,104
any one time down to a reasonable number. Uh, this is for both designer sanity and

100
00:06:35,104 --> 00:06:39,025
performance. Um, you know, as dictionaries get big, they do get slow.

101
00:06:40,402 --> 00:06:43,844
uh, specifically we'd have blackboards for every individual game object so that you

102
00:06:43,844 --> 00:06:47,666
could track how many times I threw this specific beer can without having to have a

103
00:06:47,666 --> 00:06:51,708
different fact name for every beer can in the game. We would have a blackboard for the

104
00:06:51,708 --> 00:06:56,091
player, uh, which was going to be used to scope things that we only cared about in

105
00:06:56,091 --> 00:07:00,154
context of Henry. Uh, we ended up not actually using this because performance ended up

106
00:07:00,154 --> 00:07:00,794
being a problem.

107
00:07:02,390 --> 00:07:06,193
uh we would have day specific blackboards and this ended up being extremely useful for

108
00:07:06,193 --> 00:07:11,838
designers. We could track things like have you left the tower today without uh having to

109
00:07:11,838 --> 00:07:16,882
worry about leaving the tower on day one automatically triggering logic that should only

110
00:07:16,882 --> 00:07:21,146
happen outside on day two. And then we had the global blackboard which is where almost

111
00:07:21,146 --> 00:07:27,591
everything in the game actually went. The global blackboard was used for you know

112
00:07:29,382 --> 00:07:34,246
like I said, very, very designer specific things. Anything that we needed to remember from

113
00:07:34,246 --> 00:07:38,990
day to day to day over the course of the game. What you named your dog. And uh, systemic

114
00:07:38,990 --> 00:07:43,794
things like how long it has been since the last time you decided to have a conversation. Um,

115
00:07:43,794 --> 00:07:49,699
so I'm going to walk through our workflow and our tool chain. So these are all of the tools

116
00:07:49,699 --> 00:07:54,142
we built. These are real screenshots taken just from, right from our editor. Um,

117
00:07:55,370 --> 00:08:00,472
and so this is definitely going to be a little bit of sausage being made here. The example I'm

118
00:08:00,472 --> 00:08:05,994
going to use is the first time you sort of run into the turtle in the game. I don't know how

119
00:08:05,994 --> 00:08:14,717
many of you actually managed to find him. He's kind of hidden. Whoa, I found a turtle. Maybe

120
00:08:14,717 --> 00:08:21,460
it's a tortoise. It's a thing with a shell. It's actually pretty cute. So I'm going to

121
00:08:22,623 --> 00:08:28,106
Well, Henry, if you decide you want it to keep you company, nobody will mind.

122
00:08:28,106 --> 00:08:32,889
Now what do I call it? Looks like a, uh, hmm.

123
00:08:32,889 --> 00:08:34,831
So you'll see the third choice is named after your dog.

124
00:08:34,831 --> 00:08:37,532
Bucket Junior.

125
00:08:37,532 --> 00:08:40,574
That is peculiar.

126
00:08:40,574 --> 00:08:43,196
It has sentimental value.

127
00:08:43,196 --> 00:08:47,379
And then we change the pickup text once that choice has been made.

128
00:08:47,379 --> 00:08:47,419
So...

129
00:08:50,845 --> 00:08:55,690
The first thing to know about how we did the turtle is, it's a little bit of a lie,

130
00:08:55,690 --> 00:09:00,915
there's actually six, six turtles in the game? There's six turds sprinkled around the

131
00:09:00,915 --> 00:09:05,500
world of fire watch. And whichever one you see first, that's the canonical turd. That's

132
00:09:05,500 --> 00:09:10,205
your turd for the game play. Ummm, we did this using, uh,

133
00:09:11,174 --> 00:09:16,377
kind of a big ugly playmaker. Um, we used playmaker in firewatch, it's a unity plugin for

134
00:09:16,377 --> 00:09:20,939
visual scripting. Uh, we used it for any sort of level design-y thing that we need to do

135
00:09:20,939 --> 00:09:25,362
one-off content. Um, while this is a little bit ugly, it was also made very late in the game.

136
00:09:25,362 --> 00:09:30,184
It was a brand new feature. It was a kind of a workaround for the problem of nobody never

137
00:09:30,184 --> 00:09:35,167
finding one perfect spot to put turt. And we wired it up, Nels wired it up, uh, without

138
00:09:35,167 --> 00:09:38,969
really any help from the rest of the team. So it was, it was a pretty big win in the

139
00:09:38,969 --> 00:09:40,890
flexibility of the tools we had built to that point.

140
00:09:43,113 --> 00:09:49,058
How this actually functions is we have the event system hooked

141
00:09:49,058 --> 00:09:51,760
into our various gameplay systems.

142
00:09:51,760 --> 00:09:55,243
In this case, it's the targetable component.

143
00:09:55,243 --> 00:09:57,124
Anything you can target, anything that will display

144
00:09:57,124 --> 00:10:00,147
targeting text, will have the ability to, when you first

145
00:10:00,147 --> 00:10:02,528
start seeing it or when you stop seeing it, to fire events

146
00:10:02,528 --> 00:10:04,170
to the event system.

147
00:10:04,170 --> 00:10:07,452
We then have the playmaker listen for that event.

148
00:10:07,452 --> 00:10:10,274
So not only was our event system talking to all the

149
00:10:10,274 --> 00:10:11,495
responses that.

150
00:10:11,660 --> 00:10:13,941
I've already shown you, the dialogue system.

151
00:10:13,941 --> 00:10:17,043
It was also completely wired into all of our level scripting.

152
00:10:17,043 --> 00:10:19,805
So you could tell a playmaker to listen for events,

153
00:10:19,805 --> 00:10:21,786
and then any event that got fired through the event system

154
00:10:21,786 --> 00:10:24,708
would be forwarded to playmaker as though it were a playmaker

155
00:10:24,708 --> 00:10:25,328
global event.

156
00:10:25,328 --> 00:10:29,051
And that meant that any level designer, any content producer

157
00:10:29,051 --> 00:10:32,313
in the entire game could hook up any one-off custom content

158
00:10:32,313 --> 00:10:35,395
they needed to any other system that was triggering events,

159
00:10:35,395 --> 00:10:38,457
whether it be the dialogue system, or targetables,

160
00:10:38,457 --> 00:10:40,378
or opening a door, or the quest system, or anything.

161
00:10:42,702 --> 00:10:47,904
Once that state got entered, it would then interact with our blackboard, so same thing. We

162
00:10:47,904 --> 00:10:53,186
exposed all of our level designer tools to the event system, to the blackboard system. We had

163
00:10:53,186 --> 00:11:00,669
created special actions to read and write facts from any blackboard that you wanted. This is a

164
00:11:00,669 --> 00:11:08,633
screenshot of our actual event editor tool. This was all made in MGUI, the sort of built in

165
00:11:08,633 --> 00:11:10,053
Unity UI system.

166
00:11:10,725 --> 00:11:13,125
and was plugged right into the runtime.

167
00:11:14,660 --> 00:11:18,202
You can see we've got a big list of event lists.

168
00:11:18,202 --> 00:11:21,004
An event list is kind of grouped by conversation

169
00:11:21,004 --> 00:11:25,146
or category, concept, topic of the game.

170
00:11:25,146 --> 00:11:27,667
Then there's a sort of top middle.

171
00:11:27,667 --> 00:11:31,129
There's the big list of events inside of that list.

172
00:11:31,129 --> 00:11:32,490
Every event shows the event name,

173
00:11:32,490 --> 00:11:34,251
the number of requirements it has,

174
00:11:34,251 --> 00:11:35,832
the number of types of responses it's got.

175
00:11:35,832 --> 00:11:37,913
And then underneath that is where we actually do

176
00:11:37,913 --> 00:11:39,234
all of the hard work of editing.

177
00:11:39,234 --> 00:11:40,955
You've got a list of requirements

178
00:11:40,955 --> 00:11:42,455
and then a list of responses.

179
00:11:42,455 --> 00:11:44,477
All of that's done with custom drawers.

180
00:11:44,997 --> 00:11:48,639
This is all just a reflect, basically just a one to one

181
00:11:48,639 --> 00:11:51,421
reflection of the actual public variables inside all of this

182
00:11:51,421 --> 00:11:55,723
data. The, we could have done this with the default unity

183
00:11:55,723 --> 00:11:57,944
inspector but because of the amount of data that we're trying

184
00:11:57,944 --> 00:12:01,166
to show here, we needed it much more condensed. So this is an

185
00:12:01,166 --> 00:12:06,049
example of a dialogue response. All dialogue in our game.

186
00:12:06,588 --> 00:12:12,132
is an event that triggers a sound, has a caption attached to it, it pulls that uh information

187
00:12:12,132 --> 00:12:16,236
from a database and then fires an unfinished event that starts the next line. It's all

188
00:12:16,236 --> 00:12:20,839
just chains of events. Event, dialogue, dialogue fires event, event fires dialogue, dialogue

189
00:12:20,839 --> 00:12:22,100
fires event until you're done talking.

190
00:12:23,986 --> 00:12:28,630
uh, dialog tree works almost the same way. A dialog tree is actually just three, you

191
00:12:28,630 --> 00:12:35,096
know, two to five different event responses that the user can choose. We have a different

192
00:12:35,096 --> 00:12:39,359
system that knows, you know, how to display a dialog choice and listen to input. All the

193
00:12:39,359 --> 00:12:44,884
response does is store what are the possible events it could fire. When we bring up the

194
00:12:44,884 --> 00:12:50,709
event, uh, when we bring up the dialog, we go take each event and basically fire it.

195
00:12:51,377 --> 00:12:54,498
But don't trigger the responses, just interrogate them,

196
00:12:54,498 --> 00:12:57,699
and use that to figure out what response is going to be

197
00:12:57,699 --> 00:13:00,420
triggered, and what line is going to be played, and thus

198
00:13:00,420 --> 00:13:03,021
what caption to show as your choice.

199
00:13:03,021 --> 00:13:06,642
If we go to the previous slide, you can see one of the

200
00:13:06,642 --> 00:13:08,723
response types there is dialogue caption.

201
00:13:08,723 --> 00:13:10,103
That's where we store that information.

202
00:13:11,988 --> 00:13:17,613
no dialogue choice tree was compiled ahead of time. It's all on demand. When you bring it

203
00:13:17,613 --> 00:13:22,777
up, that's when we figure out what your choices are and what each of those choices is going to

204
00:13:22,777 --> 00:13:26,540
be. So for example, if you chose to name your dog Mayhem in the beginning of the game,

205
00:13:26,540 --> 00:13:31,164
there would be a requirement that says dog is Mayhem, a response type that brings up the

206
00:13:31,164 --> 00:13:31,504
caption.

207
00:13:32,903 --> 00:13:37,165
name the turtle after your dog mayhem. If we don't meet that requirement, we didn't name your

208
00:13:37,165 --> 00:13:42,726
dog mayhem, we don't find that response. We find the second response there that says name

209
00:13:42,726 --> 00:13:46,107
your dog bucket junior or name the turtle after your dog bucket. Responses, we use responses

210
00:13:46,107 --> 00:13:53,429
for a lot of different things in this game. We use them to trigger achievements, sound

211
00:13:53,429 --> 00:13:59,570
effects, particle effects, all of the playmaker stuff that I've already mentioned.

212
00:14:00,802 --> 00:14:05,025
changing the icon on your saves file and... Yeah. Uh firing off

213
00:14:05,025 --> 00:14:10,329
photos. Uh so we knew we were going to be able to make a lot

214
00:14:10,329 --> 00:14:13,972
of these and we were going to be able to make them quickly. If

215
00:14:13,972 --> 00:14:17,615
you're making sort of this event response system you need to make

216
00:14:17,615 --> 00:14:20,597
your responses as light as possible. This is all of the

217
00:14:20,597 --> 00:14:24,000
code for displaying uh triggering a dialogue tree from

218
00:14:24,000 --> 00:14:27,403
the event system. And this is all of the code that actually

219
00:14:27,403 --> 00:14:28,443
does any real work.

220
00:14:29,263 --> 00:14:34,324
All, any response type does is grab information from the event system and pass it off to some

221
00:14:34,324 --> 00:14:38,325
other manager. The event system knows about events, the event system knows about senders

222
00:14:38,325 --> 00:14:42,485
and receivers and that sort of context around where the event was fired and nothing else.

223
00:14:42,485 --> 00:14:48,247
Uh in this case it calls the dialog tree manager, passes off the dialog definition and who

224
00:14:48,247 --> 00:14:55,008
sent, who sent the event, who, who we're sending it to and uh where it can find any localized

225
00:14:55,008 --> 00:14:57,388
data it needs. That all lives on the event system.

226
00:14:58,838 --> 00:15:05,745
The rest of this code here is debugging. We're a small team. We were constantly building and

227
00:15:05,745 --> 00:15:10,189
changing this game as we went. That meant lots of things were broken all the time.

228
00:15:10,616 --> 00:15:16,458
For example, we at one point changed the UI entirely. We went from the old ingui system to the

229
00:15:16,458 --> 00:15:22,481
new ugui system. So for a while we couldn't display like subtitles. We can't let the level

230
00:15:22,481 --> 00:15:27,443
designers and the narrative designers stop working when that happens. So you have to keep

231
00:15:27,443 --> 00:15:32,425
your systems usable even if nothing else is working. So a big part of any event system is

232
00:15:32,425 --> 00:15:35,766
going to be logging everything that the event system does. Every event that fires.

233
00:15:36,167 --> 00:15:41,649
every response that matches, every requirement that matches, and why that all worked. You

234
00:15:41,649 --> 00:15:46,012
should be able to go into your log and scroll back through it and see an exact play through

235
00:15:46,012 --> 00:15:52,015
of your game. Uh, even if nothing is showing up on screen other than the debug output. Uh, by

236
00:15:52,015 --> 00:15:58,398
building all of these tools on top of Unity in our game engine, integrated tightly with our

237
00:15:58,398 --> 00:16:03,301
runtime, we got a lot of big benefits for a small team. Um, these tools were very cheap to

238
00:16:03,301 --> 00:16:05,182
make. We didn't have to worry about, you know,

239
00:16:06,799 --> 00:16:12,203
setting up new input handlers or grabbing Windows context. Unity was handling that all for us. We

240
00:16:12,203 --> 00:16:14,504
were, you know, sort of already...

241
00:16:15,389 --> 00:16:20,572
showing pixels on screen immediately. Um, it was extremely flexible. We had access to

242
00:16:20,572 --> 00:16:24,035
every system we had written. We didn't have to write wrapper layers or, you know,

243
00:16:24,035 --> 00:16:29,358
transport functions to move data from our big managers out to our tools. And it was all

244
00:16:29,358 --> 00:16:32,661
just sort of automatically integrated with the run time. All of the narrative designers

245
00:16:32,661 --> 00:16:37,424
could sit there and tune out, uh, dialogue timing as the game was playing without having

246
00:16:37,424 --> 00:16:41,507
to stop, restart, save, anything like that. You could just go into the event data, make

247
00:16:41,507 --> 00:16:43,828
changes, add new requirements, add new responses.

248
00:16:44,637 --> 00:16:48,160
and then play through the segment again and again and again until it worked. Um, the

249
00:16:48,160 --> 00:16:55,564
downside of building all of your big sort of dialogue heavy data driven tools in your editor

250
00:16:55,564 --> 00:17:02,089
is those tools were ugly. I don't know if you noticed that. Um, they're extremely complex.

251
00:17:02,089 --> 00:17:07,672
Like that was not easy to go over. It was a huge screen full of information. The event editor

252
00:17:07,672 --> 00:17:12,695
took over the entire editor. Uh, most people just had it on an entire second monitor blown

253
00:17:12,695 --> 00:17:14,296
out full size. Uh,

254
00:17:15,015 --> 00:17:19,758
and they're ever changing. Like I said, we're constantly building new systems, constantly

255
00:17:19,758 --> 00:17:23,160
adding new response types. And that means every time you go look at the event editor, it's

256
00:17:23,160 --> 00:17:29,423
gonna be a little different. So if your narrative designers are not, you know, sort of okay

257
00:17:29,423 --> 00:17:34,166
with the challenge of managing that, you know, maybe this isn't the right way to go.

258
00:17:36,794 --> 00:17:41,096
So what Will just laid out was the system we had for the entirety of Firewatch,

259
00:17:41,096 --> 00:17:44,659
and he built it basically in that form that you saw very early on.

260
00:17:44,659 --> 00:17:46,960
But this was just the beginning, right?

261
00:17:46,960 --> 00:17:51,463
We had a working proof of concept for our game, for our vertical slice,

262
00:17:51,463 --> 00:17:55,006
but we needed to fill this game with four to six hours of content,

263
00:17:55,006 --> 00:17:57,907
like massively branching content.

264
00:17:57,907 --> 00:18:01,910
And we also had a creative process at Campo Santo where we were constantly revving,

265
00:18:01,910 --> 00:18:05,132
constantly doing rewrites, cutting dialogue, rewriting it.

266
00:18:05,132 --> 00:18:05,312
So...

267
00:18:06,033 --> 00:18:09,432
We needed a content pipeline for that, and that's what I want to talk about.

268
00:18:12,481 --> 00:18:14,423
So, first we want to look at the teens.

269
00:18:14,423 --> 00:18:16,885
This is one of the earliest scenes we wrote,

270
00:18:16,885 --> 00:18:20,048
or I mean fully implemented in the game.

271
00:18:20,048 --> 00:18:22,049
And it's also one that never stopped growing.

272
00:18:22,049 --> 00:18:24,351
We kept changing it, we kept adding things to it.

273
00:18:24,351 --> 00:18:26,253
Every time we did a play test,

274
00:18:26,253 --> 00:18:28,915
someone would want to interact with the teens in a new way.

275
00:18:28,915 --> 00:18:31,137
And we always wanted to support that.

276
00:18:31,137 --> 00:18:32,699
Basically anything that people tried to do,

277
00:18:32,699 --> 00:18:34,100
we tried to make work.

278
00:18:34,100 --> 00:18:36,182
So, complexity balloon as you can imagine.

279
00:18:36,182 --> 00:18:37,883
Let's take a look at one play through.

280
00:18:44,200 --> 00:18:46,241
Uh, there are, uh...

281
00:18:46,241 --> 00:18:47,101
panties?

282
00:18:47,101 --> 00:18:48,442
There are what?

283
00:18:48,442 --> 00:18:53,404
I don't want to say that word again.

284
00:18:53,404 --> 00:18:55,685
Why? Cause you're 12?

285
00:18:55,685 --> 00:18:57,426
There's, uh...

286
00:18:57,426 --> 00:18:58,106
Yes?

287
00:18:58,106 --> 00:19:01,387
There are two naked ladies out here.

288
00:19:01,387 --> 00:19:05,949
Can you handle that?

289
00:19:05,949 --> 00:19:12,592
Come on. I like naked ladies, same as anyone, but there's... you know.

290
00:19:12,592 --> 00:19:12,812
Two?

291
00:19:12,812 --> 00:19:13,352
Yeah.

292
00:19:14,973 --> 00:19:23,824
I know this will be tough for you, but try to pick your tongue up off the ground and do your job.

293
00:19:23,824 --> 00:19:26,467
Okay.

294
00:19:26,467 --> 00:19:28,489
Hey! Hey, you fucking kids!

295
00:19:28,489 --> 00:19:31,873
Hey, you fucking fatso! Leave us alone!

296
00:19:31,873 --> 00:19:33,996
Leave us alone!

297
00:19:37,006 --> 00:19:42,190
I know you guys are setting up bottle rockets out here, okay?

298
00:19:42,190 --> 00:19:45,492
How? Because you're hiding in the bushes spying on us?

299
00:19:45,492 --> 00:19:50,116
Give him a break, Lily. He probably hasn't seen boobs in 20 years.

300
00:19:50,116 --> 00:19:51,197
Ha ha! He's probably still a virgin.

301
00:19:51,197 --> 00:19:53,298
Why do guys think it's alright to just stare at girls?

302
00:19:53,298 --> 00:19:56,781
And now he's over there with his mouth hanging out.

303
00:19:56,781 --> 00:20:00,204
You don't know a damn thing about me!

304
00:20:00,204 --> 00:20:01,965
We know you're a peeping tom!

305
00:20:01,965 --> 00:20:04,547
How long are you even standing over there?

306
00:20:05,100 --> 00:20:06,361
Oh my god, is that-

307
00:20:06,361 --> 00:20:08,321
Whoa, hey! Put that down!

308
00:20:08,321 --> 00:20:10,422
Seriously, it was expensive!

309
00:20:10,422 --> 00:20:14,223
Fucking cool it with the fireworks!

310
00:20:14,223 --> 00:20:16,403
Please just put it down! We won't light anymore!

311
00:20:16,403 --> 00:20:20,284
This guy's on really chill, see?

312
00:20:20,284 --> 00:20:22,445
Fuck you! You asshole!

313
00:20:22,445 --> 00:20:27,706
Light another firework and it won't be your stereo I wreck!

314
00:20:27,706 --> 00:20:28,647
Oh, fuck you, psycho!

315
00:20:28,647 --> 00:20:30,267
Yeah, fuck you!

316
00:20:31,522 --> 00:20:33,403
You'll fucking pay for this.

317
00:20:33,403 --> 00:20:35,504
You can't just harass girls in the woods.

318
00:20:35,504 --> 00:20:37,325
Let's get out of here.

319
00:20:37,325 --> 00:20:46,111
Okay, so that was only one of literally thousands

320
00:20:46,111 --> 00:20:51,154
of playthroughs you could see through here.

321
00:20:51,154 --> 00:20:54,617
And I just wanna highlight how crazy this was

322
00:20:54,617 --> 00:20:57,158
from an event-driven standpoint, right?

323
00:20:57,158 --> 00:20:58,939
When I approached those teens,

324
00:20:58,939 --> 00:21:00,420
I was already talking to Delilah.

325
00:21:01,101 --> 00:21:03,102
They overheard me talking to Delilah.

326
00:21:03,102 --> 00:21:04,082
They engaged with me.

327
00:21:04,082 --> 00:21:05,063
Delilah hears them.

328
00:21:05,063 --> 00:21:05,943
She engages with me.

329
00:21:05,943 --> 00:21:07,964
Then I'm going through dialogue trees.

330
00:21:07,964 --> 00:21:10,125
The whole time I'm doing that, they keep going.

331
00:21:10,125 --> 00:21:11,926
They keep talking while I'm deciding

332
00:21:11,926 --> 00:21:13,027
what I'm gonna say next.

333
00:21:13,027 --> 00:21:14,647
Or if I'm not gonna say anything,

334
00:21:14,647 --> 00:21:17,949
and I'm just gonna go throw their crap in the lake.

335
00:21:17,949 --> 00:21:20,870
I could withdraw from this scene.

336
00:21:20,870 --> 00:21:22,651
I could try to sneak past them.

337
00:21:22,651 --> 00:21:25,373
This was a scene that kept growing,

338
00:21:25,373 --> 00:21:27,734
and it really drove out all of our tools

339
00:21:27,734 --> 00:21:29,335
as we had to support this.

340
00:21:29,635 --> 00:21:34,777
really, really complex, like ever-growing graph of events

341
00:21:34,777 --> 00:21:37,178
and to make the teen sort of react

342
00:21:37,178 --> 00:21:39,260
to whatever the player could possibly do.

343
00:21:39,260 --> 00:21:42,301
This is only like a tiny set

344
00:21:42,301 --> 00:21:44,342
of what our event data looks like.

345
00:21:44,342 --> 00:21:46,663
I didn't actually want to show the teens here

346
00:21:46,663 --> 00:21:49,685
because it looks like a bowl of spaghetti.

347
00:21:49,685 --> 00:21:52,066
It gets really crazy really fast.

348
00:21:52,066 --> 00:21:54,007
Now, there are benefits to this, right?

349
00:21:54,007 --> 00:21:56,688
The system that Will described is so flexible

350
00:21:56,688 --> 00:21:58,469
that we really didn't have to write any new code.

351
00:21:58,755 --> 00:22:02,055
when we needed to add anything to the teen scene.

352
00:22:02,055 --> 00:22:05,316
The cons though were that things were really brittle.

353
00:22:05,316 --> 00:22:07,457
All those chains where you see a red box,

354
00:22:07,457 --> 00:22:09,777
that's a node you have to hit for the game

355
00:22:09,777 --> 00:22:11,357
to essentially continue playing.

356
00:22:11,357 --> 00:22:15,358
And if you interrupt any one of those chains,

357
00:22:15,358 --> 00:22:18,079
if you fire an event that prevents the next one

358
00:22:18,079 --> 00:22:19,659
from firing, game over.

359
00:22:19,659 --> 00:22:22,220
You're sort of broken at this point.

360
00:22:22,220 --> 00:22:25,660
So we needed to find a way to

361
00:22:26,795 --> 00:22:31,220
manage this, basically this creative content pipeline,

362
00:22:31,220 --> 00:22:36,086
so that writers could reason about what they were writing,

363
00:22:36,086 --> 00:22:38,869
feel confident doing rewrites.

364
00:22:39,657 --> 00:22:42,017
Like, this game is massively branching.

365
00:22:42,017 --> 00:22:44,098
It's non-linear, right?

366
00:22:44,098 --> 00:22:45,318
This is not a script.

367
00:22:45,318 --> 00:22:47,459
Everything, every line is independent.

368
00:22:47,459 --> 00:22:48,680
It can be fired from anywhere,

369
00:22:48,680 --> 00:22:51,681
it can trigger any other line based on context in the game.

370
00:22:51,681 --> 00:22:54,261
You know, are the teens aware of me yet?

371
00:22:54,261 --> 00:22:55,442
Have I been nice to them?

372
00:22:55,442 --> 00:22:58,063
Have I thrown their boombox into the water yet?

373
00:22:58,063 --> 00:23:00,724
All of these things change the entire

374
00:23:00,724 --> 00:23:02,044
shape of the conversation.

375
00:23:02,945 --> 00:23:05,407
Interruptions make this even more complicated.

376
00:23:05,407 --> 00:23:12,975
And the dirty secret with a lot of this sort of branching dialogue in the industry is that Excel is the tool that people are using.

377
00:23:12,975 --> 00:23:18,301
I mean, I've seen talks at GDC this year where people have shown their massive Excel databases.

378
00:23:18,301 --> 00:23:21,744
And I get it. You know, this is a way to give lines a unique...

379
00:23:23,086 --> 00:23:28,279
ID and to sort of track content in a programistic way, but it's not a creative tool.

380
00:23:28,279 --> 00:23:32,188
It's very, very hard to think like a writer using that.

381
00:23:33,002 --> 00:23:36,205
To that end, I built a tool called Magpie.

382
00:23:36,205 --> 00:23:40,569
This was our dialog CMS.

383
00:23:40,569 --> 00:23:45,854
It's a web-based tool, which meant that basically all

384
00:23:45,854 --> 00:23:49,877
writing would flow into this system where it could be

385
00:23:49,877 --> 00:23:50,778
tagged, edited.

386
00:23:50,778 --> 00:23:54,742
It could drive our voice recording pipeline.

387
00:23:54,742 --> 00:23:58,225
And then the event system in Unity would pull from a JSON

388
00:23:58,225 --> 00:23:58,425
API.

389
00:23:59,168 --> 00:24:03,750
and keep the data there fresh and local.

390
00:24:03,750 --> 00:24:08,393
So Magpie's goals were that the writers

391
00:24:08,393 --> 00:24:10,233
could use whatever creative tools they wanted to,

392
00:24:10,233 --> 00:24:14,755
that it would be bulk imported into this database.

393
00:24:14,755 --> 00:24:18,777
We could have checks on the validity of data,

394
00:24:18,777 --> 00:24:22,199
basically no incorrect lines,

395
00:24:22,199 --> 00:24:26,460
and that changes could be made non-destructively,

396
00:24:26,460 --> 00:24:27,621
so we would never lose work.

397
00:24:28,292 --> 00:24:33,404
And basically, eventually we hope this would grow

398
00:24:33,404 --> 00:24:34,286
into a localization tool,

399
00:24:34,286 --> 00:24:36,190
which I'm gonna talk about in a little bit.

400
00:24:37,770 --> 00:24:42,011
I want to speak to how great web-based tools are for something like this.

401
00:24:42,011 --> 00:24:45,973
Like, this is a content management system, and when it lives on the web, that means any

402
00:24:45,973 --> 00:24:49,574
team member can access it from any place in the world.

403
00:24:49,574 --> 00:24:53,116
They can access it on their phone, read through data, make edits.

404
00:24:53,116 --> 00:24:56,457
You can hand logins to other team members who aren't necessarily on Unity.

405
00:24:56,457 --> 00:24:57,938
Maybe they're in another country.

406
00:24:59,957 --> 00:25:03,961
And plus you can build these great dashboards.

407
00:25:03,961 --> 00:25:06,222
So this let us track our recording progress on the left,

408
00:25:06,222 --> 00:25:09,145
our progress towards wiring the game in on the right.

409
00:25:09,145 --> 00:25:12,667
Each of those event lists that you see in purple down below

410
00:25:12,667 --> 00:25:15,069
has a localization tracker on it.

411
00:25:15,069 --> 00:25:18,312
So it let us kind of reason about the progress

412
00:25:18,312 --> 00:25:20,093
we were making towards a complete game.

413
00:25:20,093 --> 00:25:24,717
We also use this tool called Status Board that Panic,

414
00:25:24,717 --> 00:25:27,980
Panic is like the god daddy of Firewatch.

415
00:25:28,755 --> 00:25:30,376
They publish the game with us.

416
00:25:30,376 --> 00:25:33,357
And they make this great tool for iPads,

417
00:25:33,357 --> 00:25:34,657
which gives you all these great widgets.

418
00:25:34,657 --> 00:25:37,098
And I just wanted to show that we have the bus times,

419
00:25:37,098 --> 00:25:38,979
the San Francisco and Muni bus times on the left,

420
00:25:38,979 --> 00:25:40,179
in the upper left.

421
00:25:40,179 --> 00:25:41,660
In the lower left, we have the number of times

422
00:25:41,660 --> 00:25:43,480
every Firewatch team member has been fired

423
00:25:43,480 --> 00:25:44,541
for making bad puns.

424
00:25:45,545 --> 00:25:47,747
Yeah, William's at zero there.

425
00:25:47,747 --> 00:25:49,970
I guess he was actually doing work the whole time

426
00:25:49,970 --> 00:25:52,612
while we were making bad puns in Slack.

427
00:25:52,612 --> 00:25:54,694
But if you enhance the photo, you

428
00:25:54,694 --> 00:25:56,816
can see that we're also tracking our line data.

429
00:25:56,816 --> 00:25:58,738
So basically, every time you come in the morning,

430
00:25:58,738 --> 00:26:00,940
you could see, OK, are we recording?

431
00:26:00,940 --> 00:26:03,622
Are we wiring?

432
00:26:03,622 --> 00:26:06,005
Did we just write a whole bunch of new content

433
00:26:06,005 --> 00:26:08,187
that made our lines move in the wrong direction?

434
00:26:08,187 --> 00:26:10,609
We definitely saw that a few times.

435
00:26:11,452 --> 00:26:16,802
Okay, so this is the process for getting written content into Magpie.

436
00:26:16,802 --> 00:26:19,708
First, a writer delivers a plain text document.

437
00:26:20,561 --> 00:26:23,843
Sean Vanneman, the head writer on Firewatch, uses Scrivener,

438
00:26:23,843 --> 00:26:26,124
but this could be any tool you choose.

439
00:26:26,124 --> 00:26:29,426
And basically, it's a lightweight syntax for denoting,

440
00:26:29,426 --> 00:26:31,627
like, what's the name of this conversation?

441
00:26:31,627 --> 00:26:32,647
What's a dialogue choice?

442
00:26:32,647 --> 00:26:33,708
Who's the speaker, et cetera?

443
00:26:33,708 --> 00:26:37,050
So they deliver that.

444
00:26:37,050 --> 00:26:38,550
Magpie has an import form.

445
00:26:38,550 --> 00:26:42,973
It parses all those lines into individual, basically,

446
00:26:42,973 --> 00:26:46,154
rows in a MySQL database that lives in the cloud.

447
00:26:46,154 --> 00:26:47,955
It's like a Heroku-based app.

448
00:26:47,955 --> 00:26:48,275
And

449
00:26:49,420 --> 00:26:52,361
And it adds the notes, it adds the speaker,

450
00:26:52,361 --> 00:26:53,982
and it puts them all into an organized list.

451
00:26:53,982 --> 00:26:58,963
And most importantly, it gives every line a unique ID.

452
00:26:58,963 --> 00:27:01,604
Like this is what really is required

453
00:27:01,604 --> 00:27:03,885
for managing a pipeline, is a single identifier

454
00:27:03,885 --> 00:27:06,545
that you can track a line from start to finish.

455
00:27:06,545 --> 00:27:10,247
Once it's in the system, we've got full text search.

456
00:27:10,647 --> 00:27:15,131
uh... through lines and sections you can just go right in and edit a caption in line

457
00:27:15,131 --> 00:27:17,713
uh... we also had a free form tagging system so you could say

458
00:27:17,713 --> 00:27:21,136
this is a line that could happen on day two or day three

459
00:27:21,136 --> 00:27:24,179
uh... you can also add uh... you know a separate tag for this is about brian

460
00:27:24,179 --> 00:27:25,500
goodwin or this is about relationships

461
00:27:25,500 --> 00:27:29,544
uh... basically any ways that you could uh...

462
00:27:29,544 --> 00:27:32,947
organize this content in a not like it didn't all have to be in a single list

463
00:27:32,947 --> 00:27:35,028
is basically what I'm trying to say

464
00:27:35,733 --> 00:27:40,018
Then for recording, you have one button on the upper right that

465
00:27:40,018 --> 00:27:44,864
downloads, gives you a, a CSV export of your lines that could

466
00:27:44,864 --> 00:27:47,487
then be brought into Google Sheets. Uh, if anyone's doing

467
00:27:47,487 --> 00:27:50,751
voiceover on their games, I cannot speak to how amazing this

468
00:27:50,751 --> 00:27:53,494
tool ended up being. Um, just because...

469
00:27:54,435 --> 00:27:59,218
We'd have our two, well basically you can see the line IDs on the left there, right?

470
00:27:59,218 --> 00:28:02,900
And then the session takes and chosen reads.

471
00:28:02,900 --> 00:28:08,023
What that basically means is Rich, Summer, and Sissy Jones, our lead actors, would be

472
00:28:08,023 --> 00:28:13,026
in their home studios all recording in their own voice setup, right?

473
00:28:13,026 --> 00:28:16,108
Me, Sean, Rich, Sissy would all be on a Skype call together.

474
00:28:16,887 --> 00:28:23,050
And they would be recording, but you can't use Skype.

475
00:28:23,050 --> 00:28:26,352
You can't use Skype for obvious quality reasons, right?

476
00:28:26,352 --> 00:28:30,334
So what we need instead is all of us to be on our own setups.

477
00:28:30,334 --> 00:28:32,435
But Rich and Sissy's little icons are, sorry,

478
00:28:32,435 --> 00:28:35,597
they're little colored boxes are moving around,

479
00:28:35,597 --> 00:28:37,718
and we're all on the same shooting script.

480
00:28:37,718 --> 00:28:38,458
They're recording.

481
00:28:38,458 --> 00:28:42,160
They're keying off of each other's vocal performances.

482
00:28:42,160 --> 00:28:44,182
They're reacting to each other's emotions.

483
00:28:44,182 --> 00:28:44,502
And.

484
00:28:46,047 --> 00:28:52,429
and then they're delivering separate wave files. A uh intern is chopping those wave files up

485
00:28:52,429 --> 00:28:58,551
into using the chosen reads that Sean has identified. You know he's like oh okay take 3 was

486
00:28:58,551 --> 00:29:03,533
great on line 2100. Uh take 4 was great on 2200. And then um they're just delivering these

487
00:29:03,533 --> 00:29:07,534
wave files that could be imported into into magpie and into the system. Uh.

488
00:29:07,534 --> 00:29:12,236
Hello? Henry are you there? Once you're there. Hello Henry. Having a nice afternoon?

489
00:29:12,872 --> 00:29:16,713
You can easily listen to the lines as recorded,

490
00:29:16,713 --> 00:29:18,213
updating the captions,

491
00:29:18,213 --> 00:29:19,894
because this is a very common occurrence

492
00:29:19,894 --> 00:29:22,515
where the voice actor does their own interpretation,

493
00:29:22,515 --> 00:29:24,695
changes the phrasing to make it read better.

494
00:29:24,695 --> 00:29:26,656
So you need to go back in and collect the captions.

495
00:29:26,656 --> 00:29:28,896
And this is something you could do from anywhere,

496
00:29:28,896 --> 00:29:29,437
thanks to MagPi.

497
00:29:29,437 --> 00:29:30,837
You didn't have to have source control access.

498
00:29:30,837 --> 00:29:33,258
You didn't have to have a Unity install running.

499
00:29:34,984 --> 00:29:40,331
Um, so I want to speak a little bit before I move on to, uh, what we originally wanted

500
00:29:40,331 --> 00:29:42,734
to do with this system and where it landed.

501
00:29:42,734 --> 00:29:46,939
Originally, we wanted to have one unified content pipeline that would do all the event

502
00:29:46,939 --> 00:29:51,465
data that Will showed with, you know, what triggers what.

503
00:29:51,865 --> 00:29:53,588
every event response possible in the game,

504
00:29:53,588 --> 00:29:56,612
along with all of the written content.

505
00:29:56,612 --> 00:29:58,435
We ended up focusing on two tools,

506
00:29:58,435 --> 00:30:03,022
one for content generation and recording and localization,

507
00:30:03,022 --> 00:30:05,706
which is Magpie, and one for wiring.

508
00:30:07,237 --> 00:30:12,520
this really did help us focus, um, although ultimately I think that's, that's the dream.

509
00:30:12,520 --> 00:30:17,063
Ultimately, I think, uh, a CMS that could manage all, all of your data in one searchable

510
00:30:17,063 --> 00:30:21,166
place would be, uh, uh, would be the way to go, it would just have taken the entirety of our

511
00:30:21,166 --> 00:30:23,087
development cycle, so that wasn't going to happen.

512
00:30:24,989 --> 00:30:30,333
So this uh next case study is the Julia conversations. This happens on day two. This is

513
00:30:30,333 --> 00:30:36,219
Henry and Delilah starting to talk about relationships. Why is Henry out here? Uh is he

514
00:30:36,219 --> 00:30:41,324
married? Why isn't his wife here? Etcetera. Um this is when we had this system more in

515
00:30:41,324 --> 00:30:46,308
place. We had Magpie, we had done several revs on the event system uh and we had all the

516
00:30:46,308 --> 00:30:47,469
tools we needed to uh.

517
00:30:48,444 --> 00:30:59,666
to create this. So I want to show one quick example of one possible playthrough of this

518
00:30:59,666 --> 00:31:01,127
four-part, very context-dependent conversation.

519
00:31:01,127 --> 00:31:09,588
Trust me, I know how it is. So, did you break any hearts back in Colorado when you took

520
00:31:09,588 --> 00:31:16,129
this job? I myself have chosen to never get attached to anyone who would miss me, but

521
00:31:16,129 --> 00:31:17,250
I know I'm a bit of an outlier.

522
00:31:18,127 --> 00:31:20,088
Wait, I don't mean that the way it sounds.

523
00:31:20,088 --> 00:31:24,090
I mean, I care about people and I like companionship as much as the next person.

524
00:31:24,090 --> 00:31:27,352
But why does it have to come from the same person for your whole life?

525
00:31:27,352 --> 00:31:31,194
We don't really need to talk about this stuff, right?

526
00:31:31,194 --> 00:31:32,175
Well, what would you prefer?

527
00:31:32,175 --> 00:31:34,436
Uh, literally anything.

528
00:31:34,436 --> 00:31:38,738
Do you want to know about the homeopathic remedy for yeast infections I came up with last summer?

529
00:31:38,738 --> 00:31:39,198
Okay, never mind.

530
00:31:39,198 --> 00:31:39,438
Your loss, pal.

531
00:31:46,704 --> 00:31:49,845
So this is an example of Henry kind of shutting Delilah down.

532
00:31:49,845 --> 00:31:52,106
He doesn't want to talk about relationships.

533
00:31:52,106 --> 00:31:54,266
He just wants to do his job and wander out in the woods.

534
00:31:54,266 --> 00:31:57,287
Let's compare that to how differently

535
00:31:57,287 --> 00:32:02,288
it can be if you've shared more earlier in the game

536
00:32:02,288 --> 00:32:04,909
and earlier in the day.

537
00:32:04,909 --> 00:32:12,231
Same conversation, same game mode.

538
00:32:13,228 --> 00:32:19,852
You know, if it makes you feel any better, you're a member of a diverse club of lookouts that have come to the thoroughfare after a breakup.

539
00:32:19,852 --> 00:32:23,514
There was Vernon, whose wife got put away for running cocaine.

540
00:32:23,514 --> 00:32:28,017
Becca, who was widowed after her husband, a jockey, was trampled by his horse.

541
00:32:28,017 --> 00:32:32,239
And Sharon, whose boyfriend had his own boyfriend.

542
00:32:32,239 --> 00:32:36,522
Maybe you boned the neighbor. Maybe she boned the neighbor. Maybe you both did.

543
00:32:36,522 --> 00:32:39,563
I don't judge. And if you ever want to talk breakups, I'm your gal.

544
00:32:39,563 --> 00:32:42,365
It wasn't anyone's fault. You know, neither of us boned the neighbor.

545
00:32:43,257 --> 00:32:44,799
So you just grew apart?

546
00:32:44,799 --> 00:32:47,321
We just couldn't be together anymore.

547
00:32:47,321 --> 00:32:51,705
How does that make you feel?

548
00:32:51,705 --> 00:32:53,166
Not very good.

549
00:32:53,166 --> 00:32:53,447
Sorry.

550
00:32:53,447 --> 00:32:55,128
Yeah, what are you gonna do?

551
00:33:04,432 --> 00:33:08,073
So this moment has so much going on.

552
00:33:08,073 --> 00:33:10,113
Again, it's a four-part conversation.

553
00:33:10,113 --> 00:33:12,554
It's triggered by many areas in the world

554
00:33:12,554 --> 00:33:14,094
that you sort of walk through,

555
00:33:14,094 --> 00:33:15,914
but each one of those doesn't necessarily

556
00:33:15,914 --> 00:33:17,575
trigger the same conversation.

557
00:33:17,575 --> 00:33:19,075
It's dependent on how long has it been

558
00:33:19,075 --> 00:33:20,215
since the last time you spoke.

559
00:33:20,215 --> 00:33:22,796
We wanted to space these out.

560
00:33:22,796 --> 00:33:25,396
What have you shared with Delilah so far?

561
00:33:25,396 --> 00:33:26,997
Have you kind of indicated to her

562
00:33:26,997 --> 00:33:28,417
that you like talking about this stuff,

563
00:33:28,417 --> 00:33:31,778
or does Delilah sort of need to wheedle in on you?

564
00:33:33,078 --> 00:33:38,460
This was also the conversation where we introduced the idea of a crit path conversation or a

565
00:33:38,460 --> 00:33:42,421
non-interruptible conversation. There's some of these chains which once they're started, we

566
00:33:42,421 --> 00:33:47,683
just can't let them break because the game state depends on it. We need Delilah to know the

567
00:33:47,683 --> 00:33:51,384
full truth about your wife once you've decided to change it. We can't have Henry just going and

568
00:33:51,384 --> 00:33:57,307
saying, oh hey, a bird, and interrupting that in these moments, even though generally that was

569
00:33:57,307 --> 00:33:59,607
the case. That was always possible in the game.

570
00:34:03,530 --> 00:34:09,712
this is not a lot like two, you know, goons yelling at each other about needing more ammo

571
00:34:09,712 --> 00:34:14,875
while hiding behind crates anymore. Like, we've kind of drifted pretty far away from the

572
00:34:14,875 --> 00:34:19,977
origins of the system. The, you know, this is more like an independent film or romantic

573
00:34:19,977 --> 00:34:25,379
comedy or something going on. And the complexity started to balloon pretty quickly here.

574
00:34:25,379 --> 00:34:32,323
This is, all of those are, Delilah's calling you on day two. That's the only event that's

575
00:34:32,323 --> 00:34:32,843
triggered there.

576
00:34:33,254 --> 00:34:39,076
those are all different variants for that. Um, and this was one of them, you know, the, the

577
00:34:39,076 --> 00:34:42,757
big things we've, uh, learned from Valve is that you can handle this complexity pretty

578
00:34:42,757 --> 00:34:48,978
simply by sorting your event lists. Uh, if you just have your event list sorted by number of

579
00:34:48,978 --> 00:34:54,260
requirements, you're going to go through them in order until you find one that matches

580
00:34:54,260 --> 00:34:59,041
every, every requirement and that's going to be your best match. That's going to be the

581
00:34:59,041 --> 00:35:02,642
most specific thing you could be talking about. The, you know...

582
00:35:03,562 --> 00:35:05,623
the best choice at that exact moment.

583
00:35:05,623 --> 00:35:10,508
So, you know, here's an example of like,

584
00:35:10,508 --> 00:35:14,671
of the requirement list for a conversation

585
00:35:14,671 --> 00:35:16,593
where Delilah doesn't know much.

586
00:35:16,593 --> 00:35:18,114
She doesn't know you've had a breakup.

587
00:35:18,114 --> 00:35:18,935
She doesn't know about Julia.

588
00:35:18,935 --> 00:35:20,957
She doesn't know that you had a wife.

589
00:35:20,957 --> 00:35:22,218
She doesn't know that your wife is sick.

590
00:35:22,218 --> 00:35:23,699
She knows almost nothing,

591
00:35:23,699 --> 00:35:25,521
but you're still friendly and chit-chatting.

592
00:35:25,521 --> 00:35:27,983
And so she's trying to still pull information out of you.

593
00:35:27,983 --> 00:35:29,985
The absence of facts being said.

594
00:35:30,213 --> 00:35:35,107
that is still, you know, context, that's still a valid match, that's still something that

595
00:35:35,107 --> 00:35:36,711
you care about. And Delilah will...

596
00:35:38,367 --> 00:35:39,807
assume things about you.

597
00:35:39,807 --> 00:35:40,948
She'll just start making things up.

598
00:35:40,948 --> 00:35:42,888
You haven't ever talked about having a breakup,

599
00:35:42,888 --> 00:35:44,869
and here she is talking about you having a great plan

600
00:35:44,869 --> 00:35:46,169
to get back together with your ex,

601
00:35:46,169 --> 00:35:48,849
because she's like, why else would you have decided

602
00:35:48,849 --> 00:35:51,390
to come out here in the wilderness for a summer?

603
00:35:51,390 --> 00:35:53,390
You've gotta be lonely or sad or something.

604
00:35:53,390 --> 00:35:54,070
She's projecting.

605
00:35:54,070 --> 00:35:57,091
It makes her seem like a very real person,

606
00:35:57,091 --> 00:35:59,712
and really the player hasn't done anything to earn that.

607
00:35:59,712 --> 00:36:04,193
It's just a clever use of the lack of context

608
00:36:04,193 --> 00:36:05,453
being context in and of itself.

609
00:36:07,855 --> 00:36:11,837
The flip side of this is if Delilah knows almost everything about Julia.

610
00:36:11,837 --> 00:36:18,481
She knows who Julia is, knows that she's sick, knows that you had a breakup, the whole nine

611
00:36:18,481 --> 00:36:19,741
yards.

612
00:36:19,741 --> 00:36:21,342
Now she can ask very targeted questions.

613
00:36:21,342 --> 00:36:22,683
What does she have?

614
00:36:22,683 --> 00:36:26,024
She's trying to pull information from the player.

615
00:36:26,024 --> 00:36:30,327
She's trying to get you as the player to engage and kind of respond to this.

616
00:36:30,788 --> 00:36:36,390
So that first requirement up there, knows your partner has Alzheimer's, that's like the most

617
00:36:36,390 --> 00:36:41,492
specific information you could have. If that's set to true, we know she knows everything else

618
00:36:41,492 --> 00:36:45,434
because you've already gone through all of this conversation. We know that she knows you have a

619
00:36:45,434 --> 00:36:50,776
partner, that your partner is sick, that her name is Julia. The designer knows all of that. So

620
00:36:50,776 --> 00:36:54,617
if we were to make one of these that said, that required...

621
00:36:55,207 --> 00:36:59,789
her to know that Delilah is sick, then we would need that to be the most precise match,

622
00:36:59,789 --> 00:37:06,413
even though it only had one requirement. So that's what that pad up there is for. The nice,

623
00:37:06,413 --> 00:37:10,716
easy, clean, oh just sort by the number of requirements and you'll always get the most

624
00:37:10,716 --> 00:37:15,198
specific is only true as long as your blackboard facts are not dependent on each other once

625
00:37:15,198 --> 00:37:19,281
you get that. You need to let your designers be able to cheat the priority of things.

626
00:37:19,281 --> 00:37:21,983
Because if you've got this bomb of a line...

627
00:37:22,635 --> 00:37:27,016
you want that to hit in the right, if it's valid at all.

628
00:37:27,016 --> 00:37:34,137
This long multi-part cross day conversation

629
00:37:34,137 --> 00:37:38,238
also sort of taught us that we had a major problem

630
00:37:38,238 --> 00:37:42,699
in the system we had built.

631
00:37:42,699 --> 00:37:45,379
Kind of, you know, the conversation problem.

632
00:37:45,379 --> 00:37:47,800
Conversations are linear.

633
00:37:48,690 --> 00:37:51,933
you know, they seem linear, they sound linear to the player, but under the hood they're

634
00:37:51,933 --> 00:37:56,637
branching like crazy. But if we want you to not be able to interrupt, if we want to like

635
00:37:56,637 --> 00:38:01,381
pull in black bars or bring up a musical cue or have any other sort of like modal game

636
00:38:01,381 --> 00:38:06,426
state go on, we need to make sure that every possible way that you leave that conversation

637
00:38:06,426 --> 00:38:10,710
undoes all of that modal state. Um, this, you know...

638
00:38:11,423 --> 00:38:16,408
is fine when you only have a linear conversation. The second you introduce branching though,

639
00:38:16,408 --> 00:38:22,193
you can come in, find content that was perfectly working, add a nice little choice to it and

640
00:38:22,193 --> 00:38:26,176
you can no longer radio about anything ever again in the rest of the game until you load

641
00:38:26,176 --> 00:38:32,362
from a safe. So, it's not really ideal. The, uh, yeah. At the end of the day, um, I think

642
00:38:40,972 --> 00:38:45,595
flexible tools are fragile. If you can do anything, you kind of have to do everything

643
00:38:45,595 --> 00:38:51,219
right. So when you build these really, really flexible, really expressive tools for your

644
00:38:51,219 --> 00:38:55,262
designers, you also need to make sure that you're supporting them with all of the debugging

645
00:38:55,262 --> 00:38:56,863
they could possibly need.

646
00:38:58,617 --> 00:39:00,657
You need to make sure that they can continue to experiment,

647
00:39:00,657 --> 00:39:02,878
even when things have gone horribly wrong.

648
00:39:02,878 --> 00:39:06,319
Like, it took me way too long to add a debug option

649
00:39:06,319 --> 00:39:08,420
to just turn back on the radio,

650
00:39:08,420 --> 00:39:09,721
no matter what the hell had happened,

651
00:39:09,721 --> 00:39:11,001
or bring down the black bars,

652
00:39:11,001 --> 00:39:13,802
no matter what the hell had happened.

653
00:39:13,802 --> 00:39:16,943
If you're going to give designers

654
00:39:16,943 --> 00:39:18,624
and narrative designers and writers

655
00:39:18,624 --> 00:39:19,724
the power to break your game,

656
00:39:19,724 --> 00:39:21,985
you have to give them the power to fix it

657
00:39:21,985 --> 00:39:23,966
in editor while playing

658
00:39:23,966 --> 00:39:26,367
with minimal, minimal, minimal friction.

659
00:39:27,712 --> 00:39:31,996
and then as you're doing that you'll sort of learn best practices. You'll figure out, oh,

660
00:39:31,996 --> 00:39:39,581
these are the tools I need to keep people working. I should automate those tools. So, we

661
00:39:39,581 --> 00:39:43,604
had everything more or less working. We had events going off. We had conversations

662
00:39:43,604 --> 00:39:48,488
happening. Big long complicated ones. And then about a week before we shipped the game we

663
00:39:48,488 --> 00:39:53,392
decided that we should probably localize it. Um. It's a big world out there.

664
00:39:54,096 --> 00:39:59,921
So if you. This is actually the first screenshot. The screenshot I took of my desktop of the

665
00:39:59,921 --> 00:40:08,108
first time that our Russian localization was not obviously broken. We shipped February 9th. The

666
00:40:08,108 --> 00:40:15,214
clock at the top, February 8th, 8pm. So this was coming in hot to say the least.

667
00:40:17,284 --> 00:40:23,070
Yeah, so here's our quick advice for how to do a, like, turn on a dime localization.

668
00:40:23,070 --> 00:40:27,615
First, before you ever start localizing your text or approach a localization house,

669
00:40:27,615 --> 00:40:28,836
use a pseudo-language.

670
00:40:28,836 --> 00:40:33,682
So we had a script that would run through all our dialogue and make these two pseudo-languages.

671
00:40:33,682 --> 00:40:35,163
Metal is English, but more metal.

672
00:40:37,063 --> 00:40:40,026
which tests UTF support, Unicode,

673
00:40:40,026 --> 00:40:43,150
and Wide is a wider version of English

674
00:40:43,150 --> 00:40:44,752
that tests languages like German,

675
00:40:44,752 --> 00:40:46,494
which tend to be much longer

676
00:40:46,494 --> 00:40:50,038
and to awkwardly break your slide in a weird spot.

677
00:40:50,517 --> 00:40:53,117
So we had done that luckily, so we knew pretty well

678
00:40:53,117 --> 00:40:56,319
that our UI could support other languages.

679
00:40:56,319 --> 00:40:57,739
And then we needed to get the content.

680
00:40:57,739 --> 00:41:00,120
So this is where Magpie came in handy again.

681
00:41:00,120 --> 00:41:05,282
We quickly added a new field and a new interface to let,

682
00:41:05,282 --> 00:41:08,823
so basically we could give a login to Slava,

683
00:41:08,823 --> 00:41:11,044
our amazing Russian translator.

684
00:41:12,724 --> 00:41:19,227
and he delivered a full Russian localization of Firewatch within a week, which was just so

685
00:41:19,227 --> 00:41:26,471
awesome. And then the benefit of that is for later loaks, translators could go through and see

686
00:41:26,471 --> 00:41:31,573
other translators work, right? So it kind of became this Rosetta stone where if you weren't

687
00:41:31,573 --> 00:41:36,135
quite sure about the meaning of something, you could look at the work of others.

688
00:41:38,132 --> 00:41:41,935
So this is, all localization tools were sort of built with the same mindset we built our

689
00:41:41,935 --> 00:41:47,121
event tools on, uh, which is be flexible early, build as fast as possible, uh, get things up

690
00:41:47,121 --> 00:41:52,266
and running as quickly as you possibly can. Um, we didn't have a ton of programmers, we

691
00:41:52,266 --> 00:41:56,990
did, you know, we had two programmers for most of the project actually in the editor, so it

692
00:41:56,990 --> 00:42:01,215
needed to be really, really trivial to add, uh, to, to localize any strings in the game.

693
00:42:02,115 --> 00:42:05,997
We used C sharp reflection to just add a little string tag, a little tag to any string in the

694
00:42:05,997 --> 00:42:12,400
game. We dump it out to a JSON file in a little dictionary. Very, very, very simple. We just

695
00:42:12,400 --> 00:42:17,402
used, dumped everything to English key, English value dictionary and then localized the

696
00:42:17,402 --> 00:42:22,924
English values. This, if you've ever localized a game you can probably figure out why this

697
00:42:22,924 --> 00:42:27,206
didn't go super well. Um, so, um, so, um, so, um, so, um, so, um, so, um, so, um, so, um, so, um, so, um,

698
00:42:27,965 --> 00:42:31,946
Every time you fix a typo in your English, you break every translation that has already been

699
00:42:31,946 --> 00:42:38,247
made. Um, we've handled this just by, you know, going in and doing local dumps frequently. Um,

700
00:42:38,247 --> 00:42:43,468
every time that you built the game, it actually dumped all of your localization out and then

701
00:42:43,468 --> 00:42:47,749
you could just pull for magpie and it would fix it. So it really wasn't too bad, it just

702
00:42:47,749 --> 00:42:53,430
required, you know, kind of dotting your eyes. Um, the right way to do this is to do what's

703
00:42:53,430 --> 00:42:54,790
called a local lock. Uh,

704
00:42:55,717 --> 00:43:01,699
I highly recommend the sort of English English key value pair translation scheme. It's very

705
00:43:01,699 --> 00:43:05,680
simple. It lets you hand it off to other people very quickly. Originally we were actually

706
00:43:05,680 --> 00:43:10,022
going to do only fan loc. So the idea was that we would generate these English English

707
00:43:10,022 --> 00:43:14,564
dictionaries, put them, make them available on the internet. People could translate, you

708
00:43:14,564 --> 00:43:19,286
know, the value side of it and upload it back up and it would all work. Uh, once we were

709
00:43:19,286 --> 00:43:21,247
doing professional localization of course, this...

710
00:43:21,822 --> 00:43:25,345
became a little bit more of a problem. We were getting dumps as we were still fixing bugs in

711
00:43:25,345 --> 00:43:30,709
our English. Um, the way that you handle that problem is you do a loc lock. At some point you

712
00:43:30,709 --> 00:43:34,752
say, nope, English is a translated language too. Just like everything else. We're

713
00:43:34,752 --> 00:43:41,837
translating from programmer English to actual English. And that's fine. We were originally

714
00:43:41,837 --> 00:43:47,241
going to do that and then turned it off during a PAX demo because of performance problems.

715
00:43:47,241 --> 00:43:49,843
And we never turned it back on. So...

716
00:43:49,843 --> 00:43:50,584
Don't be like us.

717
00:43:50,584 --> 00:43:51,525
Yeah, do the right thing.

718
00:43:52,120 --> 00:43:56,324
If you want to do the really, really right thing, every string in your game should get a unique ID.

719
00:43:56,324 --> 00:44:00,727
Those unique IDs should be persistent for forever. They should handle copy and pasting.

720
00:44:00,727 --> 00:44:04,510
You should never have a duplicate key. You should not be able to break them with prefabs.

721
00:44:04,510 --> 00:44:10,375
That's really hard. You have to build that into your editor in a really fundamental way.

722
00:44:10,375 --> 00:44:14,218
We didn't have that engineering support, so we went with the English English Dictionary.

723
00:44:14,218 --> 00:44:19,703
If you find yourself with, you know, unlimited time or money, locked string IDs are the way to go.

724
00:44:19,703 --> 00:44:19,743
So...

725
00:44:21,365 --> 00:44:24,006
Yeah, clearly we had a localization success

726
00:44:24,006 --> 00:44:28,927
and with just about a one week to go, more or less.

727
00:44:28,927 --> 00:44:34,249
So again, loc-lock, really, really important.

728
00:44:34,249 --> 00:44:37,590
We're really proud that we managed to ship Russian.

729
00:44:37,590 --> 00:44:40,991
But yeah, there's a lot of stuff you can do early on

730
00:44:40,991 --> 00:44:42,151
to save yourself that pain.

731
00:44:42,151 --> 00:44:46,072
Oh, so yeah, just some closing thoughts,

732
00:44:46,072 --> 00:44:48,393
just so we'll have some time for questions.

733
00:44:49,748 --> 00:44:51,369
What did we learn?

734
00:44:51,369 --> 00:44:53,551
We learned that a small team, by investing in tools

735
00:44:53,551 --> 00:44:56,592
that are flexible and also writer-friendly,

736
00:44:56,592 --> 00:44:59,414
can deliver a AAA production with an indie scope.

737
00:44:59,414 --> 00:45:02,836
We were between eight and 12 people most of the time

738
00:45:02,836 --> 00:45:04,177
on the project, is that about right?

739
00:45:05,477 --> 00:45:10,799
We learned that an iterative design process can deliver a game that feels much more

740
00:45:10,799 --> 00:45:15,401
cinematic and human, not like a bunch of lines in a spreadsheet,

741
00:45:15,401 --> 00:45:23,223
like actual two people talking back and forth, and that a super flexible system can be very change tolerant

742
00:45:23,223 --> 00:45:28,085
and can support this growing organic complexity as the project goes along.

743
00:45:32,030 --> 00:45:35,711
make your tools general early, you don't know the game you're making. I mean unless, you

744
00:45:35,711 --> 00:45:40,473
know, you, maybe you're awesome and you do. Um, but in general, you, you're gonna be

745
00:45:40,473 --> 00:45:45,854
exploring and finding out what game it is that you're really making as you're starting. So,

746
00:45:45,854 --> 00:45:52,677
make your tools general, make them flexible, make, make them, you know, survive the sort of

747
00:45:52,677 --> 00:46:00,840
birthing pangs of, of, of early, uh, production. The biggest win for our event system is

748
00:46:01,193 --> 00:46:05,756
Every single system in the game that triggers a new event immediately gets the power to

749
00:46:05,756 --> 00:46:10,019
fire any response in the game, whether it's something that was wired up in Playmaker or

750
00:46:10,019 --> 00:46:11,940
any of those response types, any dialogue, anything.

751
00:46:12,867 --> 00:46:18,312
And vice versa, every time we add a new response type, every single system that fires events

752
00:46:18,312 --> 00:46:22,717
then gets access to that power as well. It's multiplicative but in a good way. Normally you

753
00:46:22,717 --> 00:46:26,000
have that problem in design where, oh, we need everything to work with everything so we've got

754
00:46:26,000 --> 00:46:30,224
to write a special case for everything in that grid. This is the opposite. You have no

755
00:46:30,224 --> 00:46:34,708
special cases. You don't make any assumptions. Every one of your response types can happen

756
00:46:34,708 --> 00:46:37,891
at any time from anywhere. Any event can trigger from any system.

757
00:46:38,191 --> 00:46:46,099
and any event can trigger any response type. So you just get all that matrix for free. However,

758
00:46:46,099 --> 00:46:51,104
as you start to finalize your game, you're going to figure out what specific problems you are

759
00:46:51,104 --> 00:46:57,931
trying to solve. You can make tools for those specific problems. You should customize your

760
00:46:57,931 --> 00:46:59,953
tools for the exact problem you're trying to solve.

761
00:47:00,378 --> 00:47:04,040
The tricky bit is scheduling time for that work up front.

762
00:47:04,040 --> 00:47:07,782
Like, we knew about the conversation problem, you know,

763
00:47:07,782 --> 00:47:09,823
halfway through development,

764
00:47:09,823 --> 00:47:13,084
and we just didn't ever have the time to bring me,

765
00:47:13,084 --> 00:47:17,006
Patrick, Sean, Jake, Nels, all in the room,

766
00:47:17,006 --> 00:47:19,467
all sit down and all figure out what the right solution

767
00:47:19,467 --> 00:47:21,488
for the problem we had right in front of us

768
00:47:21,488 --> 00:47:22,109
really looked like.

769
00:47:22,109 --> 00:47:24,090
We were all too busy making the game

770
00:47:24,090 --> 00:47:25,931
as fast as humanly possible.

771
00:47:28,417 --> 00:47:33,121
Yeah, so just briefly to one more piece of further work if you were to pick up this system and

772
00:47:33,121 --> 00:47:38,686
keep going with something like it is we should structure, we should have structured our data

773
00:47:38,686 --> 00:47:43,791
around conversations, making them a first class citizen. We talked about the crit path

774
00:47:43,791 --> 00:47:48,215
conversation problem where we need to make dialogue non-interruptible. Well that's a modal

775
00:47:48,215 --> 00:47:50,657
state that was turned on at the beginning of a conversation.

776
00:47:50,917 --> 00:47:53,359
and had to be turned off at the end of the conversation.

777
00:47:53,359 --> 00:47:56,721
Problem being, conversations have multiple exit points,

778
00:47:56,721 --> 00:47:57,962
multiple entry points.

779
00:47:57,962 --> 00:47:58,923
And so for every one of those,

780
00:47:58,923 --> 00:48:00,304
you had to be absolutely sure

781
00:48:00,304 --> 00:48:02,785
that you were reaching a place where the,

782
00:48:02,785 --> 00:48:05,507
right, where the conversation was turned off.

783
00:48:05,507 --> 00:48:06,948
This was just the kind of thing that,

784
00:48:06,948 --> 00:48:09,370
we didn't need to change the event system

785
00:48:09,370 --> 00:48:10,951
in order to accommodate this.

786
00:48:10,951 --> 00:48:12,792
All we really needed was a bubble,

787
00:48:12,792 --> 00:48:15,534
a box around that long chain of conversations

788
00:48:15,534 --> 00:48:16,875
where we could say, oh, very nice, well.

789
00:48:17,115 --> 00:48:21,836
where we could say that guarantee lives on the conversation

790
00:48:21,836 --> 00:48:23,777
and is not dependent on any single line

791
00:48:23,777 --> 00:48:24,797
or single exit point of that chain.

792
00:48:24,797 --> 00:48:25,138
So that's our talk.

793
00:48:25,138 --> 00:48:26,858
We'd love to take some questions.

794
00:48:26,858 --> 00:48:29,519
Yeah, thank you guys very much.

795
00:48:29,519 --> 00:48:30,259
Thank you.

796
00:48:30,259 --> 00:48:30,580
Thank you.

797
00:48:30,580 --> 00:48:31,420
Thank you.

798
00:48:31,420 --> 00:48:31,880
Thank you.

799
00:48:31,880 --> 00:48:32,220
Thank you.

800
00:48:32,220 --> 00:48:32,420
Thank you.

801
00:48:32,420 --> 00:48:32,620
Thank you.

802
00:48:32,620 --> 00:48:33,101
Thank you.

803
00:48:33,101 --> 00:48:33,441
Thank you.

804
00:48:33,441 --> 00:48:42,024
Thank you.

805
00:48:42,024 --> 00:48:42,464
Thank you.

806
00:48:42,464 --> 00:48:42,784
Thank you.

807
00:48:42,784 --> 00:48:43,144
Thank you.

808
00:48:43,144 --> 00:48:44,685
Thank you.

809
00:48:44,685 --> 00:48:46,225
Thank you.

810
00:48:46,628 --> 00:48:52,029
evaluation. The web evaluation. And here's our contact information if you ever need to send

811
00:48:52,029 --> 00:48:54,430
either us an email or find us on Twitter. Questions? Alon.

812
00:48:54,430 --> 00:49:01,032
Hi. First of all, really enjoyed your talk. Thank you. I'm thinking about the graph that you

813
00:49:01,032 --> 00:49:06,134
had of the conversation with the multiple red boxes of which you had to hit at least one for

814
00:49:06,134 --> 00:49:09,875
the game to not break. How did you make sure that you ended up hitting at least one of them?

815
00:49:11,032 --> 00:49:15,934
uh, we had a tool for visualizing them, which is what that screenshot came from. So we could

816
00:49:15,934 --> 00:49:20,476
check it against that. But other than that we had no like programmatic guarantees. We had to

817
00:49:20,476 --> 00:49:24,658
playtest, right? I mean... Well, we eventually uh, put in a few safeties to get out of jail

818
00:49:24,658 --> 00:49:30,781
free card. If you just wanted to like, once you started any of the teen conversations, uh, we

819
00:49:30,781 --> 00:49:34,823
spawned a volume around where we knew you had triggered. Like a larger volume.

820
00:49:35,749 --> 00:49:37,989
that would trigger the, oh, you've walked away,

821
00:49:37,989 --> 00:49:40,330
you have chosen not to have this conversation,

822
00:49:40,330 --> 00:49:42,591
we're going to yell at you as you flee,

823
00:49:42,591 --> 00:49:45,231
as sort of a, yeah, get out of jail.

824
00:49:45,231 --> 00:49:47,832
Yeah, in that case, we used smart editor hacks

825
00:49:47,832 --> 00:49:50,393
to work around that fact, right,

826
00:49:50,393 --> 00:49:51,473
where you could create these guarantees.

827
00:49:51,473 --> 00:49:51,593
Yeah.

828
00:49:51,593 --> 00:49:52,574
All right, thank you.

829
00:49:52,574 --> 00:49:53,874
Hi, my question's about the voice acting,

830
00:49:53,874 --> 00:49:55,014
and again, thank you so much for having this,

831
00:49:55,014 --> 00:49:55,714
this has been really amazing.

832
00:50:03,771 --> 00:50:07,674
How did you manage to, or how were the designers able to

833
00:50:07,674 --> 00:50:11,737
pull together maybe different takes or readings

834
00:50:11,737 --> 00:50:14,879
of the voice acting so that it didn't sound like

835
00:50:14,879 --> 00:50:17,721
two AIs talking to each other or something?

836
00:50:17,721 --> 00:50:19,142
Yeah, it's all about recording.

837
00:50:19,142 --> 00:50:19,842
Oh sure, sorry.

838
00:50:19,842 --> 00:50:23,305
The question was how do you record voice actors

839
00:50:23,305 --> 00:50:24,626
so it doesn't sound like two AIs

840
00:50:24,626 --> 00:50:25,706
and how do you pull them together?

841
00:50:25,706 --> 00:50:30,149
The best, it's all about getting two actors in real time

842
00:50:30,149 --> 00:50:31,350
who can play off of each other.

843
00:50:31,831 --> 00:50:38,015
and then basically hand tuning the timings of them, right?

844
00:50:38,015 --> 00:50:41,837
So you, like, Sean would pick the takes that sounded best,

845
00:50:41,837 --> 00:50:45,540
but then after we sort of dehydrated those wave files,

846
00:50:45,540 --> 00:50:47,861
rehydrated them back into Unity,

847
00:50:47,861 --> 00:50:50,103
we had to like specifically hand edit,

848
00:50:50,103 --> 00:50:52,024
okay, 200 milliseconds after this one,

849
00:50:52,024 --> 00:50:53,365
600 milliseconds after that one.

850
00:50:53,365 --> 00:50:53,525
Yeah.

851
00:50:53,525 --> 00:50:55,046
Thank you.

852
00:50:58,973 --> 00:51:05,495
I'm curious, it seemed like a lot of your tools were kind of a linear list of, uh, events, but

853
00:51:05,495 --> 00:51:12,158
you also had some sort of tree views. How often when people were editing dialogue did they

854
00:51:12,158 --> 00:51:14,498
work in a tree view and how often did they work in a flat state?

855
00:51:15,342 --> 00:51:20,503
The question was how often did people use the list view or the tree previewer that we had

856
00:51:20,503 --> 00:51:25,804
shown? The tree previewer was actually just read only data. So it would take the sort of

857
00:51:25,804 --> 00:51:33,746
full conversation system and parse it and figure out what the nodes looked like. Because

858
00:51:33,746 --> 00:51:37,726
our event system was all interrupt driven, you could interrupt it anytime, heavily

859
00:51:37,726 --> 00:51:42,667
branching, very, you know, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh, uh,

860
00:51:42,892 --> 00:51:48,257
context aware. The tree graph ends up not being a very good visualization for it because it's

861
00:51:48,257 --> 00:51:52,581
not how the system works under the hood. Uh it really is sort of a linear list and anything

862
00:51:52,581 --> 00:51:57,285
can interrupt and it just goes through the search and finds a match so it ended up working

863
00:51:57,285 --> 00:52:01,669
better to look at it, look at the data in the format that it was, that was closer to the

864
00:52:01,669 --> 00:52:06,694
metaphor it was actually using. Um, the event editor there, uh, uh, uh, uh, uh, uh, uh,

865
00:52:07,587 --> 00:52:10,388
had full text search inside of any field.

866
00:52:10,388 --> 00:52:12,989
You could search by a lot of different things

867
00:52:12,989 --> 00:52:15,470
so that you could scope down what you were looking for.

868
00:52:15,470 --> 00:52:17,371
It let you do multi-select and let

869
00:52:17,371 --> 00:52:19,472
you had buttons to automatically follow up

870
00:52:19,472 --> 00:52:21,973
to what the next event was going to be.

871
00:52:21,973 --> 00:52:24,694
So for conversations where it was like, play line, wait,

872
00:52:24,694 --> 00:52:26,654
play next line, you could just jump to that follow up

873
00:52:26,654 --> 00:52:29,315
and follow those chains manually very, very quickly.

874
00:52:29,315 --> 00:52:32,537
And that ended up being sort of more usable than a giant web.

875
00:52:32,537 --> 00:52:32,837
Thank you.

876
00:52:36,126 --> 00:52:41,427
So, if I understand the ways you're editing data, you've got narrative designers or writers

877
00:52:41,427 --> 00:52:46,129
writing stuff in a, like, essentially a text document. There's no, none of the tagging

878
00:52:46,129 --> 00:52:49,450
information is present there, and then you have the, you add the tagging in the editor.

879
00:52:49,450 --> 00:52:54,311
Did you have any friction between these sources of information where maybe the writer goes

880
00:52:54,311 --> 00:52:59,392
back and changes something in the text document, and maybe now it doesn't fit the context that's

881
00:52:59,392 --> 00:53:03,153
been prescribed by the tags that have been added in the editor, and now all of a sudden,

882
00:53:03,153 --> 00:53:05,594
you know, this dialogue, this plane doesn't seem to fit right.

883
00:53:06,440 --> 00:53:12,706
So the question is, do we have a problem with writers changing content in its original text

884
00:53:12,706 --> 00:53:18,572
document before, or basically it no longer matching the way it had been tagged and built

885
00:53:18,572 --> 00:53:19,193
in editor?

886
00:53:19,193 --> 00:53:21,135
So the text document is sort of a throwaway.

887
00:53:21,135 --> 00:53:22,516
As soon as...

888
00:53:22,697 --> 00:53:23,917
We import it into Magpie.

889
00:53:23,917 --> 00:53:27,879
The text document is considered just history.

890
00:53:27,879 --> 00:53:31,041
Then we also had a tool where we could consider a line locked.

891
00:53:31,041 --> 00:53:33,682
So basically, you could freely edit content

892
00:53:33,682 --> 00:53:36,924
until we recorded it, or until we recorded it

893
00:53:36,924 --> 00:53:37,824
and updated the caption.

894
00:53:37,824 --> 00:53:39,485
And then there was a little lock icon.

895
00:53:39,485 --> 00:53:40,886
You'd click and say, this is done.

896
00:53:40,886 --> 00:53:42,507
Because after that point, if a writer

897
00:53:42,507 --> 00:53:45,168
were to change something, they should

898
00:53:45,168 --> 00:53:49,590
be aware that they're causing a lot of new work to be created.

899
00:53:49,630 --> 00:53:53,353
That was our solution around it, is just having a pipeline where we just say,

900
00:53:53,353 --> 00:53:55,274
after this point, it's done.

901
00:53:55,274 --> 00:53:58,736
We did also have some real serious issues with this

902
00:53:58,736 --> 00:54:03,419
when we did things like major level redesigns or major rewrites.

903
00:54:03,419 --> 00:54:05,961
So at one point we changed the map around,

904
00:54:05,961 --> 00:54:07,642
and we had a bunch of lines that were like,

905
00:54:07,642 --> 00:54:11,025
go north, where north was no longer north.

906
00:54:11,025 --> 00:54:13,266
So when you do major changes to your game,

907
00:54:13,266 --> 00:54:14,987
you also have to make major changes to your...

908
00:54:15,941 --> 00:54:21,322
text content and vice versa. So we just provided good tools for tracking these things down.

909
00:54:21,322 --> 00:54:27,163
You could, as you edited a line in magpie, you could find the, take the ID, search for it in

910
00:54:27,163 --> 00:54:30,584
the event system and find every line that referenced that very, very quickly. Thanks.

911
00:54:30,584 --> 00:54:37,225
Hi, can you talk a little bit about your QA system? Was that mostly, when you were making

912
00:54:37,225 --> 00:54:43,187
changes, was that designer internal playtests, external playtests or automated testing?

913
00:54:44,086 --> 00:54:48,872
The question was about our QA and whether we used internal, external or automated testing.

914
00:54:48,872 --> 00:54:53,118
We used internal testing until very, very late in the project. We would get people to come in and

915
00:54:53,118 --> 00:54:58,405
play the game. We would record their playthroughs. We had some analytics data as well like

916
00:54:58,405 --> 00:55:01,949
heat maps and stuff like that. Though we didn't make the best use of that.

917
00:55:02,370 --> 00:55:07,653
And then as we got towards shipping, we switched over to using Research Centaur.

918
00:55:07,653 --> 00:55:14,377
And they would give us log files, like the editor and standalone player would both dump out the log files

919
00:55:14,377 --> 00:55:19,260
to a place that they could track them down and then they would send those along with any bug that we got.

920
00:55:19,260 --> 00:55:26,844
So we could just go through the event system and be like, oh, okay, that's, nope, that needs to play event 6, not event 7.

921
00:55:26,844 --> 00:55:28,525
And rewind things pretty easily from that.

922
00:55:29,388 --> 00:55:32,390
We, oh, another thing I would, I'd love to explore more

923
00:55:32,390 --> 00:55:36,052
in another game is we briefly had debug data

924
00:55:36,052 --> 00:55:38,974
where the game would actually shoot lines

925
00:55:38,974 --> 00:55:40,716
that were played to Magpie.

926
00:55:40,716 --> 00:55:42,477
And so then it could keep track of lines

927
00:55:42,477 --> 00:55:43,598
that had never been played.

928
00:55:43,598 --> 00:55:45,579
So when we're in early Steam beta,

929
00:55:45,579 --> 00:55:47,400
we could actually see like, oh crap,

930
00:55:47,400 --> 00:55:50,302
there's like 20 lines that are unreachable.

931
00:55:50,302 --> 00:55:51,503
And so we could track that down.

932
00:55:51,503 --> 00:55:52,404
So that was helpful.

933
00:55:52,404 --> 00:55:53,704
But yeah, really it was all about

934
00:55:53,704 --> 00:55:55,586
Research Centaur and internal testing.

935
00:55:55,586 --> 00:55:56,666
Thanks.

936
00:55:58,373 --> 00:55:59,374
Hey guys, great talk.

937
00:55:59,374 --> 00:56:01,555
I was just thinking about the event system

938
00:56:01,555 --> 00:56:03,076
and how it's all string-based,

939
00:56:03,076 --> 00:56:04,437
and I was wondering if you did anything

940
00:56:04,437 --> 00:56:07,739
to kind of prevent misspellings or fat fingering

941
00:56:07,739 --> 00:56:08,340
or things like that,

942
00:56:08,340 --> 00:56:11,282
because it seemed like it could break things.

943
00:56:11,282 --> 00:56:12,583
We complained about it a lot.

944
00:56:12,583 --> 00:56:13,484
Oh, sorry, the question was,

945
00:56:13,484 --> 00:56:17,166
did we do anything to prevent fat fingering or misspellings,

946
00:56:17,166 --> 00:56:19,508
given how many strings were used in our game?

947
00:56:19,508 --> 00:56:22,730
Again, honestly, the answer to that question

948
00:56:22,730 --> 00:56:24,652
is mostly the search function.

949
00:56:25,874 --> 00:56:32,142
by putting in quick string search into the tool from the get go. Um, if you were worried

950
00:56:32,142 --> 00:56:35,666
that you were misspelling something, just start typing it in the search field and if it

951
00:56:35,666 --> 00:56:39,090
matches, you spelled it right and if it doesn't, you didn't. Um...

952
00:56:39,719 --> 00:56:44,324
We did have a fact browser so every blackboard fact that ever got created by any system

953
00:56:44,324 --> 00:56:48,009
that, you know, at data time. So there were a few facts that were created at run time. But

954
00:56:48,009 --> 00:56:51,353
any, any fact that got created at data time was in a big list, also searchable so you could go

955
00:56:51,353 --> 00:56:56,619
find the one you meant. Um, so we, we, we, we, we, we, we, we, we, we, we, we, we, we, we, we,

956
00:56:57,945 --> 00:57:02,909
We pretty quickly established some naming conventions about what facts and event names

957
00:57:02,909 --> 00:57:06,833
should be to try and minimize this problem and then we changed those I think three times

958
00:57:06,833 --> 00:57:12,438
during the course of development. So yeah, we mostly complained about it a lot. Um, we

959
00:57:12,438 --> 00:57:14,239
wanted auto complete and...

960
00:57:15,377 --> 00:57:18,578
it ended up just being out of scope for the time we had.

961
00:57:18,578 --> 00:57:20,478
But it was something, it was, you know,

962
00:57:20,478 --> 00:57:21,979
okay, well if I have a week free, I'll do that.

963
00:57:21,979 --> 00:57:23,900
Okay, I'll have a week free, and yeah,

964
00:57:23,900 --> 00:57:25,780
two years later, we didn't have it.

965
00:57:25,780 --> 00:57:27,241
Also, since it's all JSON,

966
00:57:27,241 --> 00:57:28,921
you can always have a tools programmer,

967
00:57:28,921 --> 00:57:32,823
you know, basically write a big tree search function

968
00:57:32,823 --> 00:57:35,264
that says, are there any requirements

969
00:57:35,264 --> 00:57:39,045
that are not found anywhere in the fact setting tables?

970
00:57:39,045 --> 00:57:40,406
Which we did a couple times.

971
00:57:40,406 --> 00:57:43,107
Basically, that would feed like a bug burndown list.

972
00:57:43,358 --> 00:57:46,740
Yeah, and that's actually a really good tip. Always make sure your data formats are human

973
00:57:46,740 --> 00:57:52,803
readable. Always. For everything, ideally. Being able to go and just, and search them and

974
00:57:52,803 --> 00:57:57,265
use regular expressions on them is, it gets you out of jams like that very, very quickly.

975
00:57:57,265 --> 00:58:01,547
Cool, thank you. Alright, um, I think we are just about out of time for questions. Uh, we're

976
00:58:01,547 --> 00:58:06,469
gonna go to, we'll be at the, uh, breakout room just around the corner here, down in the

977
00:58:06,469 --> 00:58:09,691
other hallway if anybody has any other questions they want to ask us. We'll be there in 2

978
00:58:09,691 --> 00:58:10,151
minutes.

