1
00:00:05,840 --> 00:00:07,961
We are going to talk about designing the bustling

2
00:00:08,022 --> 00:00:10,243
soundscape of Marvel's New York City.

3
00:00:11,004 --> 00:00:12,585
So I am Alex Previty.

4
00:00:12,805 --> 00:00:14,747
I'm an audio designer at Insomniac Games.

5
00:00:16,969 --> 00:00:19,331
And I am Blake Johnson, also audio designer

6
00:00:19,571 --> 00:00:20,392
at Insomniac Games.

7
00:00:21,593 --> 00:00:24,935
And yeah, we're very excited to be here today to share how we,

8
00:00:26,337 --> 00:00:28,458
us and obviously a lot of talented people

9
00:00:28,558 --> 00:00:32,061
at Insomniac Games, came to create the sound of Marvel's

10
00:00:32,101 --> 00:00:35,464
Manhattan in Marvel's Spider-Man.

11
00:00:37,045 --> 00:00:42,107
So before we get going, just a little background on Alex and I.

12
00:00:42,907 --> 00:00:45,208
We met at the Savannah College of Art and Design.

13
00:00:45,228 --> 00:00:46,749
We were randomly placed as roommates

14
00:00:47,109 --> 00:00:49,050
and had a lot of ridiculous times together.

15
00:00:49,830 --> 00:00:50,991
And we did graduate.

16
00:00:52,191 --> 00:00:54,472
And swap that out.

17
00:00:54,612 --> 00:00:55,352
That's us last night.

18
00:00:55,713 --> 00:00:58,754
So we're here now living the dream at Insomniac Games.

19
00:01:01,076 --> 00:01:05,119
A little background on Insomniac Games, it's a pretty great place to work for.

20
00:01:05,139 --> 00:01:11,965
A lot of these places thought we were pretty cool to work with up until recently as well.

21
00:01:13,286 --> 00:01:17,629
And we are looking to hire in a handful of positions.

22
00:01:19,251 --> 00:01:24,735
And I want to highlight one specifically, if you happen to be an audio programmer.

23
00:01:26,016 --> 00:01:27,497
Yeah, come find us after.

24
00:01:27,537 --> 00:01:28,658
I'll be at the booth later today.

25
00:01:30,119 --> 00:01:31,680
And you can find it on our website as well.

26
00:01:33,902 --> 00:01:36,464
Insomniac has been around 25 years.

27
00:01:36,484 --> 00:01:38,866
We're celebrating our 25th anniversary this year.

28
00:01:40,126 --> 00:01:44,250
And we got our big start with, I think, Spyro, and then

29
00:01:44,370 --> 00:01:47,932
Ratchet and Clank, Resistance, Sunset Overdrive, The

30
00:01:47,972 --> 00:01:50,834
Unspoken, and, of course, what we're here to talk about

31
00:01:50,854 --> 00:01:52,796
today is Marvel's Spider-Man.

32
00:01:54,795 --> 00:01:56,316
A little background on our team.

33
00:01:57,297 --> 00:02:00,578
Internally at Insomniac, we have one audio director,

34
00:02:01,399 --> 00:02:04,540
one audio lead, four audio designers,

35
00:02:04,640 --> 00:02:07,882
including Alex and I, one dialogue coordinator,

36
00:02:09,182 --> 00:02:11,003
and then we extensively use

37
00:02:11,083 --> 00:02:14,465
Sony product development services.

38
00:02:14,845 --> 00:02:15,826
We just call them Sony PD.

39
00:02:17,186 --> 00:02:19,447
And from them, we had 10 sound designers,

40
00:02:20,248 --> 00:02:21,949
three which were working in-house

41
00:02:22,249 --> 00:02:24,150
for a bit of the end of the project.

42
00:02:25,493 --> 00:02:26,833
One dialogue coordinator in-house.

43
00:02:27,554 --> 00:02:29,674
Four dialogue coordinators external.

44
00:02:30,474 --> 00:02:32,095
Three music editors externally.

45
00:02:33,195 --> 00:02:34,676
And yeah, that's the team.

46
00:02:36,956 --> 00:02:37,797
Specs on the project.

47
00:02:37,917 --> 00:02:39,897
We used Wwise, so you'll be seeing some

48
00:02:40,257 --> 00:02:41,138
screenshots from that.

49
00:02:43,948 --> 00:02:47,210
We add 256 megabytes of RAM for audio,

50
00:02:47,250 --> 00:02:50,531
and that includes the 60 megabytes for WISE

51
00:02:50,551 --> 00:02:54,253
and engine overhead, and the remaining about 190 megabytes

52
00:02:54,894 --> 00:02:56,615
for sound banks and media.

53
00:02:59,516 --> 00:03:01,657
Today we're talking about Marvel's Manhattan,

54
00:03:02,037 --> 00:03:04,899
and Alex will first be discussing the city ambient bed,

55
00:03:05,559 --> 00:03:08,561
which includes the city room tone per se,

56
00:03:09,642 --> 00:03:11,763
and then the faked 3D layers.

57
00:03:13,830 --> 00:03:15,271
Crowds and the crowd system.

58
00:03:16,571 --> 00:03:18,372
The city perimeter spline emitter.

59
00:03:20,533 --> 00:03:23,694
Reverb and how that is created on a mass scale.

60
00:03:25,595 --> 00:03:27,176
And dynamic ambient systems, this

61
00:03:27,236 --> 00:03:29,957
being things like weather, time of day, stuff like that.

62
00:03:32,057 --> 00:03:34,959
And then wrapping up with the performance and optimization

63
00:03:35,039 --> 00:03:35,959
for those areas.

64
00:03:37,540 --> 00:03:44,946
I'll be talking about the ambient and scripted vehicle systems, so traffic and the like chase

65
00:03:44,986 --> 00:03:46,027
vehicles and things like that.

66
00:03:47,949 --> 00:03:57,598
That entails the engines, their horns, brake squeals and turn squeals, and doppler-bys

67
00:03:57,978 --> 00:03:59,520
and what I like to call the whiz-by system.

68
00:04:04,239 --> 00:04:10,912
So before I pass it off to Alex, here's just an example of what the final version of Marvel's

69
00:04:10,932 --> 00:04:14,138
Manhattan sounds like from a handful of different perspectives.

70
00:04:44,649 --> 00:04:46,347
Three rows on that one. Three rows.

71
00:04:59,209 --> 00:05:02,411
Hey, hey, so we had to make the city sound great.

72
00:05:02,751 --> 00:05:04,552
That was kind of our first major challenge

73
00:05:04,592 --> 00:05:05,692
we had to tackle on this game.

74
00:05:06,233 --> 00:05:08,174
So as you know, New York City is one of the busiest

75
00:05:08,214 --> 00:05:09,534
and loudest cities in the entire world.

76
00:05:09,975 --> 00:05:12,356
I think on average, in the Midtown area in Manhattan,

77
00:05:12,516 --> 00:05:15,717
it averages about 75 dB at any given time.

78
00:05:16,418 --> 00:05:18,099
So basically, we needed our sound

79
00:05:18,319 --> 00:05:20,200
to represent how crazy New York City was

80
00:05:20,220 --> 00:05:21,300
and how bustling it can be.

81
00:05:21,956 --> 00:05:23,937
but we also needed the ambience to not be fatiguing,

82
00:05:24,097 --> 00:05:25,458
you know, because when you're out in New York City

83
00:05:25,518 --> 00:05:27,699
as a pedestrian, you maybe will be walking

84
00:05:27,760 --> 00:05:29,421
for 10 minutes, go down to the subway station,

85
00:05:29,441 --> 00:05:31,622
go home, go to work, but you know, in our game,

86
00:05:31,862 --> 00:05:32,763
you know, you're gonna be out in the city

87
00:05:32,783 --> 00:05:34,584
for maybe 10, 12 hours of gameplay time.

88
00:05:34,984 --> 00:05:36,225
So we kind of had to make sure that we were,

89
00:05:36,685 --> 00:05:37,926
you know, making this happen.

90
00:05:37,966 --> 00:05:39,006
So we're kind of stuck, you know,

91
00:05:39,066 --> 00:05:40,367
rock on a hard place in this game,

92
00:05:40,788 --> 00:05:43,029
trying to figure out that dichotomy between having a game.

93
00:05:44,433 --> 00:05:48,715
be bustling and crazy sounding but also be in the background enough so it's not, you

94
00:05:48,735 --> 00:05:51,917
know, kind of reputation, no, whatever.

95
00:05:52,137 --> 00:05:55,958
Anyways, it was tough reputation to kind of uphold for New York City, so we kind of had

96
00:05:55,978 --> 00:05:57,419
a challenge in front of us, like what do we do?

97
00:05:58,219 --> 00:06:03,321
So we kind of had to find a way to basically construct New York City's ambience from the

98
00:06:03,341 --> 00:06:03,681
ground up.

99
00:06:04,382 --> 00:06:11,846
So what we kind of had to do first is, you know, find some good source recordings that kind of were very characteristic of what New York City sounds like.

100
00:06:12,426 --> 00:06:21,112
So what we did first is this first step into deconstruction was basically taking some good profiles, some good samples, and kind of running that through iZotope RX.

101
00:06:21,692 --> 00:06:26,235
So I used a kind of room tone generator that's normally used for kind of filling dialogue and stuff.

102
00:06:27,015 --> 00:06:28,176
But I used that for this system.

103
00:06:28,496 --> 00:06:29,036
So basically...

104
00:06:29,437 --> 00:06:31,239
we kind of took all these New York City ambiences,

105
00:06:31,359 --> 00:06:32,340
ran it through iZotope RX,

106
00:06:32,380 --> 00:06:34,602
and kind of generated these very static tones

107
00:06:35,002 --> 00:06:36,964
that kind of had the energy and frequency spectrum

108
00:06:37,424 --> 00:06:38,826
of what New York City felt like,

109
00:06:39,186 --> 00:06:40,828
but stripping every element out

110
00:06:40,848 --> 00:06:42,049
that would be considered distracting.

111
00:06:42,649 --> 00:06:46,293
And then using that same edited sample bank,

112
00:06:46,833 --> 00:06:48,555
I also ran it through a GRM evolution,

113
00:06:48,935 --> 00:06:51,578
which kind of smears things and kind of makes them

114
00:06:51,638 --> 00:06:53,980
like cream cheese on a bagel kind of thing.

115
00:06:54,000 --> 00:06:54,521
You know what I'm saying?

116
00:06:54,941 --> 00:07:00,226
So basically we kind of layer that in with our more static Rx generated stuff to kind of get this

117
00:07:00,266 --> 00:07:05,691
like very amorphous kind of moving feeling of New York City without having anything that sticks out

118
00:07:05,731 --> 00:07:10,536
like police whistles, car horns, people talking, etc. So this is really helpful for us because we

119
00:07:10,576 --> 00:07:14,559
kind of had to sell the energy of the city without really having anything that's recognizable and

120
00:07:14,619 --> 00:07:16,501
things that you would pick out with things loop.

121
00:07:17,422 --> 00:07:19,083
This was also really helpful for kind of stereo

122
00:07:19,103 --> 00:07:20,344
and quad imaging in our game.

123
00:07:20,364 --> 00:07:23,105
You know, if we relied on 3D elements only,

124
00:07:23,306 --> 00:07:25,627
we would just have problems with it not really feeling full.

125
00:07:26,328 --> 00:07:29,049
And I think just having things be 2D as just a foundation

126
00:07:29,069 --> 00:07:31,231
really helped fill out the stereo field.

127
00:07:31,711 --> 00:07:32,512
Unfortunately in this game,

128
00:07:32,652 --> 00:07:33,852
for reasons we'll get into later,

129
00:07:34,273 --> 00:07:35,574
we didn't have a lot of streaming bandwidth.

130
00:07:35,714 --> 00:07:38,856
So a lot of our beds and loops were actually stereo,

131
00:07:39,236 --> 00:07:41,337
but we tossed them through our reverb in our delay,

132
00:07:41,357 --> 00:07:41,958
which were surround,

133
00:07:41,978 --> 00:07:43,559
it kind of fill out the back speakers a little bit.

134
00:07:44,579 --> 00:07:46,961
So the next element we have for our ambience

135
00:07:47,267 --> 00:07:48,867
is they're kind of random 3D layers.

136
00:07:49,388 --> 00:07:51,249
So, you know, while we stripped everything out

137
00:07:51,269 --> 00:07:53,390
that was interesting as the foundation,

138
00:07:53,710 --> 00:07:55,571
we kind of had to add that stuff back in

139
00:07:55,611 --> 00:07:57,032
to kind of make the city interesting.

140
00:07:57,552 --> 00:07:59,673
So, you know, New York City has a lot of cool sounds,

141
00:07:59,693 --> 00:08:01,875
got like car horns, sirens, you know,

142
00:08:01,895 --> 00:08:03,235
people yelling at each other, construction,

143
00:08:03,876 --> 00:08:05,597
dogs barking, car alarms, whatever it is.

144
00:08:05,617 --> 00:08:07,378
So we kind of edited those out

145
00:08:07,418 --> 00:08:09,018
and kind of created these banks of different ones.

146
00:08:09,599 --> 00:08:12,020
So once we pulled all these interesting one shots

147
00:08:12,080 --> 00:08:12,981
of different categories,

148
00:08:13,361 --> 00:08:15,762
we basically kind of separated them into different.

149
00:08:16,180 --> 00:08:17,200
categories and different banks.

150
00:08:17,580 --> 00:08:19,501
So we had three actor mixers in Wwise

151
00:08:19,601 --> 00:08:21,502
that were used to organize everything.

152
00:08:21,902 --> 00:08:22,703
We had our close sounds,

153
00:08:22,723 --> 00:08:23,623
which we could hear basically

154
00:08:23,643 --> 00:08:24,924
when we were really close on street level,

155
00:08:25,384 --> 00:08:26,644
which kind of had a lot of our energy

156
00:08:26,925 --> 00:08:28,105
in like low level street noise.

157
00:08:28,625 --> 00:08:30,166
We had our medium actor mixer,

158
00:08:30,186 --> 00:08:32,087
which had a lot of stuff regarding like car horns,

159
00:08:32,607 --> 00:08:34,328
things you would hear from a pretty average distance.

160
00:08:34,828 --> 00:08:35,949
Then we had our far layer,

161
00:08:36,009 --> 00:08:37,849
which was kind of like sirens, construction,

162
00:08:37,909 --> 00:08:39,610
things you would hear from basically anywhere in the city.

163
00:08:40,170 --> 00:08:42,151
And we also had a sky layer just for, you know,

164
00:08:42,391 --> 00:08:43,072
when you're up higher,

165
00:08:43,172 --> 00:08:44,732
you can hear planes and helicopters,

166
00:08:44,772 --> 00:08:45,373
things of that nature.

167
00:08:46,334 --> 00:08:47,935
And this was really helpful for us in the long run

168
00:08:47,955 --> 00:08:49,576
because we were able to take all of these three

169
00:08:49,596 --> 00:08:51,737
different layers, including the sky one so far,

170
00:08:52,217 --> 00:08:53,918
and basically kind of mix them all differently

171
00:08:53,978 --> 00:08:56,680
depending on where you were with states and RTPCs,

172
00:08:56,760 --> 00:08:57,960
which we'll get into later as well.

173
00:08:58,701 --> 00:09:01,202
So here's kind of a video showing, you know,

174
00:09:01,262 --> 00:09:03,383
the different layers being added one at a time

175
00:09:03,403 --> 00:09:05,485
to kind of create the full bed that we have in a game.

176
00:09:48,004 --> 00:09:49,227
So that's basically the bed only.

177
00:09:49,267 --> 00:09:52,776
There's no actual 3D diegetic sounds in that video at all.

178
00:09:52,796 --> 00:09:53,939
So that's just the faked bed.

179
00:09:54,854 --> 00:09:55,894
So that worked really well for us,

180
00:09:55,934 --> 00:09:57,355
you know, for being inside of the city,

181
00:09:57,815 --> 00:09:59,755
but you could also traverse outside of the city's boundaries

182
00:09:59,835 --> 00:10:02,856
kind of on that, you know, outside road area by the seawall.

183
00:10:03,476 --> 00:10:05,737
So we had to make sure that when you were outside in that area

184
00:10:05,817 --> 00:10:07,897
that the city sounds were being spatialized correctly

185
00:10:07,997 --> 00:10:09,577
to basically the center of the city.

186
00:10:10,318 --> 00:10:11,998
So what I had to do basically to start off

187
00:10:12,578 --> 00:10:17,139
was draw a pathway kind of exactly detailing

188
00:10:17,159 --> 00:10:19,680
the outline of our road where all the buildings were,

189
00:10:20,280 --> 00:10:21,460
and we had a path following emitter

190
00:10:21,480 --> 00:10:22,440
that would just follow the player,

191
00:10:22,460 --> 00:10:24,241
you know, along that rail that we drew.

192
00:10:25,161 --> 00:10:29,923
And then we had our technical artist at the time who still works with us David Santiago

193
00:10:30,343 --> 00:10:33,284
He helped us basically kind of draw all these volumes

194
00:10:33,344 --> 00:10:36,265
I'll create this network that whenever we would walk inside of it

195
00:10:36,285 --> 00:10:42,027
It would kind of turn off the 2d surround ambience and kind of activate this 3d point source emitter. So look at this photo here

196
00:10:43,127 --> 00:10:47,108
All those blue volumes are what were automatically drawn and also hand authored

197
00:10:47,648 --> 00:10:50,969
so whenever you step into that area turns off the surround reverb and

198
00:10:51,229 --> 00:10:53,630
Everything kind of turns up the 3d stuff

199
00:10:54,449 --> 00:10:59,030
If you look really closely with the arrows pointing to, there's that little magenta line, and that's the line that I drew.

200
00:10:59,670 --> 00:11:02,771
It took a while to set up, but once it was all working correctly, it was great.

201
00:11:03,931 --> 00:11:06,692
So, another thing we had to do is make sure all the crowds had sounds.

202
00:11:07,192 --> 00:11:10,032
So yeah, like, you know, New York City's great, lively, but it's full of people.

203
00:11:10,193 --> 00:11:11,593
That's what makes it so lively in the first place.

204
00:11:12,173 --> 00:11:16,894
So, we needed to make sure they all had the proper Wala and stuff, and 2D Wala was not going to cut it at all.

205
00:11:17,554 --> 00:11:18,595
So for Sunset Overdrive...

206
00:11:19,735 --> 00:11:22,219
we kind of developed a system called the Crowd Horde Emitter System.

207
00:11:22,740 --> 00:11:29,829
So instead of Overdrive, you can basically fight and battle up to 40 different bots at one time.

208
00:11:30,470 --> 00:11:33,695
So instead of them having all their individual emitters running at the same time,

209
00:11:33,875 --> 00:11:35,938
it was kind of hard to manage performance and sound-wise.

210
00:11:36,483 --> 00:11:41,045
We kind of had a system where it would take about 5 to 10 people and it would basically

211
00:11:41,285 --> 00:11:45,947
find the center of mass and generate a 3D point source emitter and it would basically

212
00:11:46,047 --> 00:11:49,328
every couple frames it would just follow it and when the crowd would dissipate it would

213
00:11:49,348 --> 00:11:50,408
play a stop event and go away.

214
00:11:51,194 --> 00:11:52,836
So that's kind of how it worked for this game.

215
00:11:53,316 --> 00:11:54,237
It was really helpful for us

216
00:11:54,257 --> 00:11:56,300
because we were able to basically find crowds,

217
00:11:56,600 --> 00:11:57,941
place an emitter on it, it would follow it,

218
00:11:58,002 --> 00:11:58,642
and we'd take it away.

219
00:11:59,123 --> 00:12:00,885
So here's a video of it being soloed.

220
00:12:01,385 --> 00:12:03,208
If you look at the blue orbs in debug,

221
00:12:03,528 --> 00:12:07,012
you can kind of see where that static emitter is being drawn.

222
00:12:28,134 --> 00:12:30,896
So you saw it's kind of coarse and sometimes it can spawn

223
00:12:30,916 --> 00:12:32,698
in kind of weird, unexpected places.

224
00:12:33,218 --> 00:12:35,720
So instead of making the actual source that's playing

225
00:12:35,740 --> 00:12:37,622
on the emitter an actual mono sample,

226
00:12:38,002 --> 00:12:40,404
we had it stereo, it's mostly mono when you're farther away,

227
00:12:40,424 --> 00:12:41,645
but when we got closer it kind of spread

228
00:12:41,665 --> 00:12:43,126
to a more stereo quad image,

229
00:12:43,487 --> 00:12:44,788
so that when you were kind of closer to it,

230
00:12:44,828 --> 00:12:46,149
it kind of felt like it was enveloping you,

231
00:12:46,469 --> 00:12:48,591
which really helped to not only sell the size of the city

232
00:12:48,611 --> 00:12:50,152
and the crowd, but to kind of mask

233
00:12:50,192 --> 00:12:51,473
some of the imperfections in our system.

234
00:12:52,575 --> 00:12:56,337
So our next thing we had to do is kind of come up with other diegetic 3D emitters.

235
00:12:56,877 --> 00:13:00,759
So Spider-Man can be on the street level, everything is lively down there, but we kind of needed a way for

236
00:13:01,119 --> 00:13:04,540
the upper levels of the city to sound lively as well, because Spider-Man can swing, crawl,

237
00:13:04,600 --> 00:13:08,582
run, wherever he wants to go basically. So we kind of need more dynamics and also when you're

238
00:13:08,602 --> 00:13:11,823
swinging at mid to high levels we needed everything to kind of feel like it was moving.

239
00:13:12,203 --> 00:13:15,124
We couldn't just sell that on our 3D ambience alone, in our 2D stuff.

240
00:13:15,969 --> 00:13:18,251
So basically our easiest way to do this was to take

241
00:13:18,751 --> 00:13:21,112
every single HVAC in a window on a rooftop,

242
00:13:21,252 --> 00:13:22,513
rooftop vents, et cetera,

243
00:13:22,533 --> 00:13:24,514
and place audio emitters on them.

244
00:13:25,235 --> 00:13:27,616
It was really helpful for us because our artists

245
00:13:27,696 --> 00:13:29,697
used Houdini to kind of populate everything out.

246
00:13:30,598 --> 00:13:32,719
So we're kind of able to open up all these art prefabs,

247
00:13:33,140 --> 00:13:34,701
place our sounds in them, close them back up,

248
00:13:34,741 --> 00:13:36,041
and the game automatically updates them,

249
00:13:36,462 --> 00:13:38,283
which was cool, but there's a lot of these.

250
00:13:38,483 --> 00:13:40,184
So we kind of needed a way to manage the voice count.

251
00:13:40,684 --> 00:13:43,566
So basically our audio programmer at the time

252
00:13:43,706 --> 00:13:44,446
came up with a system.

253
00:13:44,987 --> 00:13:48,428
where once we generate sound banks on these special emitters

254
00:13:48,709 --> 00:13:50,710
it actually recognizes the max attenuation settings

255
00:13:51,110 --> 00:13:52,851
so once you get outside of that range

256
00:13:52,911 --> 00:13:55,552
the engine actually shuts off and hibernates the emitter

257
00:13:55,612 --> 00:13:57,373
so Wwise isn't being pinged a lot

258
00:13:57,673 --> 00:13:59,034
and our engine has a much more manageable

259
00:13:59,094 --> 00:14:00,035
voice count as well.

260
00:14:00,535 --> 00:14:01,835
So here's a video of that in action.

261
00:14:02,616 --> 00:14:04,337
Again, if you look at the blue orbs of the sound emitters

262
00:14:04,357 --> 00:14:05,938
you can kind of see them going in and out

263
00:14:05,958 --> 00:14:07,398
depending on how close or far away you are.

264
00:14:41,680 --> 00:14:42,440
So yeah, that was really helpful,

265
00:14:42,460 --> 00:14:44,261
because when that was not on, we crashed the game,

266
00:14:44,281 --> 00:14:46,783
and everyone hated us, so thanks, audio programmers.

267
00:14:48,024 --> 00:14:49,645
So, you know, that was all cool and stuff,

268
00:14:49,665 --> 00:14:50,946
but we kind of needed a way to balance

269
00:14:51,026 --> 00:14:52,226
our 2D and 3D elements.

270
00:14:52,306 --> 00:14:53,567
Not only our 3D faked elements,

271
00:14:53,607 --> 00:14:54,808
but also our diegetic stuff.

272
00:14:54,828 --> 00:14:56,289
And it kind of took a while to strike

273
00:14:56,309 --> 00:14:58,010
that harmonious balance to make everything right.

274
00:14:58,030 --> 00:14:59,871
It basically took us, from when I started,

275
00:15:00,432 --> 00:15:02,833
basically almost two years to really get that fine line

276
00:15:03,133 --> 00:15:04,754
between, you know, having our fake stuff

277
00:15:04,774 --> 00:15:06,275
and our real stuff sit together nicely.

278
00:15:06,856 --> 00:15:08,056
And we kind of had issues with things

279
00:15:08,076 --> 00:15:08,737
sticking out too much,

280
00:15:09,037 --> 00:15:10,358
so we just kind of made everything flat.

281
00:15:10,846 --> 00:15:15,133
turned it down and it kind of made everything fit nicely. So here's a video kind of showing

282
00:15:15,754 --> 00:15:19,940
the 3D elements that are diegetic only to kind of hear how the city sounds with all the real

283
00:15:19,960 --> 00:15:24,548
stuff and then halfway through I'll kind of unmute the 2D fake stuff to kind of hear how big

284
00:15:24,568 --> 00:15:24,868
it sounds.

285
00:15:54,626 --> 00:15:56,448
So for the sound design and everything,

286
00:15:56,548 --> 00:15:57,428
you know, that was a good start,

287
00:15:57,488 --> 00:15:59,130
but we also needed a way to kind of make everything

288
00:15:59,190 --> 00:16:00,131
sit well in the world.

289
00:16:00,591 --> 00:16:02,453
So one of the first things we needed to do

290
00:16:02,473 --> 00:16:03,914
was kind of fill up the space with reverb.

291
00:16:04,634 --> 00:16:06,056
So No Space is complete without its reverb,

292
00:16:06,076 --> 00:16:08,257
and it kind of helped all of our sounds feel worldized,

293
00:16:08,317 --> 00:16:10,399
and also helped our city kind of feel more grounded as well.

294
00:16:11,320 --> 00:16:13,502
So here's some quick stats for you.

295
00:16:14,022 --> 00:16:16,324
Our open world in this game is six kilometers

296
00:16:16,344 --> 00:16:18,786
by three kilometers as its general size.

297
00:16:19,246 --> 00:16:20,287
There's nine districts.

298
00:16:21,043 --> 00:16:23,984
There's over 500 roads and over 1,200 alleyways.

299
00:16:24,525 --> 00:16:25,926
There's 8,300 buildings.

300
00:16:26,886 --> 00:16:28,347
So we needed a way to kind of make sure

301
00:16:28,367 --> 00:16:30,628
that all these alleys, courtyards, and other spaces

302
00:16:30,708 --> 00:16:32,769
were assigned the proper audio volumes.

303
00:16:33,170 --> 00:16:36,912
So initially, I did these by hand, and it sucked really bad.

304
00:16:37,992 --> 00:16:39,593
It took me about two to three days per district,

305
00:16:39,913 --> 00:16:41,634
and it was just time consuming, stressful,

306
00:16:42,275 --> 00:16:43,956
and did not make me very happy at all.

307
00:16:44,456 --> 00:16:46,317
And any time that any geometry was adjusted,

308
00:16:46,437 --> 00:16:47,557
if buildings were moved and stuff,

309
00:16:47,978 --> 00:16:49,499
we basically had to redo everything from scratch,

310
00:16:49,559 --> 00:16:50,279
and it was not a good time.

311
00:16:50,678 --> 00:16:52,260
So we kind of needed to find another solution for this

312
00:16:52,300 --> 00:16:54,622
because this was not sustainable in the long term at all.

313
00:16:55,663 --> 00:17:00,267
So what we did was turn again to our technical art team

314
00:17:00,487 --> 00:17:02,309
who is great and we love them very much.

315
00:17:03,119 --> 00:17:07,323
They already have all this data for how all the buildings are, what the spaces are between them and their shape,

316
00:17:07,823 --> 00:17:12,446
so they kind of use the space and measured it to kind of generate these volumes for us. And every time, you know,

317
00:17:12,907 --> 00:17:16,149
something would change, they would just regenerate it, it would take a few minutes and it would all be good.

318
00:17:16,610 --> 00:17:22,034
So we kind of gave them a few parameters for size for alleys and courtyards and stuff, and every single, you know,

319
00:17:22,454 --> 00:17:28,319
type that we would generate in place, they would have a different reverb and delay assignment from Wwise to kind of give a different

320
00:17:28,899 --> 00:17:30,720
space. We also kind of use this.

321
00:17:31,570 --> 00:17:33,510
to apply different Y states as well.

322
00:17:33,550 --> 00:17:35,211
So every volume type,

323
00:17:36,091 --> 00:17:37,872
other than having reverb and delay settings

324
00:17:37,892 --> 00:17:38,332
that are different,

325
00:17:38,752 --> 00:17:40,513
also have a different Y state as well

326
00:17:40,793 --> 00:17:43,054
to kind of dynamically adjust the mix of the city

327
00:17:43,094 --> 00:17:43,954
and other sounds as well.

328
00:17:44,754 --> 00:17:47,375
So here's a photo kind of of all of the streets

329
00:17:47,395 --> 00:17:49,176
and alleyways in our game from a bird's eye view.

330
00:17:49,836 --> 00:17:52,577
And then here are all the volumes that were generated.

331
00:17:53,097 --> 00:17:54,157
A few of these are hand placed,

332
00:17:54,798 --> 00:17:55,698
kind of the ones on the edge

333
00:17:55,738 --> 00:17:56,978
and some of the more bespoke areas.

334
00:17:57,338 --> 00:17:58,319
But most of what you're seeing here

335
00:17:58,359 --> 00:17:59,959
is what was automatically generated from our team,

336
00:18:00,019 --> 00:18:00,700
which is super helpful.

337
00:18:01,678 --> 00:18:04,384
So that's all fine and dandy, but we also needed a way

338
00:18:04,424 --> 00:18:06,508
to make our city kind of react to whatever's going on.

339
00:18:07,490 --> 00:18:08,652
You know, the city can sound great,

340
00:18:08,712 --> 00:18:10,696
but it also needs to be dynamic and living and breathing,

341
00:18:10,757 --> 00:18:11,979
which makes New York City so special.

342
00:18:12,970 --> 00:18:15,452
So, one of the first and most important things

343
00:18:15,472 --> 00:18:17,973
we had to figure out was making sure that our city

344
00:18:18,493 --> 00:18:20,874
was changing appropriately based on player position.

345
00:18:21,495 --> 00:18:23,295
So basically, gameplay gave us this parameter

346
00:18:23,456 --> 00:18:25,737
of player height, and we would basically use that

347
00:18:25,757 --> 00:18:28,078
to kind of drive an RTPC in Wwise,

348
00:18:28,118 --> 00:18:29,819
and that would drive a bunch of different things,

349
00:18:30,399 --> 00:18:32,140
like blending between blend containers,

350
00:18:32,360 --> 00:18:35,401
it would do EQ, volume, reverb, and delay adjustment,

351
00:18:35,782 --> 00:18:38,663
and it would also change some various mix assets

352
00:18:38,683 --> 00:18:39,443
we would bring up and down.

353
00:18:40,694 --> 00:18:43,116
For Y states as well, we had over 10 different categories

354
00:18:43,136 --> 00:18:45,538
of environment types, like parks, different alley types,

355
00:18:46,138 --> 00:18:48,040
and that was also further used to kind of push our mix

356
00:18:48,080 --> 00:18:49,561
in the game, to bring elements up and down.

357
00:18:50,702 --> 00:18:52,644
So here's an example of a Y screenshot

358
00:18:52,704 --> 00:18:55,206
of one of our layers, and you can just see a few ways

359
00:18:55,226 --> 00:18:56,728
we're just taking our player height

360
00:18:56,868 --> 00:18:58,649
and doing some subtle things with the mix

361
00:18:58,669 --> 00:19:00,431
to kind of make it feel more realistic.

362
00:19:01,011 --> 00:19:02,653
And it's not shown here, but also in the effects tab,

363
00:19:02,673 --> 00:19:04,554
we're doing some high shelving and low shelving as well

364
00:19:04,735 --> 00:19:05,415
with this RTPC.

365
00:19:06,796 --> 00:19:09,709
So here's a quick video just kind of showing how the city will sound a little bit different

366
00:19:09,729 --> 00:19:10,895
depending on how high up you are.

367
00:19:50,408 --> 00:19:52,348
And that's all continuous too, so there's no like

368
00:19:52,489 --> 00:19:53,689
on and off states that are happening.

369
00:19:53,749 --> 00:19:55,670
Like if you move up and down, it's all dynamically

370
00:19:55,710 --> 00:19:58,050
happening in real time, mostly via RTPC.

371
00:19:59,291 --> 00:20:01,232
So we also kind of needed a way for our districts

372
00:20:01,252 --> 00:20:03,612
to sound different, you know, we have our neighborhoods,

373
00:20:03,652 --> 00:20:04,913
we have our different pockets in the city.

374
00:20:04,933 --> 00:20:07,274
So we kind of needed those to sound different as well.

375
00:20:08,054 --> 00:20:10,115
So we kind of talked with the art team in Match Notes

376
00:20:10,155 --> 00:20:11,755
to see kind of what's your art Bible,

377
00:20:11,775 --> 00:20:12,976
what's your goal in this space,

378
00:20:13,016 --> 00:20:14,476
and how can we take that same idea

379
00:20:14,816 --> 00:20:16,217
and kind of apply it to our ambience

380
00:20:16,257 --> 00:20:17,377
and our different audio we have here.

381
00:20:18,037 --> 00:20:22,840
So in our ambient bed, we had certain sounds play a lot more, or not at all in some cases,

382
00:20:22,920 --> 00:20:26,983
and we would do some subtle mix changes to make sure that like how the space felt from a visual

383
00:20:27,003 --> 00:20:31,726
standpoint was reflected in a very subconscious and subjective way on the art side, and the audio

384
00:20:31,746 --> 00:20:32,987
side as well. So...

385
00:20:33,972 --> 00:20:36,452
For example, like in Harlem, it might be a little quieter

386
00:20:36,472 --> 00:20:37,972
because it's not as busy, but in Midtown,

387
00:20:37,992 --> 00:20:39,173
we would mix up a lot of elements.

388
00:20:39,313 --> 00:20:41,073
Maybe in Hell's Kitchen, there's more construction happening

389
00:20:41,093 --> 00:20:41,913
so we would kind of make sure

390
00:20:42,313 --> 00:20:44,054
that it was all being represented properly.

391
00:20:44,074 --> 00:20:46,614
And then we also had to make sure

392
00:20:46,674 --> 00:20:48,475
that our wallow beds were different as well.

393
00:20:49,595 --> 00:20:52,235
Basically, we had our loop group actors come in

394
00:20:52,275 --> 00:20:53,516
and record in different languages

395
00:20:53,616 --> 00:20:55,116
to make sure that the wallow beds

396
00:20:55,136 --> 00:20:56,196
that happened in different areas,

397
00:20:56,216 --> 00:20:58,497
like Chinatown and in Harlem.

398
00:20:58,987 --> 00:21:00,907
and in Hell's Kitchen kind of had a different sound

399
00:21:01,007 --> 00:21:03,068
and had different languages throughout.

400
00:21:03,548 --> 00:21:05,589
We also made sure that our diegetic music

401
00:21:05,609 --> 00:21:07,929
that was playing on boom boxes, storefronts, and cars

402
00:21:08,309 --> 00:21:09,690
kind of had different genres as well,

403
00:21:09,750 --> 00:21:10,810
depending on what district you were in.

404
00:21:12,331 --> 00:21:14,571
So another feature we had that was kind of cool,

405
00:21:14,591 --> 00:21:16,472
but also very subtle, was making sure

406
00:21:16,532 --> 00:21:19,093
that our city ambience was mixing differently

407
00:21:19,153 --> 00:21:20,273
depending on our activity level.

408
00:21:20,753 --> 00:21:23,134
So what we kind of did was we had a programmer.

409
00:21:23,510 --> 00:21:27,694
create the system for us that would basically draw this like radius around Spider-Man and

410
00:21:27,734 --> 00:21:31,598
inside it would count how many active pedestrians there were, kind of what they were doing and

411
00:21:31,818 --> 00:21:37,263
also all the ambient and active traffic vehicles. And we kind of used that to, you know, track

412
00:21:37,283 --> 00:21:40,927
this float value that they would give us and that float value would be passed to us as

413
00:21:40,947 --> 00:21:43,229
a wise RTPC and then that would kind of...

414
00:21:44,370 --> 00:21:45,531
help us lean into stuff more.

415
00:21:45,571 --> 00:21:46,712
So if the area around you is really busy,

416
00:21:47,373 --> 00:21:48,954
we could still rely on the diegetic sounds

417
00:21:48,974 --> 00:21:50,796
that were coming from those people in those cars,

418
00:21:51,176 --> 00:21:53,058
but actually being able to lean into it further

419
00:21:53,078 --> 00:21:55,280
and really push up our intensity layers in our bed

420
00:21:55,300 --> 00:21:57,622
to kind of help sell a fiction

421
00:21:57,642 --> 00:21:59,123
that this area is super populated,

422
00:21:59,484 --> 00:22:00,845
but if you kind of go a couple blocks down,

423
00:22:00,885 --> 00:22:03,047
it's emptier, it would really change the mix of the city.

424
00:22:03,908 --> 00:22:05,710
And we could also adjust our thresholds,

425
00:22:06,210 --> 00:22:07,731
our radius sizes, and other things

426
00:22:07,892 --> 00:22:08,852
with the config and the engine

427
00:22:08,872 --> 00:22:09,833
that they set up for us as well.

428
00:22:11,327 --> 00:22:14,649
So for our weather, it was pretty simple in our game.

429
00:22:15,129 --> 00:22:18,271
We really only had day, night, rain, overcast.

430
00:22:18,812 --> 00:22:19,472
So we kind of had to figure out

431
00:22:19,512 --> 00:22:20,633
how rain was gonna work in our game.

432
00:22:21,593 --> 00:22:23,515
So of course, we had a 2D rain bed,

433
00:22:23,555 --> 00:22:25,396
but we also had some 3D assets as well.

434
00:22:26,097 --> 00:22:28,098
So for our 2D rain bed, most games,

435
00:22:28,418 --> 00:22:29,519
your traversal's pretty limited,

436
00:22:29,539 --> 00:22:31,680
so you can only kind of walk, run, drive, et cetera.

437
00:22:32,293 --> 00:22:33,293
but Spider-Man could go anywhere,

438
00:22:33,333 --> 00:22:34,953
so we had to make sure that our 2D rain bed

439
00:22:35,133 --> 00:22:35,894
reacted accordingly.

440
00:22:36,314 --> 00:22:37,934
So we set up a raycast system for that,

441
00:22:37,954 --> 00:22:38,714
which I'll show you soon.

442
00:22:39,714 --> 00:22:41,895
We also had to make sure that all of our 3D objects

443
00:22:41,935 --> 00:22:44,155
in the game were tagged with the correct surfaces.

444
00:22:44,276 --> 00:22:47,016
So similar to earlier how we set up our static emitters

445
00:22:47,296 --> 00:22:49,037
on HVACs, rooftops and stuff,

446
00:22:49,477 --> 00:22:51,237
we had to make sure that umbrellas, trash cans,

447
00:22:51,277 --> 00:22:53,278
and other things were tagged with 3D rain emitters

448
00:22:53,318 --> 00:22:54,618
that would turn on when it was raining,

449
00:22:54,998 --> 00:22:56,998
and also were tagged with the correct material type as well.

450
00:22:57,975 --> 00:23:01,698
So for our 2D rain, our audio programmer set up the system

451
00:23:01,778 --> 00:23:04,139
to where it points a ray cast from the hero to the ground,

452
00:23:04,659 --> 00:23:06,601
and as soon as that impact point happens,

453
00:23:06,781 --> 00:23:08,562
we get an RTPC that measures that distance,

454
00:23:09,242 --> 00:23:10,703
and basically we kind of drive the mix

455
00:23:10,743 --> 00:23:11,944
of the 2D rain with that as well.

456
00:23:12,204 --> 00:23:13,805
So here's a video kind of showing that in action.

457
00:23:44,273 --> 00:23:47,274
So it's pretty simple, you know, it's just mostly volume and EQ changes, but once it

458
00:23:47,354 --> 00:23:50,595
kind of sits in the rest of the city ambience, it really feels pretty nice.

459
00:23:52,027 --> 00:23:53,268
So another one that was a little more subtle,

460
00:23:53,328 --> 00:23:54,469
just kind of time of day change.

461
00:23:54,910 --> 00:23:56,591
So basically day and night was our biggest difference

462
00:23:56,631 --> 00:23:57,372
we kind of had to sell.

463
00:23:58,092 --> 00:23:59,493
And this was a very subjective approach.

464
00:23:59,533 --> 00:24:00,854
So basically daytime would be kind of

465
00:24:00,874 --> 00:24:02,796
the default city ambience, it would be very bright.

466
00:24:03,336 --> 00:24:05,018
A lot of the more intense sizzly layers

467
00:24:05,058 --> 00:24:06,879
that had a sharper EQ spectrum,

468
00:24:06,899 --> 00:24:08,501
we would kind of mix those up during the day.

469
00:24:08,521 --> 00:24:11,703
And at nighttime, we would kind of re-EQ a lot of the beds

470
00:24:11,803 --> 00:24:14,165
to kind of make sure that they were sounding more cold.

471
00:24:14,245 --> 00:24:16,287
So we kind of introduced more like low mids into the mix

472
00:24:16,307 --> 00:24:17,508
to kind of make it feel emptier.

473
00:24:18,149 --> 00:24:20,290
And we also changed our reverb and delay completely

474
00:24:20,350 --> 00:24:22,091
to kind of make sure that it kind of reflected

475
00:24:22,211 --> 00:24:23,732
how the city was a little bit emptier feeling.

476
00:24:24,392 --> 00:24:25,513
We also turned certain things up,

477
00:24:25,773 --> 00:24:28,015
like dogs barking and cars racing at night

478
00:24:28,035 --> 00:24:29,856
to kind of give the flavor a little bit more

479
00:24:29,876 --> 00:24:30,876
of a different kind of vibe.

480
00:24:32,077 --> 00:24:35,259
So, all that stuff was in, game sounded great,

481
00:24:35,439 --> 00:24:36,580
but we ran into a huge wall,

482
00:24:36,640 --> 00:24:38,581
which is performance in optimization,

483
00:24:38,661 --> 00:24:40,062
which is everyone's favorite subject.

484
00:24:40,937 --> 00:24:42,639
So basically, a lot of times in our game,

485
00:24:43,079 --> 00:24:44,941
especially towards the end of the title development,

486
00:24:45,081 --> 00:24:46,302
we were kind of over limit a lot.

487
00:24:47,363 --> 00:24:50,225
We only had 180, 190 megabytes to spare

488
00:24:50,505 --> 00:24:51,666
for the whole entire game.

489
00:24:52,267 --> 00:24:53,728
And since the open world was loaded most of the time,

490
00:24:53,748 --> 00:24:54,929
we'd make sure that was fitting into memory.

491
00:24:55,670 --> 00:24:58,152
So one of the first steps we did to kind of get in memory

492
00:24:58,692 --> 00:25:00,654
was switching from A-track 9 to AugVorbis,

493
00:25:00,754 --> 00:25:02,656
which was really helpful because that kind of made

494
00:25:03,036 --> 00:25:05,438
our overall RAM usage drop by about 10 megabytes,

495
00:25:05,478 --> 00:25:06,379
which for us was huge.

496
00:25:07,460 --> 00:25:07,780
However.

497
00:25:08,488 --> 00:25:11,389
This caused us to rise our CPU usage by about 12%

498
00:25:12,389 --> 00:25:15,491
from the engine having to decode the Vorbis stuff.

499
00:25:16,171 --> 00:25:17,811
So we kind of put a lot of ambient elements

500
00:25:17,831 --> 00:25:19,192
that were being streamed in A-track 9

501
00:25:19,612 --> 00:25:21,073
so they wouldn't have to be decoded,

502
00:25:21,313 --> 00:25:22,413
but they were being streamed anyways

503
00:25:22,493 --> 00:25:24,114
so they weren't taking up any memory at all

504
00:25:25,034 --> 00:25:26,035
for our resident memory.

505
00:25:26,795 --> 00:25:28,336
And distant layers were also more compressed,

506
00:25:28,416 --> 00:25:30,156
so distant sirens that were more muffled,

507
00:25:30,196 --> 00:25:32,537
we just used a really aggressive compression ratio on those.

508
00:25:32,557 --> 00:25:34,138
If they were being low-passed anyways,

509
00:25:34,158 --> 00:25:35,798
you wouldn't be able to tell those nasty artifacts,

510
00:25:35,838 --> 00:25:37,199
so that was a huge win for us as well.

511
00:25:38,103 --> 00:25:41,687
We still had to kind of be, you know, smart with what was streaming and what was resonant.

512
00:25:42,267 --> 00:25:47,172
If everything was streaming at once, we were also competing with quad music and a bunch of dialogue and everything that was happening in the world.

513
00:25:47,752 --> 00:25:52,016
So we kind of had to make a lot of our things that would normally be streaming, we had to make those resonant.

514
00:25:52,537 --> 00:25:56,640
So we kind of chopped up those longer loops into shorter segments and cross-shaded between them.

515
00:25:57,001 --> 00:26:01,965
So this not only helped with variety, but kind of gave us more bang for our buck when it came to what was being loaded.

516
00:26:03,178 --> 00:26:07,001
Unfortunately we had to sacrifice a lot of our more dynamic layers and kind of sum things

517
00:26:07,041 --> 00:26:10,364
together before they went into Wwise just because we couldn't run everything at the

518
00:26:10,404 --> 00:26:10,784
same time.

519
00:26:11,705 --> 00:26:15,068
And like I said before, we couldn't do quad ambiences in our game because we had just

520
00:26:15,228 --> 00:26:18,671
too much streaming contention, so we basically had to make sure that everything was stereo

521
00:26:18,851 --> 00:26:21,873
but using our surround sound re-ribbon delay to kind of fill out those rear speakers.

522
00:26:23,515 --> 00:26:27,138
So that's kind of how the ambience, fake and real stuff worked in our game.

523
00:26:27,658 --> 00:26:29,400
I'll pass it off to Blake to talk about the cars.

524
00:26:33,190 --> 00:26:38,192
So as you saw, Alex, when I came on, Alex was in the midst of putting together a really

525
00:26:38,273 --> 00:26:41,774
dynamic and layered ambient system.

526
00:26:42,535 --> 00:26:49,419
But there was still one system, especially in terms of the actual interactable objects

527
00:26:50,039 --> 00:26:54,882
that really needed to be taken care of, and being New York, of course, that is cars.

528
00:26:56,122 --> 00:26:57,063
There's a lot of cars in New York.

529
00:26:58,782 --> 00:27:02,462
So cars became my first, like the vehicles,

530
00:27:02,682 --> 00:27:04,443
the traffic became my number one priority

531
00:27:05,183 --> 00:27:06,963
and first big task on the project.

532
00:27:07,804 --> 00:27:10,364
So just creating that bridge between what Alex created

533
00:27:10,904 --> 00:27:14,025
in the 2D system and bringing that,

534
00:27:14,465 --> 00:27:17,106
like matching that with the actual cars

535
00:27:17,126 --> 00:27:18,346
you interact with on the street.

536
00:27:21,567 --> 00:27:24,708
Just a quick overview of the traffic or ambient car system.

537
00:27:25,930 --> 00:27:29,332
there can be up to 180 active cars at one time.

538
00:27:29,812 --> 00:27:31,013
That's not including parked cars.

539
00:27:31,073 --> 00:27:34,435
And I learned, Alon did a really great talk yesterday,

540
00:27:35,615 --> 00:27:39,057
and I think there's something in like four digits

541
00:27:39,117 --> 00:27:40,078
in terms of parked cars.

542
00:27:40,118 --> 00:27:40,918
Thankfully for sound,

543
00:27:40,938 --> 00:27:42,439
we don't really need to do much for parked cars.

544
00:27:43,239 --> 00:27:44,780
But 180 active vehicles,

545
00:27:44,960 --> 00:27:48,442
I'll get to how we worked with that

546
00:27:48,522 --> 00:27:54,365
because 180 is too much for us to be actively doing things.

547
00:27:55,773 --> 00:27:57,494
classified into five car types,

548
00:27:58,915 --> 00:28:02,818
and the traffic vehicles essentially had four core sounds

549
00:28:02,838 --> 00:28:04,219
that they could make,

550
00:28:05,599 --> 00:28:08,061
being engines, the tire road noise,

551
00:28:08,802 --> 00:28:11,563
their brake squeals, and car horns.

552
00:28:15,326 --> 00:28:18,348
The five car types we had were commercial,

553
00:28:18,828 --> 00:28:21,370
which is like your box trucks, delivery trucks,

554
00:28:21,390 --> 00:28:23,632
that kind of like diesel-y engine sounding stuff.

555
00:28:25,172 --> 00:28:27,854
Compact and sedan were used pretty similarly

556
00:28:28,595 --> 00:28:31,057
and only had some variations in terms of the engines

557
00:28:31,077 --> 00:28:31,617
we used for them.

558
00:28:33,278 --> 00:28:38,582
SUV class we used for the Sable kind of Humvee vehicles

559
00:28:39,543 --> 00:28:40,303
towards the end of the game.

560
00:28:41,544 --> 00:28:43,946
And then electric were the taxis

561
00:28:43,966 --> 00:28:46,688
because Marvel's Manhattan is pretty eco-friendly

562
00:28:46,748 --> 00:28:49,750
and the taxis look like kind of electric vehicles.

563
00:28:53,660 --> 00:28:56,544
So engines was definitely the biggest hurdle to overcome.

564
00:28:56,564 --> 00:28:59,308
If you've ever worked in audio,

565
00:28:59,348 --> 00:29:00,730
and specifically with vehicles,

566
00:29:00,770 --> 00:29:04,335
you know that it's, especially dynamic vehicles,

567
00:29:04,996 --> 00:29:07,680
it's a challenge because an engine sound

568
00:29:07,720 --> 00:29:08,761
is a very complex sound.

569
00:29:11,665 --> 00:29:14,889
If it's static, it does the same thing every time.

570
00:29:15,310 --> 00:29:18,393
That's one thing, you can kind of bake what you want to use,

571
00:29:18,454 --> 00:29:22,078
but in the traffic system in Spider-Man,

572
00:29:22,438 --> 00:29:23,720
the vehicles can be interrupted

573
00:29:24,361 --> 00:29:25,943
and they stop and go any time.

574
00:29:26,904 --> 00:29:32,348
So I started experimenting with a plug-in you may know it's for wise and other middleware

575
00:29:33,209 --> 00:29:36,872
called rev by crankcase audio and a

576
00:29:37,592 --> 00:29:38,953
granular synthesis based

577
00:29:39,774 --> 00:29:41,015
engine simulator

578
00:29:43,104 --> 00:29:46,206
So I was playing around with that in using it

579
00:29:46,266 --> 00:29:48,848
with our traffic system, and we all agreed

580
00:29:48,888 --> 00:29:50,609
that it sounded the best.

581
00:29:50,889 --> 00:29:52,030
It was the best sounding option

582
00:29:52,090 --> 00:29:54,351
over using like loop-based audio.

583
00:29:55,372 --> 00:29:57,954
But A, it's really CPU intensive,

584
00:29:58,874 --> 00:30:01,316
and obviously with the number of vehicles,

585
00:30:01,696 --> 00:30:03,717
that also throws another wrench in the system.

586
00:30:04,558 --> 00:30:06,099
But I'll get to performance more later.

587
00:30:07,777 --> 00:30:11,981
So we used nine Rev models, many of which were created

588
00:30:12,041 --> 00:30:14,484
and provided by the Audio Guys in the UK.

589
00:30:16,746 --> 00:30:19,328
But we did use a loop-based system for the electric taxis

590
00:30:19,768 --> 00:30:23,692
because pretty much any non-classic,

591
00:30:24,052 --> 00:30:28,456
like gas engine sound, does not really work in Rev.

592
00:30:28,516 --> 00:30:29,958
It's really just meant for that.

593
00:30:31,839 --> 00:30:34,680
And then we used loops for the police sedans,

594
00:30:35,460 --> 00:30:38,481
because at the beginning of the game, there's like a ton,

595
00:30:39,202 --> 00:30:42,343
and to try to have rev instances on those.

596
00:30:43,043 --> 00:30:45,624
Plus, they pretty much do the same thing every time,

597
00:30:45,644 --> 00:30:46,464
and they're not a focus,

598
00:30:46,484 --> 00:30:48,585
so it works to make those loop-based.

599
00:30:51,964 --> 00:30:58,012
Oh, and just a note on Rev, it used about 1.5 to 2.5%

600
00:30:58,132 --> 00:31:03,039
of our audio CPU thread per instance.

601
00:31:03,119 --> 00:31:05,122
So it was a little expensive.

602
00:31:09,234 --> 00:31:12,495
So what I ended up doing for the engines

603
00:31:13,155 --> 00:31:18,436
was essentially faking a RPM curve over speed.

604
00:31:18,516 --> 00:31:21,116
So on the X axis is the speed of the vehicle,

605
00:31:21,556 --> 00:31:22,656
Y axis is RPM.

606
00:31:23,677 --> 00:31:27,537
Because these vehicles don't have any traditional physics

607
00:31:27,557 --> 00:31:29,358
you would expect in like a driving game

608
00:31:29,538 --> 00:31:32,058
or any game where vehicles are actually

609
00:31:32,098 --> 00:31:34,079
being driven by physics,

610
00:31:34,099 --> 00:31:35,359
I had to kind of fake things.

611
00:31:38,411 --> 00:31:45,415
In terms of programming support, potentially you could get parameters that could fake the

612
00:31:45,515 --> 00:31:52,539
RPM accurately, but to do that on a large scale and just in the amount of time we had

613
00:31:52,559 --> 00:31:54,040
on the project, it just didn't make it in.

614
00:31:55,221 --> 00:31:56,661
We weren't able to get something realistic.

615
00:31:57,882 --> 00:32:00,744
What I did was fake this RPM curve.

616
00:32:01,404 --> 00:32:02,825
Which ended up sounding pretty good.

617
00:32:03,045 --> 00:32:04,927
You know, most of the time, you could never really tell.

618
00:32:04,947 --> 00:32:07,388
And the only issue was when a vehicle would

619
00:32:08,089 --> 00:32:10,730
be constantly moving at a steady speed.

620
00:32:11,931 --> 00:32:13,952
Especially if it was at, like, a higher RPM,

621
00:32:13,973 --> 00:32:15,714
because it just kind of sounded flat-lining.

622
00:32:16,954 --> 00:32:18,576
But thankfully, in New York, there's a lot of traffic,

623
00:32:18,596 --> 00:32:20,037
so they're constantly starting and going.

624
00:32:25,506 --> 00:32:28,729
Next, I'm gonna look a little bit at the brake squeal skids

625
00:32:28,809 --> 00:32:30,230
and horn honks.

626
00:32:30,971 --> 00:32:33,152
They really provided a nice level of immersion

627
00:32:33,633 --> 00:32:35,014
and just kind of personality to the city.

628
00:32:36,795 --> 00:32:38,757
So first, the horn honks.

629
00:32:39,417 --> 00:32:42,300
So in this example, a sedan spawns into the city

630
00:32:43,921 --> 00:32:47,664
and the vehicle type is set to sedan

631
00:32:47,744 --> 00:32:49,165
and this is done on the model level.

632
00:32:49,226 --> 00:32:53,409
So on each type of model, like the sedan, compact, et cetera.

633
00:32:54,230 --> 00:32:56,933
the switch would automatically assign based on that.

634
00:32:58,914 --> 00:33:02,177
And then we used what we called a random switch

635
00:33:03,258 --> 00:33:05,439
because we had this issue where you,

636
00:33:05,500 --> 00:33:07,901
the player is Spider-Man, you jump in front of this car

637
00:33:08,602 --> 00:33:09,583
and it would honk at you.

638
00:33:09,603 --> 00:33:12,085
Okay, that's normal.

639
00:33:12,946 --> 00:33:14,707
You'd move out of the way, it'd stop honking.

640
00:33:15,127 --> 00:33:17,069
You move back in front of it five seconds later.

641
00:33:19,081 --> 00:33:20,862
We have a completely different horn, you know.

642
00:33:22,142 --> 00:33:24,863
And while we wanted the variety in,

643
00:33:25,603 --> 00:33:27,584
amongst sedans and compacts especially,

644
00:33:27,644 --> 00:33:30,305
because there are many different horn sounds

645
00:33:30,365 --> 00:33:34,166
in those car types, we needed to be persistent

646
00:33:34,526 --> 00:33:35,466
amongst the life of the vehicle.

647
00:33:36,187 --> 00:33:37,907
So we got some programming to support,

648
00:33:38,267 --> 00:33:42,189
programming support to essentially create a,

649
00:33:43,149 --> 00:33:44,269
what we called a random switch.

650
00:33:44,329 --> 00:33:46,110
It just randomly selects one switch

651
00:33:46,210 --> 00:33:47,330
out of a handful that you give it.

652
00:33:48,318 --> 00:33:51,059
So, sets it to number three, so we can stay

653
00:33:51,099 --> 00:33:52,380
with a consistent sounding horn,

654
00:33:52,860 --> 00:33:55,881
but it'll still do a variety of different types of honks.

655
00:33:57,502 --> 00:33:59,262
So at the heart, just an overview.

656
00:34:00,283 --> 00:34:02,524
Honk start event, looks at the car type,

657
00:34:04,145 --> 00:34:06,486
checks the random switch, and plays the honk.

658
00:34:08,706 --> 00:34:10,507
Just a side note, they will honk

659
00:34:10,567 --> 00:34:12,448
any time they're interrupted abruptly,

660
00:34:12,928 --> 00:34:14,329
and a very, very low probability

661
00:34:14,469 --> 00:34:16,390
if they're just stuck in normal New York traffic.

662
00:34:20,364 --> 00:34:21,545
Next we're gonna look at brakes wheels.

663
00:34:24,027 --> 00:34:27,950
In this situation a delivery truck spawns in.

664
00:34:29,412 --> 00:34:31,433
The vehicle type is set to commercial

665
00:34:32,054 --> 00:34:33,475
and the random switch would also be set

666
00:34:33,535 --> 00:34:34,956
but not relevant in this case.

667
00:34:38,366 --> 00:34:40,388
For our brake event, the first thing we look at

668
00:34:40,908 --> 00:34:42,910
on the engine side is the distance

669
00:34:43,290 --> 00:34:44,571
of the object causing the brake.

670
00:34:45,051 --> 00:34:49,175
To give some granularity, we use this and speed,

671
00:34:49,215 --> 00:34:50,596
which I'll also get to in a moment.

672
00:34:51,557 --> 00:34:55,400
So if the distance of the object from the vehicle

673
00:34:55,580 --> 00:34:57,421
was greater than x, I think it was around

674
00:34:57,461 --> 00:35:01,685
maybe like 10 meters, we would then play

675
00:35:01,725 --> 00:35:03,786
something much more subtle and slower like this.

676
00:35:07,877 --> 00:35:11,260
However, if the vehicle, or if the object causing the brake

677
00:35:11,540 --> 00:35:12,701
was on a shorter distance,

678
00:35:13,181 --> 00:35:15,062
then we would look at the speed of the vehicle.

679
00:35:16,463 --> 00:35:17,724
If it was moving pretty fast,

680
00:35:17,864 --> 00:35:19,986
we would give it something short,

681
00:35:20,586 --> 00:35:24,589
but pretty intense and a little louder, like that.

682
00:35:25,810 --> 00:35:27,010
And if it was going slower,

683
00:35:28,151 --> 00:35:30,153
then we would just get a subtle little brake squeal,

684
00:35:31,333 --> 00:35:31,654
like that.

685
00:35:33,435 --> 00:35:36,837
And to Brent, just in a cacophony of brake squeals.

686
00:35:37,327 --> 00:35:39,869
we had to make sure there was kind of a threshold.

687
00:35:40,790 --> 00:35:43,953
So we didn't play them for minute little movements.

688
00:35:48,016 --> 00:35:49,317
So this guy's maybe wondering,

689
00:35:49,337 --> 00:35:50,498
hey, what about the tire noise?

690
00:35:50,518 --> 00:35:51,859
You know, that's a big part of what we hear

691
00:35:51,899 --> 00:35:53,540
when cars are actually driving around.

692
00:35:53,620 --> 00:35:55,321
It's not really the engine all the time.

693
00:35:56,888 --> 00:36:00,510
So, when a vehicle spawns in, if it's moving,

694
00:36:01,170 --> 00:36:02,811
it will just automatically start playing

695
00:36:02,831 --> 00:36:05,893
the entire road noise, and it's a pretty simple system.

696
00:36:06,933 --> 00:36:10,234
This is the RTPC graph of the sound

697
00:36:11,995 --> 00:36:14,236
on x-axis is the vehicle speed.

698
00:36:15,177 --> 00:36:18,581
So, we had an issue where sometimes the vehicle would stop,

699
00:36:18,701 --> 00:36:21,104
but it would continue to play its sound,

700
00:36:21,825 --> 00:36:25,690
and we didn't have a ton of time to thoroughly debug the issue,

701
00:36:25,770 --> 00:36:29,534
so just as a fail-safe, we just dropped the volume to zero

702
00:36:29,614 --> 00:36:32,278
when the vehicle wasn't moving.

703
00:36:33,120 --> 00:36:37,747
There's also some slight pitching up, not a whole lot.

704
00:36:38,268 --> 00:36:39,149
Otherwise, it sounds weird.

705
00:36:40,551 --> 00:36:44,376
And the purple line is also just a priority playback.

706
00:36:44,657 --> 00:36:48,121
So it doesn't prioritize it if it's not moving or moving

707
00:36:48,162 --> 00:36:48,542
very fast.

708
00:36:52,364 --> 00:36:55,767
We also have kind of like a wetness system on the ground.

709
00:36:55,827 --> 00:37:00,672
So there's puddles in our game and on the road.

710
00:37:00,832 --> 00:37:04,835
And when you would drive over any object really,

711
00:37:05,396 --> 00:37:06,757
we could send events.

712
00:37:07,738 --> 00:37:07,918
So.

713
00:37:09,339 --> 00:37:12,462
When you drove over a puddle, or not you,

714
00:37:12,502 --> 00:37:13,944
but a vehicle would drive over a puddle,

715
00:37:14,304 --> 00:37:17,026
it would send like a wetness value on an RTPC.

716
00:37:17,967 --> 00:37:20,470
And you could do it with just like a switch system as well,

717
00:37:20,550 --> 00:37:23,132
but I just found this to be a little more granular

718
00:37:24,093 --> 00:37:25,194
and give me a little more control.

719
00:37:26,235 --> 00:37:31,719
So it would send like hey, you know what you're driving over is wet and it would fade over to the right

720
00:37:32,380 --> 00:37:37,484
which is that kind of wet concrete wet asphalt kind of sound and

721
00:37:37,524 --> 00:37:40,186
Then go back to dry once it got off the puddle

722
00:37:43,985 --> 00:37:47,586
So that's most of the aspects of the ambient traffic system,

723
00:37:47,606 --> 00:37:50,306
but what about those crazy scripted vehicle moments

724
00:37:50,867 --> 00:37:51,987
where they're racing around the city,

725
00:37:52,447 --> 00:37:54,387
flying around turns, crashing into stuff?

726
00:37:55,128 --> 00:37:58,008
We needed to do something extra for those vehicles.

727
00:38:01,609 --> 00:38:05,050
And the first aspect of that was the tire squeals.

728
00:38:08,879 --> 00:38:12,643
Now I wanted to create a dynamic system that kind of took care of itself

729
00:38:13,404 --> 00:38:18,770
amongst any situation that would, that the designers would throw at it.

730
00:38:19,591 --> 00:38:23,195
Because they had the control of, you know, how fast a vehicle would go and,

731
00:38:23,696 --> 00:38:25,278
you know, the kind of angles it would go at.

732
00:38:25,758 --> 00:38:27,721
And a lot of it was kind of auto-generated too.

733
00:38:29,584 --> 00:38:31,845
So here's a look at a switch container,

734
00:38:33,386 --> 00:38:36,928
sorry, essentially the tire squeal sound,

735
00:38:38,089 --> 00:38:41,390
and on the x-axis is the curve of,

736
00:38:42,131 --> 00:38:44,012
or the angle of the curve of the vehicle.

737
00:38:45,532 --> 00:38:48,574
So you can see if it's within plus or minus two degrees,

738
00:38:49,014 --> 00:38:50,675
it's not playing the sound at all,

739
00:38:50,735 --> 00:38:51,956
but as soon as it gets above that,

740
00:38:52,496 --> 00:38:54,477
it will activate the tire squeal sound.

741
00:38:57,323 --> 00:39:02,088
Here's another view of the blend container which it's in.

742
00:39:03,589 --> 00:39:06,471
And in the center there's a more subtle tire squeal sound

743
00:39:07,152 --> 00:39:08,493
and also some volume reduction.

744
00:39:08,513 --> 00:39:10,034
And then on the outside you have

745
00:39:10,535 --> 00:39:12,577
a more intense tire squeal sound.

746
00:39:13,497 --> 00:39:15,139
There are also different tire squeal sounds

747
00:39:15,880 --> 00:39:18,962
for different vehicles, so like the bigger box trucks

748
00:39:19,002 --> 00:39:22,445
had a little different sound than say a sedan.

749
00:39:26,949 --> 00:39:29,072
Now the x-axis is showing vehicle speed,

750
00:39:29,653 --> 00:39:32,197
and so the pitch would be a little higher

751
00:39:32,738 --> 00:39:35,041
when the vehicle's going at higher speeds.

752
00:39:38,647 --> 00:39:41,231
And also to prevent cars sounding like.

753
00:39:42,055 --> 00:39:44,035
they're going crazy fast when they're not,

754
00:39:44,695 --> 00:39:47,656
this just prevented the chance if,

755
00:39:48,276 --> 00:39:50,557
sometimes designers would script in a vehicle

756
00:39:51,137 --> 00:39:53,517
to not be going that fast,

757
00:39:54,357 --> 00:39:57,098
and this made it so we wouldn't have to go in

758
00:39:57,158 --> 00:39:58,878
and mute it manually or something,

759
00:39:59,438 --> 00:40:00,639
or it would just be very subtle.

760
00:40:00,959 --> 00:40:04,980
So that's volume on the versus speed.

761
00:40:09,602 --> 00:40:12,665
Now here's an example video in a later part in the game

762
00:40:13,326 --> 00:40:15,768
where you can kind of get a sense for the tires wheels

763
00:40:15,848 --> 00:40:16,969
just doing their thing.

764
00:40:18,030 --> 00:40:20,352
You can kind of hear them in just the subtle turns

765
00:40:21,013 --> 00:40:23,715
and the bigger turns varying with speed and such.

766
00:40:55,660 --> 00:41:00,485
Next we're going to look at a classic sound that you expect to hear playing as Spider-Man

767
00:41:00,525 --> 00:41:01,726
swinging over Manhattan.

768
00:41:02,106 --> 00:41:07,871
And that is, you know, that Doppler-Bi when you swing or move past something really fast.

769
00:41:10,642 --> 00:41:12,683
So we got some great programming support on this

770
00:41:12,983 --> 00:41:16,684
to create an event where when Spider-Man is at the peak,

771
00:41:17,164 --> 00:41:19,504
or I guess, no, the bottom of his swing,

772
00:41:20,064 --> 00:41:22,445
an event is sent to nearby vehicles,

773
00:41:23,345 --> 00:41:26,206
or first it checks to see the closest vehicles to Spider-Man

774
00:41:28,126 --> 00:41:31,047
and it will choose, I think about three or four vehicles

775
00:41:31,107 --> 00:41:32,507
to send the event on.

776
00:41:33,888 --> 00:41:36,368
And it'll play a baked Doppler sound.

777
00:41:38,098 --> 00:41:41,961
So to visualize again, we would filter based on the vehicle

778
00:41:41,981 --> 00:41:47,445
type, so if we have a sedan here, and the event is fired

779
00:41:47,485 --> 00:41:50,087
on the sedan that Spider-Man is swinging over.

780
00:41:52,068 --> 00:41:55,231
And it checks speed, because we wanted to have, when you're

781
00:41:55,251 --> 00:41:58,113
swinging a little faster, to get more intense doppler buys

782
00:41:58,933 --> 00:42:01,936
that are louder, and also the pitch change is stronger.

783
00:42:04,357 --> 00:42:06,559
Checks it's a sedan, and it'll play something like this.

784
00:42:10,664 --> 00:42:16,608
Then we also checked kind of that middle speed and might play something a little more subdued like this.

785
00:42:18,370 --> 00:42:18,950
A little slower.

786
00:42:21,552 --> 00:42:27,157
And we learned we also definitely needed to make sure we weren't playing them when you were below a certain speed.

787
00:42:27,797 --> 00:42:30,799
Otherwise you could just hang there as Spider-Man

788
00:42:31,700 --> 00:42:35,063
and you would constantly be getting these dopper-by sounds as you're not moving at all.

789
00:42:38,848 --> 00:42:46,593
Similar to the Doppler bias system, I was working on the scripted chase and crime system

790
00:42:47,674 --> 00:42:52,397
and the engines were in there, the tire squeals, all that stuff, but it just seemed to be missing

791
00:42:52,437 --> 00:42:59,722
something and I realized it's that feeling of motion as you're whizzing by cars parked

792
00:42:59,822 --> 00:43:00,382
and active.

793
00:43:01,283 --> 00:43:06,485
So I put together a really terribly CPU heavy system

794
00:43:06,525 --> 00:43:08,786
and why is it just to get the idea across

795
00:43:09,526 --> 00:43:10,687
and to share it with a programmer

796
00:43:10,827 --> 00:43:13,328
to explain what I was going for.

797
00:43:14,268 --> 00:43:16,169
And I just pitched that it was very similar

798
00:43:16,209 --> 00:43:18,050
to the Doppler by event,

799
00:43:18,610 --> 00:43:20,931
but we just needed it for the car chases.

800
00:43:22,132 --> 00:43:25,413
So what we got was a system very similar

801
00:43:25,473 --> 00:43:28,274
where only when you're on a vehicle,

802
00:43:28,374 --> 00:43:29,215
attached to a vehicle,

803
00:43:29,872 --> 00:43:34,973
will this system activate? And it looks at both parked and active cars that you're going

804
00:43:35,013 --> 00:43:42,676
to be passing. And it'll just pick, um, and this gets fired off maybe every second, not

805
00:43:42,836 --> 00:43:48,398
too much because we were pretty tight on, you know, resource CPU and such at the time.

806
00:43:49,659 --> 00:43:54,460
And it would pick, um, about three vehicles to send the event on.

807
00:43:56,061 --> 00:44:00,205
And we were able to reuse the Doppler by events,

808
00:44:00,865 --> 00:44:04,188
and then for the parked cars was more of just a clean whoosh,

809
00:44:04,248 --> 00:44:08,011
not with like engine or horn in it.

810
00:44:10,012 --> 00:44:11,153
So here's an example video.

811
00:44:11,634 --> 00:44:13,875
It's pretty short, but in the beginning you'll hear,

812
00:44:14,516 --> 00:44:16,357
there's none of that movement, no that whiz by,

813
00:44:16,778 --> 00:44:18,699
and a few seconds in, it'll turn on.

814
00:44:20,040 --> 00:44:21,201
And I don't think you'll hear it in surround,

815
00:44:21,241 --> 00:44:22,783
but it's extra great in surround, just FYI.

816
00:44:41,057 --> 00:44:42,957
Lastly, to wrap things up on the vehicles,

817
00:44:43,477 --> 00:44:46,918
performance and optimization was a big issue.

818
00:44:47,058 --> 00:44:49,019
Like I said, Rev was very heavy,

819
00:44:50,099 --> 00:44:51,440
and we really had to make sure

820
00:44:51,500 --> 00:44:53,160
we limited the playback of Rev.

821
00:44:53,940 --> 00:44:55,581
This went back and forth a few times,

822
00:44:56,541 --> 00:44:58,562
because we found if the number was too low,

823
00:44:58,842 --> 00:45:02,643
and you were swinging over a very busy area of Manhattan,

824
00:45:03,323 --> 00:45:06,204
you would hear the vehicle engine pop in and out

825
00:45:06,284 --> 00:45:07,504
as it switched from virtual

826
00:45:07,624 --> 00:45:10,665
to actually playing back in Wwise.

827
00:45:12,029 --> 00:45:15,375
And I believe we settled on around seven instances

828
00:45:15,555 --> 00:45:18,240
for the traffic vehicles,

829
00:45:18,741 --> 00:45:20,044
and it could potentially be more

830
00:45:20,144 --> 00:45:22,829
if it was the scripted vehicles.

831
00:45:26,052 --> 00:45:28,373
Activating and deactivating the sound component

832
00:45:28,653 --> 00:45:30,915
on a tight race really helped us control this.

833
00:45:31,715 --> 00:45:33,496
And similar to the static emitter system,

834
00:45:34,097 --> 00:45:36,738
but on the moving cars,

835
00:45:37,799 --> 00:45:39,900
we had a radius in which the sound component

836
00:45:39,920 --> 00:45:40,681
would turn on and off.

837
00:45:41,021 --> 00:45:43,603
That way we didn't have 180 vehicles registered

838
00:45:43,643 --> 00:45:44,683
in Wwise at all times.

839
00:45:46,224 --> 00:45:48,566
And yeah, which really helped with CPU.

840
00:45:49,507 --> 00:45:52,028
We also found though that if you were at a higher elevation,

841
00:45:52,488 --> 00:45:53,789
you could be looking down at a street

842
00:45:53,849 --> 00:45:54,770
and seeing cars go by.

843
00:45:55,670 --> 00:45:57,891
but you wouldn't hear them because it was below that threshold.

844
00:45:58,832 --> 00:46:04,614
But the concern of having too many cars active at a time

845
00:46:05,114 --> 00:46:06,235
wasn't really an issue up there.

846
00:46:06,775 --> 00:46:10,917
So the radius was essentially set on ground level.

847
00:46:11,097 --> 00:46:14,579
So even if you were high up, you would still have a few cars active,

848
00:46:14,639 --> 00:46:17,000
which is really nice because it's quieter up above.

849
00:46:21,311 --> 00:46:23,753
Act three also produced some issues where

850
00:46:24,754 --> 00:46:27,136
it's much quieter, there's far less cars on the street,

851
00:46:27,776 --> 00:46:29,478
and you could see a car coming down the street

852
00:46:30,118 --> 00:46:32,160
and it would just all of a sudden turn on,

853
00:46:32,760 --> 00:46:35,022
and then, or turn off if it was moving away from you.

854
00:46:36,103 --> 00:46:38,265
And once again, because there's far less cars on the street,

855
00:46:38,926 --> 00:46:40,487
CPU wasn't really an issue there.

856
00:46:41,127 --> 00:46:42,829
So we were able to change the radius

857
00:46:43,069 --> 00:46:44,590
and make it bigger for act three.

858
00:46:48,196 --> 00:46:51,237
Not using rev for electric taxis was also very helpful.

859
00:46:53,418 --> 00:46:56,319
And we just got a lot of memory savings from using rev

860
00:46:56,359 --> 00:46:59,420
because we didn't have to have a handful of loops saved for

861
00:46:59,520 --> 00:47:00,821
every type of engine we used.

862
00:47:05,875 --> 00:47:11,700
Just to conclude, this is an example video of just walking around and swinging around

863
00:47:12,461 --> 00:47:18,446
New York City without the traffic sounds and then with them plopped in.

864
00:47:43,628 --> 00:47:44,109
To be continued.

865
00:47:44,129 --> 00:47:44,889
Devil May Cry II

866
00:47:45,389 --> 00:47:46,230
Devil May Cry 2

867
00:47:46,270 --> 00:47:48,311
What if the game has where all of yourbefore that?

868
00:47:48,331 --> 00:47:48,711
Devil May Cry 3

869
00:47:48,791 --> 00:47:49,071
Devil May Cry 4

870
00:48:16,963 --> 00:48:20,306
All right.

871
00:48:21,087 --> 00:48:22,408
Hey, okay, so lastly, we're just gonna kind of show

872
00:48:22,428 --> 00:48:23,969
a little video kind of, you know,

873
00:48:24,029 --> 00:48:26,392
showing all the elements in the game in a final product,

874
00:48:26,632 --> 00:48:28,514
you know, in full mix with everything activated,

875
00:48:28,554 --> 00:48:30,776
just kind of showing different aspects we talked about

876
00:48:30,876 --> 00:48:32,958
with the vehicle sounds, crowds, and ambience.

877
00:48:33,378 --> 00:48:35,500
This is a little, you know, end cap for this.

878
00:49:30,548 --> 00:49:33,800
I tried catching it a lot of times, I suck at playing the game, so it was a little sloppy, sorry.

879
00:49:42,782 --> 00:49:43,863
So that kind of does it for us.

880
00:49:44,223 --> 00:49:47,086
Just wanted to thank all these people.

881
00:49:47,226 --> 00:49:49,468
So Insomniac Games, obviously, for making this game happen.

882
00:49:49,848 --> 00:49:52,871
All these great teams, programmers, developers,

883
00:49:52,951 --> 00:49:54,092
everyone on the team, super helpful.

884
00:49:54,752 --> 00:49:56,754
Sony Interactive Entertainment for not only

885
00:49:56,834 --> 00:49:58,856
helping us make this game, but providing

886
00:49:58,896 --> 00:50:00,558
so many incredible sound services for us.

887
00:50:01,038 --> 00:50:03,020
Marvel for literally inventing Spider-Man,

888
00:50:03,180 --> 00:50:05,042
but also just being a great resource for us

889
00:50:05,102 --> 00:50:06,463
and being there for us.

890
00:50:06,903 --> 00:50:09,486
And Audio Kinetic just for making Wwise, which we all love.

891
00:50:10,186 --> 00:50:12,869
Here's our Twitters, pretty easy to find us on there.

892
00:50:12,929 --> 00:50:14,810
So it'd be cool if we could chat, all that stuff.

893
00:50:14,830 --> 00:50:16,171
Yeah, thanks for coming out everyone.

894
00:50:16,472 --> 00:50:17,553
We have some time left, like 10 minutes,

895
00:50:17,573 --> 00:50:18,994
so if you have any questions, we can do a Q&A.

896
00:50:19,014 --> 00:50:19,574
Thank you.

897
00:50:19,614 --> 00:50:19,915
Thank you.

898
00:50:19,955 --> 00:50:20,155
Thank you.

899
00:50:20,175 --> 00:50:20,495
Thank you.

900
00:50:20,515 --> 00:50:20,855
Thank you.

901
00:50:20,915 --> 00:50:21,176
Thank you.

902
00:50:21,196 --> 00:50:21,376
Thank you.

903
00:50:21,396 --> 00:50:21,596
Thank you.

904
00:50:21,636 --> 00:50:22,016
Thank you.

905
00:50:22,036 --> 00:50:22,217
Thank you.

906
00:50:22,237 --> 00:50:22,457
Thank you.

907
00:50:22,477 --> 00:50:22,657
Thank you.

908
00:50:22,677 --> 00:50:22,857
Thank you.

909
00:50:22,877 --> 00:50:23,057
Thank you.

910
00:50:23,077 --> 00:50:28,162
Thank you.

911
00:50:28,182 --> 00:50:28,362
Thank you.

912
00:50:31,625 --> 00:50:31,805
Thank you.

913
00:50:32,385 --> 00:50:39,186
great job guys uh I had a quick question about how you managed uh rev instances uh did you

914
00:50:39,306 --> 00:50:47,808
end up needing to have a fallback for if you you know wanted a car to make sound but didn't

915
00:50:47,848 --> 00:50:52,089
have enough instances did you need to fall back to a looping system or were you able to just

916
00:50:52,129 --> 00:50:58,731
be like no like it's not important like focus is is fine so don't play anything.

917
00:50:59,337 --> 00:51:00,278
Yeah, that's a good question.

918
00:51:00,298 --> 00:51:04,361
I was talking to someone yesterday about this with kind

919
00:51:04,381 --> 00:51:08,565
of like, I think a lot of games might use a LOD system

920
00:51:08,605 --> 00:51:10,826
where at a distance it moves to loops, kind of what you're

921
00:51:10,846 --> 00:51:11,046
saying.

922
00:51:12,549 --> 00:51:18,714
New York is just so dang loud that it was never really an issue, except for Act 3, like

923
00:51:18,774 --> 00:51:19,075
I said.

924
00:51:19,095 --> 00:51:28,202
I think if it was something that we did here more like, like I said, from above it was

925
00:51:28,282 --> 00:51:31,865
potentially an issue, but then we fixed that by moving the radius to where they could be

926
00:51:31,905 --> 00:51:32,566
heard down below.

927
00:51:33,626 --> 00:51:37,247
And with Alex's system where you kind of hear tire squeals

928
00:51:37,307 --> 00:51:38,828
and this and that around the city,

929
00:51:40,668 --> 00:51:43,009
I'm sure you could find moments where you're like,

930
00:51:43,329 --> 00:51:45,410
oh yeah, I don't think I quite hear that engine.

931
00:51:46,150 --> 00:51:48,891
But then again, I've spent a lot of time

932
00:51:48,911 --> 00:51:50,791
just listening to traffic on the street and whatnot.

933
00:51:51,851 --> 00:51:54,852
And engines don't really make that much sound

934
00:51:54,912 --> 00:51:56,493
unless someone's really gunning it too.

935
00:51:57,333 --> 00:52:00,334
So that, yeah, that was kind of our solution there.

936
00:52:01,054 --> 00:52:01,354
Good question.

937
00:52:01,574 --> 00:52:04,576
Kind of adding to that, I just feel like a lot of games have a lower noise floor, you

938
00:52:04,616 --> 00:52:07,678
know, because of the location, but for this game we were able to get away with a lot of

939
00:52:08,278 --> 00:52:12,041
stupid stuff just because it was so loud all the time, but also it's like, you know, we

940
00:52:12,061 --> 00:52:16,183
had to mix it down, so it was never really meant to be the main focus because it was

941
00:52:16,203 --> 00:52:17,124
just supposed to be in the background.

942
00:52:17,144 --> 00:52:20,045
So even if it sounds loud up here, in the game's mix it's actually pretty low.

943
00:52:22,928 --> 00:52:24,530
Hi, thank you for the talk, it was awesome.

944
00:52:25,490 --> 00:52:28,193
I was curious if, because you have a lot of stuff

945
00:52:28,213 --> 00:52:29,994
going on in Wwise, like the RTPC stuff,

946
00:52:30,014 --> 00:52:31,916
and then like just pulling out sounds

947
00:52:31,956 --> 00:52:32,937
and then putting them back in,

948
00:52:32,977 --> 00:52:34,057
was there one specific thing,

949
00:52:34,077 --> 00:52:36,119
whether for the vehicles or the ambience,

950
00:52:36,139 --> 00:52:38,201
that was like really kinda kicked your butt

951
00:52:38,221 --> 00:52:40,082
and you were having trouble getting it to sound right,

952
00:52:40,102 --> 00:52:43,085
and what did you do to go about fixing that

953
00:52:43,105 --> 00:52:44,766
or making it do what you wanted it to do?

954
00:52:48,129 --> 00:52:51,272
Engines were definitely tough.

955
00:52:52,747 --> 00:52:58,229
Like I said, the biggest challenge was it's not a racing game.

956
00:52:58,389 --> 00:53:03,151
So I don't just readily have the RPM value being passed to me,

957
00:53:04,332 --> 00:53:05,913
or the throttle, things like that.

958
00:53:06,293 --> 00:53:10,795
I was able to get acceleration just for the scripted vehicles,

959
00:53:11,335 --> 00:53:13,036
which gave me a little more control.

960
00:53:14,297 --> 00:53:15,737
I'm trying to think what other...

961
00:53:15,757 --> 00:53:20,940
Oh, we had a weird instance where squirrels actually were, like,

962
00:53:21,340 --> 00:53:22,060
crashing the game.

963
00:53:22,600 --> 00:53:22,901
Yeah.

964
00:53:24,241 --> 00:53:28,943
So yeah, I just found these cute little squirrel cheeps,

965
00:53:29,243 --> 00:53:31,924
or whatever sound they make, and put them on.

966
00:53:31,944 --> 00:53:34,605
And hey, I realized there are a ton of squirrels in this game.

967
00:53:34,645 --> 00:53:35,485
They're like everywhere.

968
00:53:35,946 --> 00:53:39,467
So I had to really reduce how often you would hear them.

969
00:53:40,187 --> 00:53:43,150
But there was a, I think it was just kind of some old code

970
00:53:43,190 --> 00:53:46,813
that was, the way it was deactivating or activating

971
00:53:46,833 --> 00:53:49,035
the sound source was like pinging Ys really hard.

972
00:53:49,135 --> 00:53:49,896
Oh yeah, that was fun.

973
00:53:50,236 --> 00:53:51,938
So there was a bug we had for a while where basically

974
00:53:51,998 --> 00:53:54,740
like whenever a sound instance would be generated

975
00:53:54,800 --> 00:53:58,103
on a crowd or a person, it would just never go away, ever.

976
00:53:58,584 --> 00:54:00,486
So you would look behind you with all of them activated,

977
00:54:00,506 --> 00:54:03,468
you can just see this trail of like all these emitters

978
00:54:03,528 --> 00:54:05,430
and like Ys would crash after like a couple minutes.

979
00:54:06,262 --> 00:54:10,546
Yeah, I think for me personally, the biggest challenge is kind of getting that dichotomy

980
00:54:10,566 --> 00:54:15,610
just working of like, this city needs to sound huge and we got constant feedback, it needs

981
00:54:15,630 --> 00:54:19,014
to be busier, it needs to be louder, but also making sure that everything is just out of

982
00:54:19,034 --> 00:54:23,037
the way, because this game is very busy, there's a lot of swinging, combat, you know, the music

983
00:54:23,057 --> 00:54:26,881
is very bombastic and cinematic as well, and also there's a lot of cinematics.

984
00:54:27,274 --> 00:54:33,538
in the game, we had to make sure that everything kind of sounded really huge, but also was

985
00:54:33,658 --> 00:54:38,662
never fatiguing, never in the way, in a way that the player would never really pick out

986
00:54:38,742 --> 00:54:39,582
you mixing these things.

987
00:54:39,642 --> 00:54:43,845
So I think that was just kind of the biggest challenge for us, at least me in particular.

988
00:54:43,865 --> 00:54:44,926
All right, thank you very much.

989
00:54:44,966 --> 00:54:45,446
I love the game.

990
00:54:45,787 --> 00:54:46,067
Thank you.

991
00:54:49,889 --> 00:54:52,051
Hey guys, great job in bringing the city to life.

992
00:54:52,131 --> 00:54:53,732
It really feels well done.

993
00:54:54,292 --> 00:54:55,873
I wanted to ask if you had any...

994
00:54:56,602 --> 00:55:03,163
issues that you had to adjust everything that you had set when the action would ramp up

995
00:55:03,503 --> 00:55:05,864
and be bigger and more bombastic like you were saying?

996
00:55:06,484 --> 00:55:10,145
Yeah, so we didn't really talk about it very much in this because it's kind of a whole

997
00:55:10,205 --> 00:55:13,146
other subject in this game, but we had a ton of mixing systems.

998
00:55:13,626 --> 00:55:17,167
Some of them were a little bit more simple, like states that would come on and off, but

999
00:55:17,187 --> 00:55:20,608
we also had a lot of side chaining too, so we didn't use HDR for this game because

1000
00:55:21,612 --> 00:55:23,272
Well, by the time we had that idea, it was too late.

1001
00:55:23,312 --> 00:55:23,932
It would have sucked.

1002
00:55:23,993 --> 00:55:27,294
So we basically just used the WiseMeter plug-in and side

1003
00:55:27,334 --> 00:55:28,814
chaining to kind of manage all that stuff.

1004
00:55:29,195 --> 00:55:33,316
So the Ambient City bed bus had so many people from

1005
00:55:33,356 --> 00:55:36,817
different buses and states and everything just taking it down

1006
00:55:36,877 --> 00:55:37,638
for impacts.

1007
00:55:38,098 --> 00:55:39,859
Even the music too would take it down a little bit.

1008
00:55:40,640 --> 00:55:41,981
And we also had these states that would come on

1009
00:55:42,001 --> 00:55:44,202
and cinematics that would kind of neutralize the ambience

1010
00:55:44,322 --> 00:55:46,603
in like really different ways and turn it down slightly

1011
00:55:46,683 --> 00:55:47,624
so it doesn't get in the way.

1012
00:55:48,124 --> 00:55:50,385
Also whenever you're in combat, the city goes way down

1013
00:55:50,445 --> 00:55:52,847
so you can just focus only on like, you know, the action.

1014
00:55:53,747 --> 00:55:54,327
Excellent, thanks.

1015
00:55:57,029 --> 00:55:58,590
You just answered the question I was gonna ask

1016
00:55:58,710 --> 00:55:59,650
about cinematics.

1017
00:56:00,071 --> 00:56:00,631
Sorry, yeah.

1018
00:56:00,791 --> 00:56:03,493
Is there anything else you'd like to add to that?

1019
00:56:03,553 --> 00:56:05,113
Like if you have like a really

1020
00:56:05,534 --> 00:56:09,335
crazy busy city scene and then it's like a cinematics

1021
00:56:09,395 --> 00:56:12,797
and maybe it's like an emotional beat

1022
00:56:13,197 --> 00:56:14,077
that you just need to.

1023
00:56:14,117 --> 00:56:18,079
Yeah, so basically there's only three states for cinematics.

1024
00:56:18,179 --> 00:56:21,520
It was like default, which we used 99% of the time.

1025
00:56:22,040 --> 00:56:23,300
We had our extra heavy state,

1026
00:56:23,320 --> 00:56:25,021
which is only used once in the entire game.

1027
00:56:25,041 --> 00:56:26,261
And our light state,

1028
00:56:26,281 --> 00:56:27,582
which is only used once the entire game.

1029
00:56:27,622 --> 00:56:28,462
So there's one state.

1030
00:56:28,942 --> 00:56:30,483
literally took care of it the entire game.

1031
00:56:30,503 --> 00:56:34,203
It was a very awesome kind of one size fits all solution

1032
00:56:34,563 --> 00:56:37,864
that was living in our kind of global audio script

1033
00:56:37,884 --> 00:56:40,444
that was always loaded and just had like a little relay.

1034
00:56:40,504 --> 00:56:41,945
So whenever we wanted to like call it,

1035
00:56:41,965 --> 00:56:44,105
we just go into our like, you know, cinematic scripts

1036
00:56:44,185 --> 00:56:46,686
or go to our level script and just kind of add a call back

1037
00:56:46,726 --> 00:56:48,306
to the state, turning it on and off.

1038
00:56:49,626 --> 00:56:51,687
And instead of just kind of simply turning down the bed,

1039
00:56:51,747 --> 00:56:52,627
which would have worked,

1040
00:56:53,707 --> 00:56:56,267
there was a definite like obvious fade happening

1041
00:56:56,307 --> 00:56:57,388
as soon as you get into a cinematic,

1042
00:56:57,508 --> 00:56:58,348
which was kind of jarring.

1043
00:56:58,970 --> 00:57:01,512
So it kind of worked on a bunch of different levels.

1044
00:57:01,592 --> 00:57:06,277
I think that state was present on over 20 different sounds

1045
00:57:06,758 --> 00:57:09,300
in buses and actor mixers individually

1046
00:57:09,320 --> 00:57:13,264
to kind of do this thing where the actual feeling

1047
00:57:13,304 --> 00:57:14,425
of the bed is still there,

1048
00:57:14,465 --> 00:57:16,267
so there's really not an apparent dip in volume.

1049
00:57:16,647 --> 00:57:18,508
but it strips out a lot of the more distracting elements.

1050
00:57:18,608 --> 00:57:20,309
Like, all the close ones, basically,

1051
00:57:20,369 --> 00:57:22,731
like the bustle layer kind of went away completely.

1052
00:57:23,211 --> 00:57:24,432
But then all the things like horns,

1053
00:57:25,052 --> 00:57:26,053
and like the brake squeals,

1054
00:57:26,093 --> 00:57:27,834
and more aggressive distracting elements

1055
00:57:27,854 --> 00:57:28,934
would come down quite a bit,

1056
00:57:28,974 --> 00:57:30,375
but you'd still hear it in the background.

1057
00:57:30,815 --> 00:57:32,536
And the sirens and things that were a little bit softer

1058
00:57:32,596 --> 00:57:34,657
would still kind of be at the similar volume.

1059
00:57:34,958 --> 00:57:36,779
But then all of the 3D objects that were diegetic,

1060
00:57:37,239 --> 00:57:39,220
like music would go all the way down for boomboxes,

1061
00:57:39,780 --> 00:57:41,161
cars would be a lot lower,

1062
00:57:41,261 --> 00:57:43,002
and kind of all that stuff would kind of be just like...

1063
00:57:43,624 --> 00:57:45,145
mixed in a way where it was just working.

1064
00:57:45,665 --> 00:57:47,787
And it would also be a little bit less so, higher up,

1065
00:57:48,247 --> 00:57:50,188
so a lot of the high elements were naturally quiet

1066
00:57:50,208 --> 00:57:51,229
or would not be dipped as much.

1067
00:57:51,289 --> 00:57:52,890
So it kind of just felt like a natural,

1068
00:57:52,970 --> 00:57:55,552
like, you know, neutralization of the ambience.

1069
00:57:56,352 --> 00:57:56,953
Nice, thanks.

1070
00:57:57,253 --> 00:58:00,875
All right, I think that does it.

1071
00:58:01,036 --> 00:58:02,436
So thank you guys for coming out so early,

1072
00:58:02,456 --> 00:58:04,077
I appreciate it, and have a good GDC.

