1
00:00:03,508 --> 00:00:04,669
So, good morning everyone.

2
00:00:05,369 --> 00:00:06,670
My name is Piotr Tomczynski,

3
00:00:07,670 --> 00:00:09,671
and I would like to welcome you on the presentation

4
00:00:09,691 --> 00:00:13,474
about the Wiches 3 Cinematic Dialogue System.

5
00:00:16,195 --> 00:00:18,897
I'm a Mission Technical Director at CD Projekt Red,

6
00:00:19,597 --> 00:00:21,498
and on my average day, I write code

7
00:00:21,518 --> 00:00:23,560
developing our in-house Red engines.

8
00:00:25,398 --> 00:00:28,180
As you can see, in the past, I was working on the Witcher

9
00:00:28,220 --> 00:00:31,623
game series, and currently, I'm working on our new game,

10
00:00:32,143 --> 00:00:33,044
Cyberpunk 2077.

11
00:00:33,244 --> 00:00:39,589
Okay, first, I'd like to show you our awesome dialogue team.

12
00:00:40,310 --> 00:00:45,594
Programmers, animators, QA, and programmers, and designers.

13
00:00:46,455 --> 00:00:48,096
Because everything I'm going to show you today

14
00:00:48,116 --> 00:00:49,938
is a result of our common work.

15
00:00:52,249 --> 00:00:56,072
And for those of you who have not played The Witcher 3, let me briefly show you the game

16
00:00:56,132 --> 00:00:56,993
I will be talking about.

17
00:02:03,630 --> 00:02:05,231
Okay, so what is The Witcher?

18
00:02:05,911 --> 00:02:07,951
Witcher is an open world RPG

19
00:02:08,171 --> 00:02:10,152
with no nuanced story as its core element.

20
00:02:10,832 --> 00:02:13,653
For CD Projekt Red, story is a king in everything.

21
00:02:14,133 --> 00:02:16,433
Every game system is built around this principle.

22
00:02:17,294 --> 00:02:20,634
Our main tool for communicating story to players is dialogue.

23
00:02:21,454 --> 00:02:23,695
Because dialogue allow us to present choices to players.

24
00:02:24,795 --> 00:02:27,436
However, it's much harder to present a meaningful choice

25
00:02:27,976 --> 00:02:28,856
using only gameplay.

26
00:02:29,776 --> 00:02:31,837
That's the reason why cinematic dialogue

27
00:02:31,877 --> 00:02:32,757
was a keyword for us.

28
00:02:33,928 --> 00:02:35,089
To make a meaningful choice,

29
00:02:36,229 --> 00:02:38,029
players must feel an emotional attachment.

30
00:02:38,710 --> 00:02:41,110
For this to happen, we need to build a connection

31
00:02:41,150 --> 00:02:42,891
between the players and the game characters.

32
00:02:43,891 --> 00:02:46,212
Building such a connection can be achieved in various ways,

33
00:02:46,912 --> 00:02:48,992
like camera work, facial expression,

34
00:02:49,012 --> 00:02:51,133
or general non-verbal communication,

35
00:02:51,593 --> 00:02:53,493
according to the rule, show, don't tell.

36
00:02:54,494 --> 00:02:56,254
So, simple gesture and close-up

37
00:02:56,574 --> 00:02:58,615
can tell us more than many lines of a dialogue.

38
00:03:01,022 --> 00:03:03,963
Okay, so if cinematic content is so important for us,

39
00:03:03,983 --> 00:03:06,924
animators can create every single dialogue, right?

40
00:03:08,584 --> 00:03:10,205
Unfortunately, it wouldn't be possible.

41
00:03:11,645 --> 00:03:16,606
We had to create over 35 hours of cinematic content.

42
00:03:17,066 --> 00:03:19,347
So it would require an army of animators

43
00:03:19,807 --> 00:03:20,627
we simply didn't have.

44
00:03:22,348 --> 00:03:24,308
Additionally, cutscenes are expensive to produce.

45
00:03:24,868 --> 00:03:27,549
Every cutscene requires a dedicated mock-up session

46
00:03:28,069 --> 00:03:29,470
and many days of animator work.

47
00:03:31,330 --> 00:03:32,270
As you can see on the picture,

48
00:03:32,290 --> 00:03:35,531
we had to create over 1,400 dialogues.

49
00:03:35,932 --> 00:03:37,832
So it's insane number for a small team.

50
00:03:39,273 --> 00:03:40,413
So what was the solution?

51
00:03:41,434 --> 00:03:43,815
The solution we implemented was a dialogue system

52
00:03:44,395 --> 00:03:47,136
that allowed us to create cinematic content

53
00:03:47,316 --> 00:03:48,777
using only pre-made assets.

54
00:03:49,317 --> 00:03:50,758
Like building something with Lego bricks.

55
00:03:51,638 --> 00:03:52,858
I will show it on the simple example.

56
00:03:54,142 --> 00:03:55,762
So, the one side you can see a cut scene.

57
00:03:56,523 --> 00:03:58,363
Every cut scene starts as a mock-up session.

58
00:03:58,964 --> 00:04:01,805
And simply speaking, one cut scene takes

59
00:04:01,905 --> 00:04:02,565
one mock-up session.

60
00:04:03,445 --> 00:04:05,866
Dialogues, on the other hand, are made from generic pieces.

61
00:04:06,867 --> 00:04:08,648
So, from the same set of building blocks,

62
00:04:08,988 --> 00:04:10,268
we can create many dialogues.

63
00:04:10,848 --> 00:04:11,489
And this is the key.

64
00:04:12,049 --> 00:04:15,170
This approach scales much better and is cost effective.

65
00:04:17,314 --> 00:04:19,075
Of course, it's also worth to mention that

66
00:04:19,496 --> 00:04:21,777
when you have all these pre-made assets already done,

67
00:04:22,358 --> 00:04:23,579
everyone can create a dialogue.

68
00:04:23,979 --> 00:04:26,341
You don't need to know the Maya, MotionBuilder, or Max.

69
00:04:26,861 --> 00:04:28,722
You can open editor and create assets.

70
00:04:29,783 --> 00:04:32,145
And even I, without any cinematic background,

71
00:04:32,545 --> 00:04:35,247
made almost all examples you will see in this presentation.

72
00:04:38,109 --> 00:04:39,990
Okay, wrapping up, Classic Cutscenes.

73
00:04:40,731 --> 00:04:42,512
Classic cutscene made by animator.

74
00:04:43,811 --> 00:04:46,573
is one of our building blocks that we can use in the dialogue.

75
00:04:47,153 --> 00:04:50,776
And usually, cutscene was necessary in unique scenarios

76
00:04:51,176 --> 00:04:53,078
that otherwise would be hard to build

77
00:04:53,518 --> 00:04:54,879
using only generic pieces.

78
00:04:56,320 --> 00:04:58,701
So cutscene building blocks looks more like this,

79
00:04:59,042 --> 00:05:01,323
like a unique piece for a special situation.

80
00:05:04,882 --> 00:05:06,243
At the beginning of the development,

81
00:05:06,583 --> 00:05:08,024
you had a dialogue system for The Witcher 2.

82
00:05:08,905 --> 00:05:11,487
It was rather simple, like motionless characters

83
00:05:11,547 --> 00:05:14,389
with full body gesture or idle animation.

84
00:05:14,909 --> 00:05:16,931
The camera movement was limited to simple cuts.

85
00:05:18,192 --> 00:05:19,593
When you compare it to the cut scenes,

86
00:05:20,114 --> 00:05:22,315
dialogues were less dynamic and lower quality.

87
00:05:24,157 --> 00:05:25,878
For The Witcher 3, you wanted dialogues

88
00:05:25,898 --> 00:05:27,519
to have the same feeling the cut scene had.

89
00:05:28,120 --> 00:05:30,802
The same amount of quality, the same amount of polish.

90
00:05:31,888 --> 00:05:35,669
So, first, let's see how our final result looks like.

91
00:05:39,630 --> 00:05:40,230
34,33,33,33,33,33,33,33,33,33,33 other

92
00:06:16,211 --> 00:06:20,073
And now, a special treat for our special guests.

93
00:06:20,093 --> 00:06:25,876
The Witcher Geralt and his enchanting partner, Shani.

94
00:06:25,996 --> 00:06:29,578
Musicians, something lovely for the loving couple.

95
00:06:29,718 --> 00:06:33,960
At last, music for our loving embrace.

96
00:06:34,820 --> 00:06:38,422
Come, Shani, it's time you discovered my romantic side.

97
00:06:45,366 --> 00:06:46,206
Oh, you're rather good at this.

98
00:07:18,717 --> 00:07:21,039
Okay, so summarize our goals for the Witcher 3.

99
00:07:24,142 --> 00:07:26,624
We wanted to create unique cinematic content

100
00:07:27,084 --> 00:07:29,806
using only generic building blocks on a massive scale.

101
00:07:30,707 --> 00:07:33,109
And before I will explain all the details,

102
00:07:33,549 --> 00:07:35,611
I'd like to show you the big picture.

103
00:07:35,931 --> 00:07:38,413
How the dialogue is placed within the game.

104
00:07:39,994 --> 00:07:41,015
So, we start with a story.

105
00:07:42,096 --> 00:07:44,238
One is defined and split into the quests.

106
00:07:45,078 --> 00:07:46,679
And every quest, there's a part of it.

107
00:07:47,874 --> 00:07:50,255
Quests are implemented in our visual scripted language

108
00:07:50,735 --> 00:07:53,215
that contains a lot of nodes for different needs.

109
00:07:54,315 --> 00:07:56,096
And one of the nodes is a dialog node

110
00:07:56,396 --> 00:07:57,536
that starts a dialog.

111
00:07:59,236 --> 00:08:02,037
And finally, the dialog editor provides all necessary tools

112
00:08:02,097 --> 00:08:03,037
for working with dialogs,

113
00:08:03,437 --> 00:08:05,717
like from the beginning to the end, the final push.

114
00:08:07,078 --> 00:08:08,538
Okay, so now let's talk about details.

115
00:08:09,998 --> 00:08:11,659
Because dialog system is quite complex,

116
00:08:12,599 --> 00:08:14,999
I'd like to show you the pipeline of single dialog

117
00:08:15,159 --> 00:08:17,520
so you can see how it works step by step.

118
00:08:19,805 --> 00:08:22,888
So we have writers, quests, dialogue designers,

119
00:08:23,188 --> 00:08:24,049
and post-production.

120
00:08:24,730 --> 00:08:26,632
So we start with the writers department.

121
00:08:27,713 --> 00:08:29,195
Every dialogue starts as a text script.

122
00:08:29,555 --> 00:08:31,597
The screenplay is written in our visual,

123
00:08:31,878 --> 00:08:32,999
in our dialogue editor.

124
00:08:33,459 --> 00:08:36,843
And at this point, it's split into the sections and choices.

125
00:08:37,564 --> 00:08:39,966
So we have the basic story structure as a graph.

126
00:08:41,543 --> 00:08:44,065
It's important to keep this structure organized

127
00:08:44,445 --> 00:08:46,526
because dialogue in Witcher can be really complicated.

128
00:08:47,147 --> 00:08:49,548
So graph approach scales really nice.

129
00:08:52,290 --> 00:08:55,072
Asset prepared this way is passed to the quest team.

130
00:08:56,393 --> 00:08:58,254
Quest designers define things like

131
00:08:58,734 --> 00:08:59,835
when the dialogue should be played,

132
00:09:00,996 --> 00:09:01,796
who are the actors,

133
00:09:03,237 --> 00:09:04,338
and in what appearances,

134
00:09:05,919 --> 00:09:08,381
and finally, where the dialogue should be played.

135
00:09:11,192 --> 00:09:13,494
It's important to say that non-linear story

136
00:09:13,574 --> 00:09:16,197
that we have in the Witcher means non-linear dialogue.

137
00:09:16,918 --> 00:09:17,398
How it's done?

138
00:09:17,959 --> 00:09:19,540
The quest designers are responsible

139
00:09:19,580 --> 00:09:21,822
for adding flow conditions, the blue nodes

140
00:09:21,862 --> 00:09:22,723
you can see on the slide,

141
00:09:23,264 --> 00:09:26,146
that control the signal flow through the story graph.

142
00:09:26,867 --> 00:09:28,368
So previous player decisions

143
00:09:29,009 --> 00:09:30,450
have impact on story progression.

144
00:09:31,111 --> 00:09:33,713
At the same time, dialogue can control the game,

145
00:09:33,753 --> 00:09:34,434
the gameplay state.

146
00:09:35,229 --> 00:09:39,271
by using the script node or by setting the game

147
00:09:39,351 --> 00:09:40,112
fact database.

148
00:09:40,732 --> 00:09:43,774
So the communication between the game and the story

149
00:09:44,015 --> 00:09:44,775
goes both ways.

150
00:09:46,416 --> 00:09:48,798
Okay, so once quest designers are done with the dialogue,

151
00:09:49,598 --> 00:09:50,659
dialogue designers came in.

152
00:09:51,340 --> 00:09:53,041
They created visual side of the things.

153
00:09:53,481 --> 00:09:54,502
And this is the major part.

154
00:09:54,722 --> 00:09:57,143
So take a closer look what's happening here.

155
00:09:59,425 --> 00:10:01,066
Dialogue designers are like movie directors.

156
00:10:01,966 --> 00:10:03,308
The primary tool is a timeline.

157
00:10:04,008 --> 00:10:06,591
It works similarly to video editing software.

158
00:10:07,452 --> 00:10:10,416
So the length of the timeline is tied to the voiceovers,

159
00:10:12,178 --> 00:10:14,100
and timeline holds events.

160
00:10:14,941 --> 00:10:18,085
Events represent actions on players, actors,

161
00:10:18,265 --> 00:10:19,667
items, or lights, and so on.

162
00:10:20,548 --> 00:10:22,370
And you have a lot of events for different needs.

163
00:10:23,515 --> 00:10:26,536
What's more, events can be joined, interpolated,

164
00:10:26,776 --> 00:10:27,816
weighted, or trimmed.

165
00:10:28,517 --> 00:10:30,217
So it transfer to a simple system,

166
00:10:30,657 --> 00:10:32,498
but at the same time, it's quite flexible.

167
00:10:34,918 --> 00:10:38,779
So to make it 100% clear, let's watch a simple example.

168
00:10:40,340 --> 00:10:42,440
So in this case, we can see two characters.

169
00:10:43,901 --> 00:10:45,961
We can add the simple event, like look at,

170
00:10:46,941 --> 00:10:48,942
or we can add the duration events.

171
00:10:49,202 --> 00:10:51,943
For example, animation, do it.

172
00:10:57,710 --> 00:11:00,373
Every event can be modified, so we can change the duration

173
00:11:00,413 --> 00:11:02,955
of the event, so the animation is slowed down.

174
00:11:08,420 --> 00:11:10,682
Or we can clamp the beginning of the event,

175
00:11:10,902 --> 00:11:13,765
so the blend in factor animation will look different.

176
00:11:16,848 --> 00:11:19,210
The same way we can control the body animation,

177
00:11:19,230 --> 00:11:20,751
we can control the facial animations.

178
00:11:26,016 --> 00:11:30,138
or any object in any time can be moved in dialog editor.

179
00:11:30,198 --> 00:11:32,999
So let's say you would like to move the Geralt a little bit.

180
00:11:38,001 --> 00:11:39,781
As I mentioned, we can interpolate the events.

181
00:11:40,261 --> 00:11:42,262
So let's do this for this case.

182
00:11:48,425 --> 00:11:49,965
And you have a super simple animation.

183
00:11:55,639 --> 00:11:58,201
Okay, cinematic content demands that the scene

184
00:11:58,241 --> 00:11:59,621
has to be grounded in the game world.

185
00:12:00,642 --> 00:12:03,103
So, because of this, dialogue designers wanted

186
00:12:03,144 --> 00:12:04,764
to be aware of the dialogue surroundings.

187
00:12:05,505 --> 00:12:07,486
So we added feature that you can edit dialogue

188
00:12:07,526 --> 00:12:10,168
not only inside the empty dialogue preview

189
00:12:10,188 --> 00:12:11,028
you can see on the slide,

190
00:12:11,548 --> 00:12:13,109
but also on the final game level.

191
00:12:14,050 --> 00:12:17,372
So thanks to this, they crafted tailor-made content

192
00:12:17,812 --> 00:12:18,993
for a particular location.

193
00:12:19,753 --> 00:12:20,814
Now of course, let's see how it works.

194
00:12:23,167 --> 00:12:25,408
We have the same example on the timeline.

195
00:12:26,669 --> 00:12:28,170
And just pressing one button,

196
00:12:28,350 --> 00:12:30,672
we can edit the same dialogue on the final game level.

197
00:12:31,352 --> 00:12:33,654
So now you can see the final lighting, shadows,

198
00:12:34,414 --> 00:12:35,735
all the props around the characters.

199
00:12:38,037 --> 00:12:38,998
It was a very useful feature.

200
00:12:43,072 --> 00:12:46,374
So timeline was our playground that you can put events

201
00:12:46,494 --> 00:12:48,916
and create content in fast and efficient way.

202
00:12:49,536 --> 00:12:53,099
An event based approach is easy to use and easy to extend.

203
00:12:53,779 --> 00:12:56,401
So adding new feature wasn't an issue for programmers.

204
00:12:57,502 --> 00:12:59,763
And as you will see in the next part of the presentation,

205
00:13:00,203 --> 00:13:02,385
almost every visual element in dialog

206
00:13:02,685 --> 00:13:03,766
was controlled by timeline.

207
00:13:06,447 --> 00:13:08,328
Okay, so now you know what the timing is,

208
00:13:08,769 --> 00:13:11,030
so let's talk about how we can fill it with content.

209
00:13:11,611 --> 00:13:13,612
So let's talk about dialog designer's workflow.

210
00:13:15,054 --> 00:13:16,655
The first thing is the dialog set.

211
00:13:17,916 --> 00:13:20,338
Dialog set is a template that contains

212
00:13:20,398 --> 00:13:21,639
the list of the characters

213
00:13:22,520 --> 00:13:24,121
with some basic information about them,

214
00:13:24,581 --> 00:13:28,084
like position, emotional state, pause, and so on.

215
00:13:28,845 --> 00:13:31,567
So dialog set is like a snapshot of a dialog state

216
00:13:31,947 --> 00:13:34,810
that we can later reuse or return to if necessary.

217
00:13:37,271 --> 00:13:38,812
The next step is the generator.

218
00:13:39,713 --> 00:13:42,114
It sounds crazy, especially for the artist,

219
00:13:42,714 --> 00:13:44,536
but we do generate dialogues by code.

220
00:13:47,217 --> 00:13:49,839
Generator purpose is to fill timeline with basic events.

221
00:13:50,279 --> 00:13:52,581
So it creates the first pass of the dialogue loop.

222
00:13:53,641 --> 00:13:55,603
Designers found out that it's much faster

223
00:13:56,003 --> 00:13:58,204
to fix or modify existing events

224
00:13:58,664 --> 00:14:01,786
than to insert every event, every time, every character.

225
00:14:02,988 --> 00:14:06,190
Generator works so well that some of the less important

226
00:14:06,210 --> 00:14:08,672
dialogues could be barely touched by the human hand.

227
00:14:10,553 --> 00:14:11,354
So, how it works.

228
00:14:12,034 --> 00:14:13,995
Generator requires three different type of inputs.

229
00:14:16,117 --> 00:14:19,399
Information about the actors, so more or less dialogue set.

230
00:14:22,520 --> 00:14:25,022
The set of rules, like cinematography,

231
00:14:25,062 --> 00:14:26,643
like what is the 180 rule,

232
00:14:26,743 --> 00:14:28,024
or what is the establishment shot.

233
00:14:30,205 --> 00:14:30,766
And finally,

234
00:14:31,814 --> 00:14:33,414
the extracted data from voiceovers.

235
00:14:33,974 --> 00:14:35,655
So I don't want to bore you with details,

236
00:14:36,095 --> 00:14:39,416
but what's important is that we use MFCC algorithm

237
00:14:39,896 --> 00:14:43,336
to generate markers or accents from the voiceovers,

238
00:14:43,836 --> 00:14:45,737
so later you can match the events

239
00:14:45,797 --> 00:14:46,957
and animation with the sound.

240
00:14:48,377 --> 00:14:51,298
So we put all this data into the generator

241
00:14:51,778 --> 00:14:54,738
and it generates events, like cameras,

242
00:14:57,019 --> 00:15:01,020
facial animation, body animations, and lookouts.

243
00:15:02,625 --> 00:15:03,685
So of course, let's see how it works.

244
00:15:30,504 --> 00:15:33,347
Okay, and you can generate it one more time in row.

245
00:15:33,447 --> 00:15:35,189
Those two seeds are like special prepared.

246
00:15:40,253 --> 00:15:41,755
Madam Marina, can we talk?

247
00:15:42,295 --> 00:15:45,758
Geralt of Rivia, Dandelions told us so much about you.

248
00:15:46,339 --> 00:15:46,919
Is he with you?

249
00:15:47,480 --> 00:15:49,442
No, but I hope to bring him back soon.

250
00:15:49,942 --> 00:15:51,023
Here to talk about doodoo.

251
00:15:51,043 --> 00:15:55,207
Hmm, let's speak in my quarters at the back of the theater.

252
00:15:55,527 --> 00:15:56,728
We'll be undisturbed there.

253
00:16:00,863 --> 00:16:02,404
Okay, I have one more example

254
00:16:02,425 --> 00:16:03,685
with a little bit different settings.

255
00:16:04,266 --> 00:16:05,286
This video is really long,

256
00:16:05,386 --> 00:16:07,848
so I would like to show you on the first iteration,

257
00:16:08,048 --> 00:16:10,750
and later you can watch it in the bonus slide section.

258
00:16:16,934 --> 00:16:18,275
I'll go in alone, you know?

259
00:16:19,055 --> 00:16:20,076
You'll stay outside.

260
00:16:20,096 --> 00:16:22,338
I can't let you go alone.

261
00:16:22,358 --> 00:16:24,279
Anything happens to you,

262
00:16:24,299 --> 00:16:25,760
Daryl will rip my head off.

263
00:16:27,961 --> 00:16:29,442
Someone must secure our retreat.

264
00:16:30,401 --> 00:16:33,372
There's bound to be a struggle. Things could get intense.

265
00:16:34,074 --> 00:16:36,884
We'll need to flee fast. Disappear in the crowd.

266
00:16:42,109 --> 00:16:44,570
Okay, so generator saved a lot of designers time.

267
00:16:45,250 --> 00:16:47,151
Of course, the quality of generated scene

268
00:16:47,291 --> 00:16:49,812
is not as high as a custom-made cut scene,

269
00:16:50,292 --> 00:16:51,552
but it wasn't generator goal.

270
00:16:52,273 --> 00:16:54,453
Using this tool, you can generate very fast

271
00:16:54,653 --> 00:16:55,734
different dialog variations.

272
00:16:56,294 --> 00:16:58,615
So if you don't like current dialog instance,

273
00:16:58,915 --> 00:17:00,595
there's no problem, just press one button

274
00:17:01,036 --> 00:17:02,716
and you have new iteration.

275
00:17:03,616 --> 00:17:05,637
So later you can fix things you don't like

276
00:17:06,397 --> 00:17:09,318
as long as you have time for, or as long as is necessary.

277
00:17:12,282 --> 00:17:13,582
Next, dialogue is processed by hand.

278
00:17:14,383 --> 00:17:16,504
First, dialogue designers improve the camera work.

279
00:17:17,704 --> 00:17:20,125
So the dialogue set stores some basic information

280
00:17:20,245 --> 00:17:20,986
about the cameras.

281
00:17:21,606 --> 00:17:24,807
So the same shots can be reused, which ensures cohesion.

282
00:17:28,549 --> 00:17:30,450
It's also possible to create custom shots

283
00:17:30,550 --> 00:17:31,530
for special cases.

284
00:17:32,391 --> 00:17:35,092
So with even interpolation method,

285
00:17:35,572 --> 00:17:37,433
designers can create interesting shots

286
00:17:37,753 --> 00:17:40,895
that balance common over-the-shoulder dialogue cameras.

287
00:17:44,364 --> 00:17:47,467
Next is time for character ideas.

288
00:17:48,388 --> 00:17:50,029
Ideas are especially important for us,

289
00:17:50,049 --> 00:17:51,951
because they are like foundation

290
00:17:51,991 --> 00:17:53,392
for future character performance.

291
00:17:59,858 --> 00:18:02,941
So we had almost 35 different ideal animations

292
00:18:03,322 --> 00:18:04,162
per character type.

293
00:18:04,663 --> 00:18:08,566
So it means 35 per woman, 35 per man, dwarf, and so on.

294
00:18:09,856 --> 00:18:12,678
Additionally, we have different ideas for different poses,

295
00:18:12,918 --> 00:18:14,719
like sitting, standing, kneeing.

296
00:18:16,520 --> 00:18:19,042
So each idea is chosen from three categories.

297
00:18:19,622 --> 00:18:22,504
Act of social status, emotional state, and pose.

298
00:18:23,084 --> 00:18:25,005
So it maps nicely into a tree structure.

299
00:18:26,026 --> 00:18:27,667
For example, high aggressive standing,

300
00:18:29,548 --> 00:18:30,749
or high aggressive sitting.

301
00:18:35,032 --> 00:18:36,593
Okay, next up are lookouts.

302
00:18:37,598 --> 00:18:40,881
Lookits are one of our most powerful animation tool

303
00:18:40,921 --> 00:18:41,742
for dialog designers.

304
00:18:42,222 --> 00:18:44,164
So it's important to explain our solution.

305
00:18:45,185 --> 00:18:46,986
In Witcher 2, we use procedural lookits.

306
00:18:47,767 --> 00:18:50,729
It work by rotating the head or torso

307
00:18:50,769 --> 00:18:52,311
by a certain angle, in code.

308
00:18:53,211 --> 00:18:56,114
So it's common solution, but it doesn't work well

309
00:18:56,154 --> 00:18:59,857
with more complicated items, like sitting or laying.

310
00:19:01,328 --> 00:19:04,409
So in Witcher 3, animators wanted to have full control

311
00:19:04,469 --> 00:19:05,049
over poses.

312
00:19:05,769 --> 00:19:08,050
So we decided to implement animation-based look-ads.

313
00:19:08,770 --> 00:19:11,271
The less popular solution was quite interesting.

314
00:19:12,272 --> 00:19:13,532
For the input for the algorithm,

315
00:19:14,132 --> 00:19:15,633
is an animation with look-at poses.

316
00:19:17,013 --> 00:19:19,774
And for instance, we have one pose per every second.

317
00:19:21,035 --> 00:19:23,576
Animator can create as many poses as needed.

318
00:19:24,776 --> 00:19:27,277
So it doesn't matter if the pose is simple like standing,

319
00:19:28,257 --> 00:19:30,778
or it's more complicated like sitting.

320
00:19:32,102 --> 00:19:34,264
So in this case, character touches the ground.

321
00:19:35,004 --> 00:19:37,146
It's not an issue because every single pose

322
00:19:37,286 --> 00:19:38,367
is created by animator.

323
00:19:39,648 --> 00:19:42,311
So the key is fact that we modify the whole pose,

324
00:19:42,711 --> 00:19:45,233
not only the few bones like head or torso.

325
00:19:46,915 --> 00:19:48,556
So thanks to this, we don't need to write

326
00:19:48,576 --> 00:19:49,998
like the Uber look at in code

327
00:19:50,498 --> 00:19:52,640
that supports every special case,

328
00:19:52,680 --> 00:19:54,361
like standing, sitting, kneeing,

329
00:19:54,862 --> 00:19:55,202
but we can...

330
00:19:56,137 --> 00:19:58,699
write a very simple code, and for every special case,

331
00:19:59,059 --> 00:20:01,121
we can have a special look at animation.

332
00:20:01,861 --> 00:20:04,603
So this solution is full data driven,

333
00:20:05,003 --> 00:20:06,084
and it's very artist friendly.

334
00:20:07,706 --> 00:20:08,786
So, how it works.

335
00:20:10,428 --> 00:20:11,969
As I mentioned, the input for the algorithm

336
00:20:12,049 --> 00:20:13,990
is an animation look at poses.

337
00:20:14,911 --> 00:20:17,133
So, for every pose, we calculate

338
00:20:17,213 --> 00:20:19,074
where the look at target is.

339
00:20:20,355 --> 00:20:20,896
So here it is.

340
00:20:21,536 --> 00:20:22,797
Later, we collect all these points,

341
00:20:22,917 --> 00:20:25,039
and create one tree mesh around the character.

342
00:20:25,936 --> 00:20:29,919
And in run time, when you have the target from the dialog,

343
00:20:30,159 --> 00:20:33,382
so this yellow box, this yellow box position

344
00:20:33,482 --> 00:20:34,803
is projected onto this three mesh,

345
00:20:35,284 --> 00:20:36,565
giving us like one triangle.

346
00:20:37,105 --> 00:20:39,727
From this one triangle, we have three vertices.

347
00:20:40,228 --> 00:20:41,609
It means three look at poses.

348
00:20:43,110 --> 00:20:45,992
Blending these three poses with proper proportion

349
00:20:46,372 --> 00:20:47,734
using Barycentric coordinates,

350
00:20:48,414 --> 00:20:49,655
gives us proper deformation.

351
00:20:52,905 --> 00:20:55,968
And we have two levels for the look at four characters.

352
00:20:56,288 --> 00:20:57,830
Like full body or head only.

353
00:20:58,450 --> 00:21:00,412
So it means that you have to create

354
00:21:01,132 --> 00:21:04,916
two dedicated look at animation per every single eye there.

355
00:21:05,516 --> 00:21:07,158
Some of them were really simple,

356
00:21:07,358 --> 00:21:08,619
some of them were almost 360.

357
00:21:09,139 --> 00:21:13,763
It's also possible to create look at four eyes,

358
00:21:14,224 --> 00:21:16,185
but it's done through the facial animation rig.

359
00:21:17,507 --> 00:21:18,808
So now let's see the final result.

360
00:21:26,392 --> 00:21:28,412
So, summarize the animation-based look at.

361
00:21:29,052 --> 00:21:30,813
It's very simple from code point of view,

362
00:21:31,433 --> 00:21:32,793
fully data-driven solution.

363
00:21:33,813 --> 00:21:36,374
Like animators have full control over poses,

364
00:21:36,874 --> 00:21:38,474
and in practice, it's not time-consuming,

365
00:21:38,834 --> 00:21:41,795
because they have to create only poses,

366
00:21:41,995 --> 00:21:43,135
not like the full animation.

367
00:21:43,496 --> 00:21:46,016
So using a software like Maya or MotionReader,

368
00:21:46,096 --> 00:21:47,336
it's quite easy and fast to do.

369
00:21:48,430 --> 00:21:50,932
And because it's based on the animation resources,

370
00:21:51,413 --> 00:21:54,415
the programmers can analyze those assets offline,

371
00:21:54,815 --> 00:21:57,837
and in runtime, you can create many interesting variations,

372
00:21:58,197 --> 00:22:01,320
like or extensions, like procedural transitions,

373
00:22:01,620 --> 00:22:03,341
secondary motion, or overshoots.

374
00:22:06,243 --> 00:22:08,245
Okay, so let's move from Lucas to animations.

375
00:22:09,326 --> 00:22:12,668
We had over 2400 dedicated dialogue animations.

376
00:22:13,228 --> 00:22:14,890
Like, so much content, you might think.

377
00:22:16,211 --> 00:22:18,212
But we have to divide this number by number

378
00:22:19,092 --> 00:22:23,074
of character types, emotional state, poses, and so on.

379
00:22:23,855 --> 00:22:28,317
So it's end up that there's only a bunch of gestures

380
00:22:28,617 --> 00:22:29,678
for every single item.

381
00:22:31,899 --> 00:22:34,020
Moreover, we have to count monsters as well.

382
00:22:34,540 --> 00:22:36,641
Some of them have sophisticated dialogues

383
00:22:37,042 --> 00:22:37,962
with a lot of content.

384
00:22:40,072 --> 00:22:42,253
So because of these limits, we have to rely on

385
00:22:42,373 --> 00:22:44,334
reusing animations wherever possible.

386
00:22:45,114 --> 00:22:47,195
It's common practice and even the greatest ones

387
00:22:47,255 --> 00:22:48,456
like Disney did it.

388
00:22:49,536 --> 00:22:52,638
So in Witcher dialogue system, every animation can be played

389
00:22:52,698 --> 00:22:54,378
as a normal additive or override.

390
00:22:55,019 --> 00:22:57,200
You can weigh down or mask out

391
00:22:57,360 --> 00:22:58,520
center part of the skeleton.

392
00:22:59,641 --> 00:23:01,442
The whole animation clip can be controlled

393
00:23:01,462 --> 00:23:02,742
by the user-defined curves.

394
00:23:03,683 --> 00:23:05,003
So all these simple operations

395
00:23:05,323 --> 00:23:06,944
gives a lot of freedom to designers.

396
00:23:07,933 --> 00:23:10,615
So I'm going to illustrate this on a simple example.

397
00:23:12,357 --> 00:23:14,699
So let's assume you would like to use

398
00:23:15,019 --> 00:23:17,181
gesture with standing pose for sitting case.

399
00:23:22,005 --> 00:23:23,287
So on the first part of the timeline,

400
00:23:23,427 --> 00:23:26,389
you can see the standing idle with standing gesture.

401
00:23:26,930 --> 00:23:28,131
On the second part of the timeline,

402
00:23:28,551 --> 00:23:30,633
the sitting idle.

403
00:23:31,274 --> 00:23:33,596
So we just copy paste the gesture.

404
00:23:37,831 --> 00:23:38,852
Of course it doesn't work, yeah?

405
00:23:39,473 --> 00:23:41,114
But we can convert this animation

406
00:23:41,194 --> 00:23:43,036
into the additive in runtime.

407
00:23:49,222 --> 00:23:51,284
So now it's much better, but still you can see

408
00:23:51,304 --> 00:23:52,866
some artifacts on the girl's legs.

409
00:23:53,566 --> 00:23:55,008
So using the masking with weights,

410
00:23:55,168 --> 00:23:57,250
we can select the set of part of the skeleton.

411
00:23:58,111 --> 00:23:59,232
So let's say the upper body part.

412
00:24:05,648 --> 00:24:06,689
Okay, and now it's much better.

413
00:24:07,490 --> 00:24:08,830
See, the quality is not as high

414
00:24:08,870 --> 00:24:10,331
as a dedicated dialog animation,

415
00:24:10,792 --> 00:24:12,933
but as you saw, we did it in seconds.

416
00:24:13,814 --> 00:24:15,895
And we reused a lot of animations this way.

417
00:24:18,416 --> 00:24:20,518
Next interesting feature in dialog animation system

418
00:24:20,598 --> 00:24:21,238
is Control Rig.

419
00:24:22,279 --> 00:24:25,781
We found an inspiration for this feature in SourceMaker,

420
00:24:26,001 --> 00:24:27,602
which is like amazing software for me.

421
00:24:29,766 --> 00:24:32,087
Being able to create poses within the editor

422
00:24:32,547 --> 00:24:35,648
for special cases gives a lot of power to designers.

423
00:24:35,668 --> 00:24:38,249
I mean, to designers, not animators.

424
00:24:38,809 --> 00:24:40,090
Because thanks to the Control Rig,

425
00:24:40,470 --> 00:24:42,331
everyone can create custom content

426
00:24:42,431 --> 00:24:43,471
within the dialog editor.

427
00:24:45,672 --> 00:24:47,172
So we use them mostly for free cases.

428
00:24:48,453 --> 00:24:49,513
To create a custom pose.

429
00:24:52,803 --> 00:24:54,244
In practice, we don't use it that much

430
00:24:54,364 --> 00:24:55,444
because it's time consuming.

431
00:24:55,825 --> 00:24:58,806
So mostly it was used for final details

432
00:24:58,866 --> 00:25:01,407
like turning the head, adjusting the fingers on hands.

433
00:25:06,849 --> 00:25:12,371
It's a programmer's act, so don't look at this too much.

434
00:25:12,391 --> 00:25:13,992
Okay, next is correction for gestures.

435
00:25:15,232 --> 00:25:16,773
It's quite interesting, so let's analyze it.

436
00:25:19,170 --> 00:25:20,891
For this case, we have two characters.

437
00:25:21,431 --> 00:25:24,012
And you would like to add gesture like me and you

438
00:25:24,092 --> 00:25:24,673
for the girl.

439
00:25:25,873 --> 00:25:28,114
So in this scenario, like everything works perfectly.

440
00:25:31,136 --> 00:25:33,737
But let's move the Yennefer attack a little bit.

441
00:25:40,141 --> 00:25:42,282
So now this gesture doesn't fit anymore.

442
00:25:43,068 --> 00:25:45,048
So we have two options, we can rotate the Geralt,

443
00:25:45,328 --> 00:25:47,249
but let's assume we cannot do this in this case,

444
00:25:47,849 --> 00:25:48,969
or we can apply the correction.

445
00:25:49,569 --> 00:25:52,410
So we insert the post key on the timeline,

446
00:25:54,890 --> 00:25:58,571
and using control link we can rotate the hand or head.

447
00:26:06,932 --> 00:26:09,953
So when we link this post correction with the animation,

448
00:26:10,273 --> 00:26:12,213
the proper timing will be applied for the correction.

449
00:26:15,015 --> 00:26:16,276
Yeah, so now it's much better.

450
00:26:22,739 --> 00:26:25,020
Okay, and like on simple gestures,

451
00:26:25,060 --> 00:26:27,081
you can apply corrections on IDs as well.

452
00:26:27,881 --> 00:26:30,603
And mostly we use them for fixing mesh penetrating issue,

453
00:26:30,783 --> 00:26:31,623
like on this example.

454
00:26:35,105 --> 00:26:38,946
So it's end up that we create a small database

455
00:26:39,026 --> 00:26:40,587
for controlling presets,

456
00:26:41,167 --> 00:26:43,148
so we can fix issues like this in seconds.

457
00:26:50,602 --> 00:26:52,242
And facial control work similarly.

458
00:26:52,743 --> 00:26:56,224
So you could create the custom poses,

459
00:26:56,504 --> 00:26:59,305
you can apply the corrections for gestures or for others.

460
00:27:00,106 --> 00:27:01,226
So to interpret myself,

461
00:27:01,306 --> 00:27:03,087
I would like to show you the control panel.

462
00:27:03,627 --> 00:27:06,168
So this time, instead of bones,

463
00:27:06,589 --> 00:27:08,309
we have plenty of joysticks

464
00:27:08,349 --> 00:27:10,570
for different facial deformations.

465
00:27:18,519 --> 00:27:21,281
Okay, so Control Rigs with animation reusing pipeline

466
00:27:21,661 --> 00:27:23,022
gives a lot of freedom to designers.

467
00:27:23,582 --> 00:27:25,383
They can create custom content

468
00:27:25,643 --> 00:27:27,504
within the dialog editor like on demand.

469
00:27:28,405 --> 00:27:31,506
This is very important because with tight schedules,

470
00:27:31,907 --> 00:27:33,808
you either be able to create something

471
00:27:33,908 --> 00:27:34,968
or mix something in seconds,

472
00:27:35,529 --> 00:27:37,610
or you have to leave unpolished dialog

473
00:27:37,770 --> 00:27:38,710
and move to the next one.

474
00:27:41,832 --> 00:27:43,753
Okay, placing all items and props

475
00:27:43,773 --> 00:27:45,874
is the last stage of dialog designers' work.

476
00:27:46,664 --> 00:27:48,685
So as I showed you, every scene element

477
00:27:48,725 --> 00:27:49,726
can be moved anytime.

478
00:27:50,046 --> 00:27:52,188
You can use even interpolation methods

479
00:27:52,769 --> 00:27:55,251
or Bezier curves to apply simple animations.

480
00:27:56,011 --> 00:27:57,893
When you have a lot of props,

481
00:27:58,273 --> 00:28:00,095
we can attach to each other,

482
00:28:00,695 --> 00:28:04,238
or when you have the animations,

483
00:28:04,479 --> 00:28:05,479
those can be synchronized.

484
00:28:07,361 --> 00:28:09,763
So all these little things help us to create

485
00:28:10,904 --> 00:28:13,086
details that are rooted scene within the game world.

486
00:28:15,817 --> 00:28:17,239
And that was the dialog designer's workflow.

487
00:28:17,819 --> 00:28:21,303
So now you know how the visual side of the dialog is done.

488
00:28:22,504 --> 00:28:23,885
So I'm going to summarize this part

489
00:28:24,226 --> 00:28:25,667
and show you the progress shots

490
00:28:26,948 --> 00:28:28,790
of one of the dialog from the game.

491
00:28:28,870 --> 00:28:31,333
So you can see how it works on the examples.

492
00:28:32,674 --> 00:28:34,476
So first, we have the empty timeline

493
00:28:34,516 --> 00:28:35,557
with recorded voiceovers.

494
00:28:36,898 --> 00:28:39,701
We use generator to create the first part of dialog look.

495
00:28:42,755 --> 00:28:44,977
You there, Mr. Rovan, what's the word?

496
00:28:45,237 --> 00:28:46,478
Impatient old bastard.

497
00:28:46,898 --> 00:28:47,159
What?

498
00:28:47,519 --> 00:28:49,180
Nothing. Be there soon.

499
00:28:54,385 --> 00:28:56,987
Okay, next we move from the first stage to the next one.

500
00:28:57,407 --> 00:29:00,750
So designers improve the cameras, ideas and animations.

501
00:29:05,534 --> 00:29:07,736
You there, Mr. Rovan, what's the word?

502
00:29:08,989 --> 00:29:10,290
Impatient old bastard.

503
00:29:10,770 --> 00:29:11,070
What?

504
00:29:11,911 --> 00:29:13,592
Nothing. Be there soon.

505
00:29:17,995 --> 00:29:21,237
Okay, and the final stage, so the final polish,

506
00:29:22,297 --> 00:29:25,179
facial animation, the corrections, and all the details.

507
00:29:31,703 --> 00:29:33,905
You there! Mr. Roven wants a word!

508
00:29:35,162 --> 00:29:36,423
Impatient old bastard.

509
00:29:36,943 --> 00:29:37,243
What?

510
00:29:38,064 --> 00:29:38,424
Nothing.

511
00:29:39,105 --> 00:29:39,745
Be there soon.

512
00:29:46,289 --> 00:29:49,270
Okay, simple scene like this took a few minutes to be done,

513
00:29:49,390 --> 00:29:50,331
even for guys like me.

514
00:29:53,313 --> 00:29:57,075
Okay, so at the beginning I said that we had to create

515
00:29:57,375 --> 00:29:57,755
1,400 dialogues.

516
00:29:58,596 --> 00:29:59,836
So we've got the building blocks.

517
00:30:00,797 --> 00:30:03,498
we can generate a dialogue, or we can mix existing

518
00:30:03,839 --> 00:30:04,499
generic pieces.

519
00:30:05,280 --> 00:30:06,560
But what of the special cases?

520
00:30:07,321 --> 00:30:10,243
Special case may look unique, handmade and similar

521
00:30:10,283 --> 00:30:13,345
to casting, but it's our second goal that dialogue

522
00:30:13,365 --> 00:30:14,906
should have the same feeling the casting has.

523
00:30:16,187 --> 00:30:18,849
So now let's see how we can create custom cases

524
00:30:19,229 --> 00:30:20,730
within the dialogue editor for the Witcher.

525
00:30:21,651 --> 00:30:24,492
This time I would like to analyze the scene

526
00:30:24,552 --> 00:30:26,053
from the beginning of the game,

527
00:30:26,134 --> 00:30:27,615
from the prologue, passing the crossbow.

528
00:30:29,747 --> 00:30:31,027
So first, let's see the dialogue.

529
00:30:34,409 --> 00:30:36,109
Let's go give it a warm welcome.

530
00:30:36,790 --> 00:30:38,150
Wait, take this.

531
00:30:43,173 --> 00:30:43,773
A crossbow.

532
00:30:44,873 --> 00:30:47,314
Want it in a card game while you run around.

533
00:30:47,935 --> 00:30:49,235
Might come in handy.

534
00:30:52,704 --> 00:30:55,185
Okay, so we don't have special animation

535
00:30:55,226 --> 00:30:56,046
for passing crossbow.

536
00:30:56,466 --> 00:30:57,967
But we have one with receiving a key.

537
00:30:58,527 --> 00:30:59,608
So this will be our base.

538
00:31:02,830 --> 00:31:05,531
Next we spawn the crossbow probe and attach it to the hand.

539
00:31:06,732 --> 00:31:08,653
Like making sure that the crossbow fits to the hand.

540
00:31:10,334 --> 00:31:11,975
And the camera shot is set carefully

541
00:31:12,275 --> 00:31:13,656
not to show the mismatched parts.

542
00:31:15,377 --> 00:31:18,479
And later we can use a control rig for adding final details

543
00:31:18,519 --> 00:31:19,980
like adjusting the fingers and hand.

544
00:31:35,789 --> 00:31:36,769
And that's done.

545
00:31:37,030 --> 00:31:39,030
So let's see how it looks in the final game.

546
00:31:41,852 --> 00:31:43,812
Let's go give it a warm welcome.

547
00:31:43,852 --> 00:31:45,733
Wait, wait, yes.

548
00:31:50,655 --> 00:31:51,936
A crossbow.

549
00:31:52,216 --> 00:31:54,557
Wanted in a card game while you run around.

550
00:31:55,277 --> 00:31:56,778
Might come in handy.

551
00:31:59,859 --> 00:32:02,040
Okay, so being able to create unique dialogues

552
00:32:02,220 --> 00:32:04,661
is equally important to make them on a massive scale.

553
00:32:05,459 --> 00:32:07,661
and we do not put quantity over quality.

554
00:32:08,261 --> 00:32:09,943
So every dialogue should have something special

555
00:32:10,323 --> 00:32:12,765
that makes player feel emotionally attached to the story.

556
00:32:13,706 --> 00:32:16,308
So now let's see a little bit more complicated example

557
00:32:16,368 --> 00:32:17,209
of the custom cases.

558
00:32:25,497 --> 00:32:29,500
Oh no you don't, hear me, don't you dare.

559
00:32:33,915 --> 00:32:35,876
Please don't do this to me.

560
00:32:41,600 --> 00:32:42,000
Shani?

561
00:32:42,480 --> 00:32:42,881
Geralt?

562
00:32:44,041 --> 00:32:45,022
What are you doing here?

563
00:32:45,923 --> 00:32:48,344
Trying to save his life. Help me.

564
00:32:48,924 --> 00:32:51,226
Shani, calm down. He's dead.

565
00:32:51,246 --> 00:32:54,748
I'm sure something can be done.

566
00:32:54,768 --> 00:33:01,012
And if you think it's a cutscene, it's not. It's still our dialogue system.

567
00:33:01,052 --> 00:33:01,432
Shani?

568
00:33:01,933 --> 00:33:02,253
Geralt?

569
00:33:04,157 --> 00:33:11,819
here trying to save his life help me Johnny calm down he's dead I'm sure

570
00:33:12,499 --> 00:33:26,542
something can be done let it go damn it all for nothing you did all you could

571
00:33:31,183 --> 00:33:31,823
Thanks Geralt

572
00:33:35,746 --> 00:33:37,588
Okay, so let's leave dialog designers

573
00:33:37,688 --> 00:33:40,590
and move to the next pipeline step, post-production.

574
00:33:42,331 --> 00:33:44,553
So, when you talk about cinematic content,

575
00:33:44,934 --> 00:33:47,335
lighting is a crucial element to take into account.

576
00:33:48,316 --> 00:33:49,998
Sometimes in games we have to add lights

577
00:33:50,358 --> 00:33:52,420
because it's hard to see what's going on

578
00:33:53,160 --> 00:33:54,101
without extra lighting.

579
00:33:55,702 --> 00:33:58,004
But for The Witcher, when story is the king,

580
00:33:59,065 --> 00:34:00,907
lighting helps us to create a proper mood,

581
00:34:01,087 --> 00:34:02,308
like support storytelling.

582
00:34:03,476 --> 00:34:06,539
So you can see how large impact custom lights have.

583
00:34:06,559 --> 00:34:12,063
From this stage to this one.

584
00:34:12,244 --> 00:34:15,266
But it's not easy to light dialogues in open world game

585
00:34:15,466 --> 00:34:16,868
with day and night cycle.

586
00:34:17,388 --> 00:34:19,270
Because lighting always needs to look good.

587
00:34:19,730 --> 00:34:22,553
It doesn't matter if it's like raining during the night

588
00:34:22,673 --> 00:34:24,694
or it's sunny afternoon.

589
00:34:25,675 --> 00:34:27,577
So let's see how we did it in WeChat.

590
00:34:28,693 --> 00:34:30,414
First, to make it 100% clear,

591
00:34:31,234 --> 00:34:33,094
I would like to analyze a super simple example.

592
00:34:34,015 --> 00:34:35,675
So let's say we would like to add

593
00:34:36,475 --> 00:34:38,275
the yellow light for this steel.

594
00:34:39,716 --> 00:34:42,636
So when you just put this yellow light on the level,

595
00:34:43,497 --> 00:34:44,117
it seems okay.

596
00:34:44,437 --> 00:34:45,997
But when you change part of the day,

597
00:34:46,957 --> 00:34:48,177
this light doesn't fit anymore.

598
00:34:48,698 --> 00:34:50,138
It's like too yellow and too bright.

599
00:34:51,238 --> 00:34:52,598
So we'd like to have something like this.

600
00:34:55,471 --> 00:34:59,412
that light has different color and value

601
00:34:59,872 --> 00:35:01,853
during the different part of the day,

602
00:35:02,233 --> 00:35:04,454
but have the same feeling, the same impact.

603
00:35:13,837 --> 00:35:14,677
Okay, so how it's done.

604
00:35:17,074 --> 00:35:22,297
Final game light value depends on global light value

605
00:35:22,637 --> 00:35:25,899
which is set by lighting artist in the weather editor

606
00:35:27,320 --> 00:35:31,423
multiplied by the dialogue light which is set in the

607
00:35:32,764 --> 00:35:35,565
event on the timeline by the dialogue designers.

608
00:35:37,546 --> 00:35:40,909
And every light property is not a single value

609
00:35:41,049 --> 00:35:41,589
but is a curve.

610
00:35:42,109 --> 00:35:44,170
So we can have different values

611
00:35:44,291 --> 00:35:45,831
of different part of the day.

612
00:35:47,345 --> 00:35:49,263
And of course, let's see how it works on the funnel again.

613
00:36:27,406 --> 00:36:29,707
Okay, so lighting is super important part

614
00:36:29,747 --> 00:36:31,448
of the cinematic content.

615
00:36:31,808 --> 00:36:35,410
And even when you have to create like open world game

616
00:36:35,470 --> 00:36:38,031
with day and night cycle, this feature cannot be missed.

617
00:36:38,832 --> 00:36:40,573
Our solution works great for us.

618
00:36:41,433 --> 00:36:44,075
Lighting artist creates the global light value

619
00:36:44,815 --> 00:36:48,277
and later everyone can create custom lights for dialogue

620
00:36:48,557 --> 00:36:50,078
without breaking the final game look.

621
00:36:53,720 --> 00:36:56,823
Second part of the post-production are VFX and sound effects.

622
00:36:57,643 --> 00:36:59,504
It works always the same as I showed you before.

623
00:36:59,965 --> 00:37:01,966
So we use timeline to set up specific events.

624
00:37:02,627 --> 00:37:05,389
You can move or touch effects to different things in time.

625
00:37:06,429 --> 00:37:07,710
Unfortunately, we don't have enough time

626
00:37:07,750 --> 00:37:10,412
to describe everything, but I'm sure you get the idea.

627
00:37:14,635 --> 00:37:15,396
Okay, and that was the...

628
00:37:16,819 --> 00:37:18,360
pipeline of a single dialogue in Witcher 3.

629
00:37:18,941 --> 00:37:20,502
So we have the writers, quest,

630
00:37:21,062 --> 00:37:22,743
dialogue designers with their workflow,

631
00:37:23,264 --> 00:37:26,366
like dialogue set, generator, cameras, idols,

632
00:37:26,966 --> 00:37:30,029
look-outs, animations, special cases, and scenography.

633
00:37:30,449 --> 00:37:33,191
And finally, post-production with lighting and VFX.

634
00:37:35,252 --> 00:37:37,013
So I showed you all these videos and features,

635
00:37:37,094 --> 00:37:40,056
but as you can imagine, not everything was so easy to do.

636
00:37:40,956 --> 00:37:43,818
We had a few problems, and some of them are worth to share.

637
00:37:45,447 --> 00:37:47,388
So the Witcher is localized into 15 languages,

638
00:37:47,929 --> 00:37:49,810
and eight of them have different voiceovers

639
00:37:49,990 --> 00:37:50,871
per language version.

640
00:37:52,853 --> 00:37:54,574
So I showed you that the length of the timeline

641
00:37:54,634 --> 00:37:55,615
is tied to the voiceovers.

642
00:37:57,076 --> 00:37:59,858
We didn't use dubbing, so every voiceover

643
00:38:00,219 --> 00:38:02,040
have different duration per language version.

644
00:38:03,509 --> 00:38:05,350
So it means that the whole dialogue

645
00:38:05,490 --> 00:38:07,571
can have different duration per language version.

646
00:38:08,232 --> 00:38:11,133
So you can imagine that with cinematic type of content,

647
00:38:11,173 --> 00:38:13,354
when everything is placed carefully on the timeline,

648
00:38:13,735 --> 00:38:15,275
and all the gestures are synchronized,

649
00:38:15,736 --> 00:38:16,576
this is a real issue.

650
00:38:17,256 --> 00:38:19,218
So you cannot just change the duration of the timeline,

651
00:38:19,278 --> 00:38:21,079
because everything will be out of sync.

652
00:38:22,339 --> 00:38:23,900
So the solution working for us

653
00:38:23,960 --> 00:38:25,661
was something we called timeline scaling.

654
00:38:26,321 --> 00:38:28,142
So it means that every event is placed

655
00:38:28,723 --> 00:38:30,023
relative to voiceover.

656
00:38:32,375 --> 00:38:35,637
So if voiceover is longer, event will be in different

657
00:38:35,717 --> 00:38:38,698
absolute time, but in the same proportion to voiceover.

658
00:38:39,998 --> 00:38:45,621
So with some features like event matching or joining,

659
00:38:46,121 --> 00:38:46,821
it works really well.

660
00:38:47,401 --> 00:38:51,703
So in this example, both events start at the 30%

661
00:38:52,903 --> 00:38:56,625
of the voiceover, but voiceovers have different durations,

662
00:38:56,865 --> 00:39:00,907
so the event have different absolute time and length.

663
00:39:03,145 --> 00:39:06,306
So of course let's analyze it from the example from the game.

664
00:39:07,146 --> 00:39:11,787
So we have the English version, which takes 12 seconds,

665
00:39:11,907 --> 00:39:14,868
and French version which takes 14 seconds.

666
00:39:15,168 --> 00:39:17,869
So this two second gap can completely ruin the dialogue.

667
00:39:18,569 --> 00:39:19,849
But thanks to the timeline scaling,

668
00:39:19,869 --> 00:39:21,650
everything should work okay.

669
00:39:22,370 --> 00:39:22,930
So let's check it.

670
00:39:24,070 --> 00:39:24,950
First the English version.

671
00:39:26,379 --> 00:39:28,100
Who the hell do you think you are?

672
00:39:28,120 --> 00:39:29,081
A witcher.

673
00:39:29,542 --> 00:39:30,082
A witcher?

674
00:39:30,462 --> 00:39:31,243
Hear that boys?

675
00:39:32,064 --> 00:39:34,245
Either Velen's got a bumper crop of witches,

676
00:39:34,866 --> 00:39:37,888
or this is the bastard who cut down our boys at the crossroads.

677
00:39:40,490 --> 00:39:41,191
And now French.

678
00:39:41,211 --> 00:39:43,753
The same dialogue with the same content in French.

679
00:39:44,293 --> 00:39:45,935
Hey, pour qui tu te prends?

680
00:39:46,315 --> 00:39:47,316
Pour un sorceleur.

681
00:39:47,836 --> 00:39:48,897
Un sorceleur?

682
00:39:49,177 --> 00:39:50,138
Vous entendez les gars?

683
00:39:51,299 --> 00:39:53,341
Soit Velen grouille de sorceleur,

684
00:39:54,363 --> 00:39:57,325
So I say, the fist of put the massacred in the water.

685
00:39:57,585 --> 00:39:58,385
I'll have to watch it.

686
00:40:01,007 --> 00:40:02,548
OK, now side by side view.

687
00:40:04,709 --> 00:40:07,331
So you can see that both instances are slowly

688
00:40:07,911 --> 00:40:08,451
out of sync.

689
00:40:08,751 --> 00:40:11,013
But for every instance, everything works perfectly.

690
00:40:20,328 --> 00:40:22,590
Okay, next interesting challenge was

691
00:40:22,690 --> 00:40:23,971
a non-deterministic Witcher world.

692
00:40:24,692 --> 00:40:26,933
So we put a lot of effort to be sure that

693
00:40:27,314 --> 00:40:29,395
dialogue itself is completely deterministic

694
00:40:29,675 --> 00:40:31,216
during playing or editing.

695
00:40:31,837 --> 00:40:34,339
So it means that you can skip any part of the dialogue

696
00:40:34,559 --> 00:40:36,400
any time and on the next frame

697
00:40:36,500 --> 00:40:38,021
everything will be placed properly.

698
00:40:38,992 --> 00:40:41,134
But at the same time, our leading work team

699
00:40:41,395 --> 00:40:44,118
put a lot of work to make Witcher World

700
00:40:44,838 --> 00:40:46,040
full of life, vibrant.

701
00:40:46,280 --> 00:40:49,664
So by design, Witcher World is not deterministic.

702
00:40:50,264 --> 00:40:51,966
And we had a few issues with this.

703
00:40:54,128 --> 00:40:57,011
For instance, NPC from community have their own life.

704
00:40:57,952 --> 00:40:59,534
Sometimes it means that one of them

705
00:40:59,574 --> 00:41:01,236
really wants to be part of the dialogue action.

706
00:41:05,661 --> 00:41:09,443
So the solution was to put a denied area around the dialogue

707
00:41:09,523 --> 00:41:13,104
that contains all the actors and cameras

708
00:41:13,164 --> 00:41:14,305
but blocks the NPCs.

709
00:41:18,427 --> 00:41:21,068
Another example can be player state, like riding a horse.

710
00:41:22,389 --> 00:41:24,870
So sometimes at the beginning of the dialogue,

711
00:41:24,910 --> 00:41:26,371
players assume to be on the foot.

712
00:41:27,191 --> 00:41:29,512
So we cannot force the player to dismount

713
00:41:29,592 --> 00:41:30,933
every time before dialogue starts.

714
00:41:37,420 --> 00:41:39,622
So instead, we'll play a shortcut scene

715
00:41:40,082 --> 00:41:42,064
before the dialogue that shows the player

716
00:41:42,104 --> 00:41:42,945
dismounting the horse.

717
00:41:43,926 --> 00:41:46,008
That cutscene blends to the dialogue,

718
00:41:46,949 --> 00:41:48,891
creating a smooth transition from the gameplay.

719
00:41:57,299 --> 00:41:57,520
Okay.

720
00:41:58,480 --> 00:42:00,022
And now, as a final part.

721
00:42:01,227 --> 00:42:03,629
I'm going to show you the dialogue with some annotations.

722
00:42:04,109 --> 00:42:05,831
So you can see all the features,

723
00:42:07,192 --> 00:42:10,054
but how it works in the final dialogue from the game.

724
00:42:10,874 --> 00:42:12,235
I hope this will be a good summary.

725
00:42:14,557 --> 00:42:15,177
Give it a rest.

726
00:42:15,978 --> 00:42:17,179
No point talking to that lot.

727
00:42:17,679 --> 00:42:19,020
All you get is angry gurgles.

728
00:42:19,561 --> 00:42:21,162
And they puff up, you notice?

729
00:42:21,442 --> 00:42:24,064
While them fish, what is it they're called?

730
00:42:24,084 --> 00:42:26,386
Is there anyone here who speaks common?

731
00:42:27,755 --> 00:42:30,597
Ah, there's this mercenary with him. Looks Edernian to me.

732
00:42:31,077 --> 00:42:33,218
He's the one who recruited me to show him through the sewers.

733
00:42:34,419 --> 00:42:37,481
Oh, and the mage what leads them knows of it.

734
00:42:38,161 --> 00:42:40,702
Heard him talking. No doubt either will talk to you.

735
00:42:41,983 --> 00:42:45,125
Oh, how's you? Constance, or should I?

736
00:42:45,545 --> 00:42:48,326
Oh, go on, flop in me tum. Got a long voyage ahead.

737
00:42:56,813 --> 00:42:58,033
with that's what I want

738
00:43:01,194 --> 00:43:03,674
greetings Geralt remember me

739
00:43:07,375 --> 00:43:10,395
I remember we met in white orchard your

740
00:43:10,576 --> 00:43:14,076
Gaunter Odin known also as master mirror

741
00:43:14,896 --> 00:43:16,577
I helped you find your Yennefer

742
00:43:19,557 --> 00:43:22,738
we meet again and it seems you need my

743
00:43:22,778 --> 00:43:23,678
help again

744
00:43:30,440 --> 00:43:33,762
That is, if this slot doesn't kill you first.

745
00:43:33,842 --> 00:43:38,906
I haven't tried it yet.

746
00:43:40,107 --> 00:43:42,709
Doesn't look promising.

747
00:43:43,670 --> 00:43:45,251
Not unlike your situation.

748
00:43:45,271 --> 00:43:48,013
I could try to extract...

749
00:43:51,023 --> 00:43:54,825
Because you do wish to disembark, do you not?

750
00:43:55,305 --> 00:43:57,586
Yeah, sure. But what on earth could you...

751
00:43:58,126 --> 00:43:59,947
Oh, more than you'd ever expect.

752
00:44:00,987 --> 00:44:02,248
I shall help you, Geralt.

753
00:44:02,728 --> 00:44:08,951
But before I do, I must know you'd return the favor.

754
00:44:09,031 --> 00:44:12,172
Right. Can't possibly get something for nothing.

755
00:44:12,752 --> 00:44:16,674
Indeed. When all's said and done, I am a merchant.

756
00:44:18,742 --> 00:44:19,882
Do you want my help?

757
00:44:20,602 --> 00:44:21,043
Yes.

758
00:44:22,383 --> 00:44:23,044
It's a deal.

759
00:44:23,924 --> 00:44:27,165
Once it's all over, we shall meet at midnight at the crossroads,

760
00:44:27,426 --> 00:44:29,787
meet the willows near the village of Yantra.

761
00:44:30,667 --> 00:44:35,149
Ah, and I must give you something to remember me by.

762
00:44:41,432 --> 00:44:41,912
What's that?

763
00:44:41,932 --> 00:44:45,774
A mark, to show we're... associates.

764
00:44:54,249 --> 00:44:55,389
Who are you gabbing with?

765
00:44:56,630 --> 00:44:58,291
With no one.

766
00:45:00,633 --> 00:45:02,614
Never liked bolt. Not one bit.

767
00:45:04,695 --> 00:45:07,657
They heave like devils. Make me stomach churn.

768
00:45:08,738 --> 00:45:12,280
It'd be prime to sleep through the whole thing.

769
00:45:26,191 --> 00:45:28,652
Okay, so what is VORUG doing?

770
00:45:29,692 --> 00:45:31,633
I believe that our dialogue system is a success.

771
00:45:32,333 --> 00:45:35,315
We made 35 hours of cinematic content

772
00:45:35,415 --> 00:45:36,715
without army of animators.

773
00:45:38,316 --> 00:45:39,916
Reading logs with custom cases

774
00:45:40,497 --> 00:45:42,197
allow us to create memorable dialogues

775
00:45:42,878 --> 00:45:46,579
with good quality that help us set a story

776
00:45:46,619 --> 00:45:47,620
as a main game feature.

777
00:45:48,952 --> 00:45:52,076
and solid and flexible dialogue editor boosts our artist.

778
00:45:52,556 --> 00:45:55,019
In one place, everyone can create dialogue

779
00:45:55,039 --> 00:45:56,141
from the beginning to the end.

780
00:45:58,183 --> 00:46:00,606
Not deterministic, Witcher world was a challenge,

781
00:46:00,946 --> 00:46:03,149
but thanks to the features like dynamic lighting,

782
00:46:04,210 --> 00:46:07,854
every player can see his own version of dialogues and story.

783
00:46:09,968 --> 00:46:12,390
And of course, there's no time to do everything.

784
00:46:12,810 --> 00:46:14,311
We had to cut a lot of features.

785
00:46:14,991 --> 00:46:18,534
But all this unfinished ideas and knowledge that we have now,

786
00:46:19,595 --> 00:46:22,116
we are using for our new game, Cyberpunk 2077.

787
00:46:24,418 --> 00:46:31,283
So if you'd like to be part of this, we are hiring, of course.

788
00:46:33,284 --> 00:46:36,526
OK, so whoops.

789
00:46:37,704 --> 00:46:41,528
There's a bonus slide section that will be available

790
00:46:41,688 --> 00:46:42,649
on GDC Vault.

791
00:46:43,309 --> 00:46:47,033
So I did a bunch of videos and slides with extra details.

792
00:46:47,793 --> 00:46:49,035
So you can always read it later.

793
00:46:51,417 --> 00:46:52,758
And if you like The Witcher game,

794
00:46:52,918 --> 00:46:55,220
we have two more presentations on this year's GDC.

795
00:46:55,521 --> 00:46:57,322
So you can check it out as well.

796
00:46:59,584 --> 00:47:00,025
And that's all.

797
00:47:00,585 --> 00:47:03,208
So if you have any questions, please shoot.

798
00:47:15,865 --> 00:47:18,402
I'm super nervous, so please ask only simple questions.

799
00:47:20,377 --> 00:47:23,859
How many of the tools that you showed were third party versus

800
00:47:23,939 --> 00:47:27,422
developed internally and how much of your engineering staff

801
00:47:27,482 --> 00:47:29,063
was developing the internal tools?

802
00:47:29,604 --> 00:47:35,789
Okay, so all the tools I showed you are made internally in our

803
00:47:36,209 --> 00:47:39,932
Red Engine. So we use only external tools like Maya

804
00:47:39,952 --> 00:47:42,574
Motion Builder for animations and the rest everything is

805
00:47:42,694 --> 00:47:46,137
built into the system. Even like the screen play, like the

806
00:47:47,478 --> 00:47:50,600
even like the tool for VFX and everything is one place

807
00:47:50,981 --> 00:47:51,581
in our editor.

808
00:47:52,001 --> 00:47:52,962
And about the engineers,

809
00:47:53,623 --> 00:47:55,544
so I showed you our team on the beginning

810
00:47:55,884 --> 00:47:58,947
and we had three programmers,

811
00:47:59,587 --> 00:48:02,229
like one senior and two specialists.

812
00:48:03,090 --> 00:48:04,811
And we had to create everything,

813
00:48:04,891 --> 00:48:07,713
like features, animation parts,

814
00:48:08,294 --> 00:48:09,635
the connection through the quest,

815
00:48:09,675 --> 00:48:10,536
and even all the tools.

816
00:48:11,276 --> 00:48:13,918
So there are like three people and the rest are artists.

817
00:48:14,734 --> 00:48:17,756
So the dialogue graph and the timelines,

818
00:48:17,796 --> 00:48:19,336
all of those are internally developed?

819
00:48:19,817 --> 00:48:20,337
Yes, yes.

820
00:48:20,377 --> 00:48:22,998
Everything is on one data at the top.

821
00:48:23,278 --> 00:48:23,459
Yeah.

822
00:48:23,479 --> 00:48:23,779
Thank you.

823
00:48:27,821 --> 00:48:28,041
Hi.

824
00:48:28,121 --> 00:48:28,641
Great talk.

825
00:48:30,602 --> 00:48:32,803
So a big part of the narrative-driven games

826
00:48:33,003 --> 00:48:36,065
is that some people want to skip dialogues.

827
00:48:38,568 --> 00:48:42,371
How did you deal with issues of maybe like animations

828
00:48:42,431 --> 00:48:44,293
not finishing when people skip?

829
00:48:44,653 --> 00:48:48,716
Okay, so yeah, it always hurts when I see people

830
00:48:49,097 --> 00:48:49,857
skipping the dialogues.

831
00:48:50,318 --> 00:48:52,159
I understand that some of them are really long

832
00:48:52,219 --> 00:48:54,341
and maybe a little bit too long.

833
00:48:56,022 --> 00:48:57,544
Yeah, so from the technical point of view,

834
00:48:57,564 --> 00:48:59,125
the skipping was a real issue.

835
00:48:59,906 --> 00:49:01,487
Because as I said that...

836
00:49:02,599 --> 00:49:05,760
Dialogue has to be completely deterministic, because when you

837
00:49:06,280 --> 00:49:09,921
skip any part of the dialogue, maybe in this part, character,

838
00:49:09,941 --> 00:49:12,562
I don't know, draw an item or do something, and later you need

839
00:49:12,602 --> 00:49:12,962
to have it.

840
00:49:13,582 --> 00:49:15,302
But the same issue we have with the editor.

841
00:49:15,462 --> 00:49:19,023
So even during the editing, when you press, you can press

842
00:49:19,383 --> 00:49:23,544
any section, any time, and you should have the proper frame.

843
00:49:24,805 --> 00:49:26,587
So it's almost the same problem.

844
00:49:27,487 --> 00:49:32,011
So it took a lot of time to write everything to have it.

845
00:49:32,211 --> 00:49:33,732
So even from the code point of view,

846
00:49:34,833 --> 00:49:39,037
every subsystem has to be controlled by the timeline.

847
00:49:39,237 --> 00:49:40,758
So in the animations, for example,

848
00:49:40,998 --> 00:49:43,760
so you cannot have like the cool down or like the...

849
00:49:45,712 --> 00:49:47,334
dumping inside the animation system,

850
00:49:47,754 --> 00:49:51,937
because then when you change the part of the dialogue

851
00:49:52,137 --> 00:49:54,399
like in one frame, you will see this dumping

852
00:49:54,419 --> 00:49:54,980
no going down.

853
00:49:55,020 --> 00:49:57,161
So yeah, it was a real challenge.

854
00:49:57,241 --> 00:50:01,204
And I think this is one of the hardest tasks

855
00:50:01,224 --> 00:50:02,205
for programmers to do.

856
00:50:02,906 --> 00:50:03,166
Thank you.

857
00:50:05,805 --> 00:50:12,369
I was just curious how these tools seem insanely complex and

858
00:50:12,429 --> 00:50:15,770
extremely useful for you guys. How long into development did it

859
00:50:15,790 --> 00:50:18,171
take you to get everything working or was it a trickle

860
00:50:18,191 --> 00:50:20,032
process throughout the entire project?

861
00:50:20,773 --> 00:50:22,813
So as I mentioned at the beginning we had a dialogue

862
00:50:22,833 --> 00:50:25,895
system for the witcher 2. So some of the tools are already

863
00:50:25,935 --> 00:50:28,816
there like the graph for example and the screen play.

864
00:50:29,397 --> 00:50:31,577
So the rest we have to completely rewrite

865
00:50:32,218 --> 00:50:34,518
because we have the different requirements.

866
00:50:34,918 --> 00:50:37,199
Even the deterministic stuff and everything.

867
00:50:37,259 --> 00:50:39,020
So, yeah, it took.

868
00:50:40,080 --> 00:50:41,681
So, okay, so because of this,

869
00:50:42,961 --> 00:50:46,282
artists could create something from the beginning

870
00:50:46,762 --> 00:50:48,603
based on the Witcher 2 dialog editor

871
00:50:48,763 --> 00:50:50,123
and then we try to improve it.

872
00:50:50,183 --> 00:50:52,144
So, for example, this animation bit look-at.

873
00:50:53,353 --> 00:50:57,035
I think it took like one year to have it, like finally.

874
00:50:58,096 --> 00:51:00,137
Because we had different tasks and everything.

875
00:51:01,478 --> 00:51:04,319
But we still have the lookouts from The Witcher 2,

876
00:51:04,519 --> 00:51:05,940
like this for head and torso.

877
00:51:06,260 --> 00:51:08,662
So you can use it and later you can even switch

878
00:51:09,802 --> 00:51:10,283
to the new ones.

879
00:51:10,303 --> 00:51:11,483
Thank you very much.

880
00:51:13,715 --> 00:51:18,656
Hi, I'm Denis from Various Ukraine. I have a question about the sound design.

881
00:51:18,676 --> 00:51:27,799
You didn't tell a lot about how the sound and the dialogue was set up, I mean the 3D parameters, volumes and so on.

882
00:51:28,439 --> 00:51:33,461
So did you do it before in some specific third party environment?

883
00:51:33,721 --> 00:51:39,803
Or you let your sound designers to design the sound parameters just in the editor when they designed the dialogue?

884
00:51:40,663 --> 00:51:42,524
Okay, so honestly I'm not sure,

885
00:51:42,924 --> 00:51:44,825
because this part is like the sound design

886
00:51:45,045 --> 00:51:48,267
is a little bit like a mystery for me.

887
00:51:49,527 --> 00:51:51,328
I think they create,

888
00:51:53,169 --> 00:51:54,290
there should be somewhere here,

889
00:51:54,490 --> 00:51:55,390
our sound designer, okay.

890
00:51:56,130 --> 00:52:00,292
But I think they create sound on their own side.

891
00:52:00,312 --> 00:52:02,413
So you can put events, like sound events,

892
00:52:02,453 --> 00:52:04,394
and you know, do some simple stuff

893
00:52:04,474 --> 00:52:05,455
on the timeline with sound,

894
00:52:05,955 --> 00:52:08,536
but the assets are made on their side.

895
00:52:09,677 --> 00:52:13,439
So does it mean that you don't stick too much to the 3D stuff and so on?

896
00:52:13,459 --> 00:52:16,161
I mean, if you move the camera, the sound is not changing.

897
00:52:16,841 --> 00:52:20,183
Okay, so you had a few options to specify this.

898
00:52:20,763 --> 00:52:25,146
You can attach the sound listener, let's say, to the camera or to the characters.

899
00:52:25,606 --> 00:52:30,449
But honestly, I'm not sure how it's done under the hood.

900
00:52:30,849 --> 00:52:32,250
Okay, thank you very much for a brilliant talk.

901
00:52:32,711 --> 00:52:33,171
Thank you very much.

902
00:52:35,032 --> 00:52:42,959
you guys are giving us a run for our money right now. How

903
00:52:43,099 --> 00:52:46,443
dependent are you on VO? Do you have TTS or something while

904
00:52:46,463 --> 00:52:47,463
you're waiting for that to come in?

905
00:52:49,245 --> 00:52:50,886
Like voiceover, like the acting?

906
00:52:50,906 --> 00:52:51,286
Uh-huh.

907
00:52:51,506 --> 00:52:53,807
Like do you not work on it until you get it,

908
00:52:53,867 --> 00:52:56,068
or do you have TTS, like text to speech?

909
00:52:56,108 --> 00:52:56,408
Yeah.

910
00:52:57,389 --> 00:53:02,971
Okay, so I hope there will be this short part

911
00:53:03,091 --> 00:53:04,472
about this in bonus slide section,

912
00:53:04,532 --> 00:53:08,574
but basically you have two different ways

913
00:53:08,654 --> 00:53:09,915
you can specify the voiceovers.

914
00:53:10,835 --> 00:53:12,696
You can record voiceovers yourself as a designer.

915
00:53:12,716 --> 00:53:13,176
Oh, really?

916
00:53:13,196 --> 00:53:15,077
So you can use the microphone and you have the voiceover.

917
00:53:16,969 --> 00:53:21,832
Unfortunately, they don't use it that much because they don't want to hear their voices.

918
00:53:21,952 --> 00:53:24,573
So the second option, we can use text-to-speech.

919
00:53:24,973 --> 00:53:29,096
So we can generate, based on the text, we can generate the something, which is a base.

920
00:53:29,496 --> 00:53:33,179
It was used mostly for the thing that you have the timing for the dialogue.

921
00:53:33,859 --> 00:53:37,801
And later, when you have the final voiceovers from the actors, you can put it.

922
00:53:38,382 --> 00:53:43,765
But sometimes it means that you need to have one extra step for polishing the dialogue

923
00:53:44,185 --> 00:53:45,486
when you have the final voiceovers.

924
00:53:46,187 --> 00:53:48,448
So sometimes it was an issue, especially that for the

925
00:53:48,488 --> 00:53:51,650
monsters, for example, there are a lot of post-processes

926
00:53:51,770 --> 00:53:55,753
on the voices, so sometimes you get the echo or something,

927
00:53:55,793 --> 00:54:00,976
so the duration of the dialogue is growing.

928
00:54:01,497 --> 00:54:03,998
So we need to make sure that everything is placed

929
00:54:04,018 --> 00:54:04,879
properly later.

930
00:54:04,899 --> 00:54:06,260
Awesome, well, thank you again.

931
00:54:07,814 --> 00:54:09,238
Thank you for the awesome lecture.

932
00:54:09,699 --> 00:54:11,564
My question is about actually lip-sync,

933
00:54:11,784 --> 00:54:13,870
not in terms of the phrase length,

934
00:54:13,950 --> 00:54:15,554
but in terms of the articulation.

935
00:54:15,634 --> 00:54:16,316
How was it made?

936
00:54:17,949 --> 00:54:20,229
So for the lip-sync we used AnnoSoft.

937
00:54:21,510 --> 00:54:22,930
I said like the tech behind it.

938
00:54:23,951 --> 00:54:26,752
Of course we had different lip-sync per language version.

939
00:54:27,492 --> 00:54:29,413
And you had the small features that

940
00:54:30,193 --> 00:54:31,493
before the lip-sync starts,

941
00:54:31,513 --> 00:54:33,874
the character should take a breath or something,

942
00:54:33,914 --> 00:54:34,814
like the small details.

943
00:54:35,855 --> 00:54:37,495
Sometimes it's visible, sometimes it's not.

944
00:54:37,895 --> 00:54:39,096
It depends on the dialogue.

945
00:54:40,916 --> 00:54:41,136
But.

946
00:54:42,340 --> 00:54:45,162
The lip sync is built into the facial animation system.

947
00:54:45,763 --> 00:54:50,566
So when you have the final animation for the facial,

948
00:54:50,827 --> 00:54:52,868
lip sync can like overwrite some of the parts

949
00:54:52,968 --> 00:54:54,589
and blend nicely into this.

950
00:54:54,889 --> 00:54:57,631
And so you still can have like the smile

951
00:54:57,692 --> 00:54:58,992
and talking or something like this.

952
00:55:00,053 --> 00:55:05,155
What about the voiceover? Does it analyze the voice and make the sound?

953
00:55:05,195 --> 00:55:14,718
Yeah, so the Arnold software works like this. You need to put as input text, voiceover like the wave, and it generates the curves.

954
00:55:15,738 --> 00:55:25,922
And every curve is like the facial pose. So later we blend it into the, in our editor we blend it, or in our game we blend it dynamically.

955
00:55:26,462 --> 00:55:27,703
With some extra features because...

956
00:55:28,543 --> 00:55:31,687
You can have also corrections for the facial animation,

957
00:55:31,747 --> 00:55:33,249
so we have a lot of no inputs,

958
00:55:33,409 --> 00:55:35,351
and then we mix it in one place

959
00:55:35,651 --> 00:55:38,134
and generate the final deformation

960
00:55:38,174 --> 00:55:39,756
based on the bones for the facial animation.

961
00:55:40,117 --> 00:55:40,437
Thank you.

962
00:55:43,658 --> 00:55:46,579
I had a question about the pre-built gesture animations you guys used.

963
00:55:47,100 --> 00:55:51,502
Did you create them before the dialogue script was written or afterwards?

964
00:55:53,002 --> 00:55:54,143
Most cases afterwards.

965
00:55:54,443 --> 00:55:57,404
Because as I said, the designers are like directors.

966
00:55:57,745 --> 00:55:58,485
So you have the script.

967
00:55:59,645 --> 00:56:04,608
You can also, of course, you have to cooperate with the quest designers and the writers.

968
00:56:04,668 --> 00:56:09,390
But you need to figure out how to create this dialogue in a good way.

969
00:56:09,410 --> 00:56:10,751
So sometimes it means that...

970
00:56:11,551 --> 00:56:13,953
You can request a special dialogue animation,

971
00:56:13,973 --> 00:56:16,935
because it will be very hard to create without it.

972
00:56:17,176 --> 00:56:20,058
But in most cases, they try to reuse as much as possible.

973
00:56:20,919 --> 00:56:22,440
They do a lot of magic with this.

974
00:56:22,740 --> 00:56:25,643
Sometimes, from only a few gestures

975
00:56:25,803 --> 00:56:28,865
and with smart camera shots, they

976
00:56:28,905 --> 00:56:30,186
create a really good performance.

977
00:56:30,867 --> 00:56:31,107
Thank you.

978
00:56:35,008 --> 00:56:38,892
Fantastic talk. Thank you very much for it. It's really inspiring.

979
00:56:39,412 --> 00:56:46,539
My question is along the same lines, but I was wondering how did you manage to organize having so many pieces

980
00:56:47,200 --> 00:56:51,484
and not overlapping work between animators and making sure that you have everything that you need?

981
00:56:51,764 --> 00:56:53,506
What was the general pipeline that you used?

982
00:56:54,353 --> 00:56:57,635
So, pipeline was very similar that I showed you.

983
00:56:57,936 --> 00:57:01,738
So, it was like the script, later the dialogue.

984
00:57:02,818 --> 00:57:04,720
So using the generator, you can always create very fast,

985
00:57:04,760 --> 00:57:06,240
like the first dialogue iteration.

986
00:57:06,441 --> 00:57:08,322
So we can, the quest designers put it into the game,

987
00:57:08,462 --> 00:57:10,723
so you can play, you know, and check how it works,

988
00:57:10,803 --> 00:57:13,625
and how the game looks like with this.

989
00:57:14,405 --> 00:57:18,067
And later, the dialogue designers can create,

990
00:57:19,514 --> 00:57:23,678
the final visual parts or they can request assets like okay we need to have a special

991
00:57:23,738 --> 00:57:27,261
effect so please do it or we need to have special sounds or something.

992
00:57:27,302 --> 00:57:37,751
So later we have the producer for this and they collect all the small tasks and request

993
00:57:37,772 --> 00:57:39,093
them for different parts.

994
00:57:39,413 --> 00:57:43,097
So basically it's like an iterative process you work with what you have and if you need

995
00:57:43,157 --> 00:57:43,477
something.

996
00:57:44,037 --> 00:57:46,419
Yeah, we have a lot of iterations.

997
00:57:46,699 --> 00:57:50,542
Even with the dialogues, it's not like the dialogues are done

998
00:57:50,622 --> 00:57:53,664
and it's completely done, because even with the localization,

999
00:57:53,684 --> 00:57:57,587
you need to go back for every language and check if for every language everything is okay.

1000
00:57:58,048 --> 00:57:59,068
So it's always time consuming.

1001
00:57:59,509 --> 00:58:03,151
So sometimes you need to tweak something because of the different language version,

1002
00:58:03,692 --> 00:58:06,794
because we would like to have the same quality for each language version, of course.

1003
00:58:07,474 --> 00:58:10,697
So it's end up that even you could have...

1004
00:58:11,497 --> 00:58:15,378
different timeline version per different language version

1005
00:58:15,618 --> 00:58:16,018
if you want.

1006
00:58:16,598 --> 00:58:19,339
So by default it's like this, you can scale it,

1007
00:58:19,459 --> 00:58:21,500
but if you really want to change it,

1008
00:58:21,860 --> 00:58:23,160
there is option that you can say,

1009
00:58:23,220 --> 00:58:24,480
okay, for example, for French,

1010
00:58:24,500 --> 00:58:26,881
I would like to move stuff a little bit

1011
00:58:26,961 --> 00:58:29,842
or add extra details.

1012
00:58:30,282 --> 00:58:32,002
Because we don't use dubbing.

1013
00:58:32,762 --> 00:58:37,623
So this was the problematic case from us, yeah.

1014
00:58:37,904 --> 00:58:38,584
But in the same,

1015
00:58:40,184 --> 00:58:42,705
At the same time, there are a few benefits from this,

1016
00:58:43,065 --> 00:58:45,386
because we can have the real performance from the actors.

1017
00:58:45,946 --> 00:58:49,328
So in some languages, you can have the custom jokes,

1018
00:58:50,048 --> 00:58:52,209
because you know that the joke can be longer,

1019
00:58:52,229 --> 00:58:54,270
because it's in Polish, on different language.

1020
00:58:54,330 --> 00:58:56,551
So there are some benefits.

1021
00:58:57,931 --> 00:58:58,252
Thank you.

1022
00:58:58,712 --> 00:58:59,832
I think it's okay, yeah?

1023
00:59:00,252 --> 00:59:00,653
We are done?

1024
00:59:02,193 --> 00:59:03,534
Any time for any more questions?

1025
00:59:04,094 --> 00:59:08,036
Okay, so you can also, we can go here and ask it, okay?

1026
00:59:08,156 --> 00:59:08,676
It's not a problem?

1027
00:59:09,615 --> 00:59:10,064
Thank you very much.

