1
00:00:06,036 --> 00:00:07,858
Thanks Dave. Can everyone hear me okay?

2
00:00:07,858 --> 00:00:10,581
You're going to have to excuse me.

3
00:00:10,581 --> 00:00:12,122
I'm suffering. I come from Montreal.

4
00:00:12,122 --> 00:00:14,225
We have lots of snow there. I'm suffering from a cough

5
00:00:14,225 --> 00:00:16,247
and a bit of a cold.

6
00:00:16,247 --> 00:00:18,309
My name is Che Dickie-Clark.

7
00:00:18,309 --> 00:00:20,451
I'm an AI programmer at Ubisoft Montreal.

8
00:00:20,451 --> 00:00:22,934
I've worked on a number of games.

9
00:00:22,934 --> 00:00:24,075
Rainbow Six Vegas,

10
00:00:24,075 --> 00:00:25,537
Surf's Up, Prince Persia,

11
00:00:25,537 --> 00:00:27,138
a number of Assassin's Creed games.

12
00:00:30,916 --> 00:00:33,518
And of course, Watch Dogs 2.

13
00:00:33,518 --> 00:00:36,460
Watch Dogs 2, you play Marcus.

14
00:00:36,460 --> 00:00:37,160
You're a hacker.

15
00:00:37,160 --> 00:00:39,301
You're fighting social injustice.

16
00:00:39,301 --> 00:00:43,284
The game has four pillars, hacking, combat, stealth,

17
00:00:43,284 --> 00:00:44,445
and navigation.

18
00:00:44,445 --> 00:00:49,168
I'm going to show you, yes.

19
00:00:49,168 --> 00:00:51,790
So today, I'm going to be talking about cover.

20
00:00:51,790 --> 00:00:55,872
This is an agent in cover behind the air ventilation unit.

21
00:00:56,789 --> 00:01:01,993
Most of the things that the agent does in combat involves cover.

22
00:01:01,993 --> 00:01:06,157
So they can shoot over the cover, they can just protect themselves,

23
00:01:06,157 --> 00:01:10,481
they can be throwing a grenade, calling reinforcements.

24
00:01:10,481 --> 00:01:13,003
So it becomes very important for them to position themselves

25
00:01:13,003 --> 00:01:17,928
at a good cover so that they have a good distance and a range

26
00:01:17,928 --> 00:01:19,269
and a good field of fire.

27
00:01:19,269 --> 00:01:21,531
I'm going to show you a video.

28
00:01:22,257 --> 00:01:24,679
where Marcus is entering a layout.

29
00:01:24,679 --> 00:01:25,180
It's called Home Docs.

30
00:01:25,180 --> 00:01:28,042
And the agents are going to react, take cover around him,

31
00:01:28,042 --> 00:01:28,823
and try and kill him.

32
00:01:28,823 --> 00:01:29,263
Oh, I have to, uh.

33
00:01:29,263 --> 00:01:30,104
There's five of them.

34
00:01:30,104 --> 00:01:30,744
Drop them if you have to.

35
00:01:30,744 --> 00:01:47,177
Stay online for a description of the target.

36
00:02:28,072 --> 00:02:32,615
So today I'm talking about two different things.

37
00:02:32,615 --> 00:02:35,978
The first is how the agents position themselves in cover.

38
00:02:35,978 --> 00:02:40,722
And then second, the challenges that we faced as we put this system into production.

39
00:02:40,722 --> 00:02:45,486
They started making levels and the problems that came up.

40
00:02:45,486 --> 00:02:48,748
There are three types of characters in the game.

41
00:02:48,748 --> 00:02:52,191
The first is the main protagonist, Marcus.

42
00:02:52,191 --> 00:02:55,434
There can actually be two or even four because the game is played in co-op.

43
00:02:57,348 --> 00:02:58,168
The second is the agents.

44
00:02:58,168 --> 00:03:01,310
These are the main enemies of the game.

45
00:03:01,310 --> 00:03:05,032
They can do the full range of actions an AI can do,

46
00:03:05,032 --> 00:03:08,113
for example, full combat, investigate,

47
00:03:08,113 --> 00:03:11,055
search, those kinds of things.

48
00:03:11,055 --> 00:03:13,416
For that reason, because they do so much,

49
00:03:13,416 --> 00:03:14,757
there's a limited number of them.

50
00:03:14,757 --> 00:03:16,978
There's only about a dozen in the game.

51
00:03:16,978 --> 00:03:20,740
Not a dozen archetypes, but a dozen at one time.

52
00:03:20,740 --> 00:03:22,741
The last category is civilians.

53
00:03:23,567 --> 00:03:26,535
These perform a kind of more lightweight version

54
00:03:26,535 --> 00:03:27,337
of the actions.

55
00:03:27,337 --> 00:03:28,900
They might just shoot once.

56
00:03:28,900 --> 00:03:31,487
They might just hide behind cover, or they run away.

57
00:03:32,950 --> 00:03:36,173
Roxanne spoke yesterday about the civilians, their reactions.

58
00:03:36,173 --> 00:03:40,337
I just wanted to make a point about the agents and their reactions.

59
00:03:40,337 --> 00:03:43,500
Combat is a very tight loop, and you don't want to interrupt it.

60
00:03:43,500 --> 00:03:46,462
So we actually don't handle many reactions.

61
00:03:46,462 --> 00:03:49,345
I think grenade reactions are very important.

62
00:03:49,345 --> 00:03:51,407
Getting hit, like a hurt reaction.

63
00:03:51,407 --> 00:03:54,109
But most other things, they just continue their normal combat loop.

64
00:03:56,123 --> 00:04:00,444
The agents can be a member of a number of factions,

65
00:04:00,444 --> 00:04:04,986
law enforcement, street gangs, organized crime.

66
00:04:04,986 --> 00:04:06,166
What's important in Watch Dogs 2,

67
00:04:06,166 --> 00:04:07,406
or different in Watch Dogs 2,

68
00:04:07,406 --> 00:04:09,927
is that these factions can now fight against each other

69
00:04:09,927 --> 00:04:13,267
as in addition to one of the four players.

70
00:04:13,267 --> 00:04:16,268
This creates complexity in terms of squad,

71
00:04:16,268 --> 00:04:18,669
which is our group coordination,

72
00:04:18,669 --> 00:04:22,190
detection, and combat and cover selection.

73
00:04:25,013 --> 00:04:27,876
This is the overhead view of the home docks,

74
00:04:27,876 --> 00:04:28,897
what we saw in the video.

75
00:04:28,897 --> 00:04:32,100
It's a much larger layout than Watch Dogs 1.

76
00:04:32,100 --> 00:04:35,663
And so the distances are larger, makes it harder

77
00:04:35,663 --> 00:04:36,524
to choose good positions.

78
00:04:36,524 --> 00:04:40,127
To give you a perspective, this is the rooftop

79
00:04:40,127 --> 00:04:43,570
that we were fighting on in the video.

80
00:04:43,570 --> 00:04:46,272
This is a normal combat range, this blue square.

81
00:04:46,272 --> 00:04:49,315
I want to draw your attention to that little red truck,

82
00:04:49,315 --> 00:04:50,857
but I'm going to talk about it later.

83
00:04:53,497 --> 00:04:57,060
So at the start of Watch Dogs 1, the game designers,

84
00:04:57,060 --> 00:05:00,523
the programmers, and the artists sat down and negotiated

85
00:05:00,523 --> 00:05:02,225
what is a cover, what should it look like.

86
00:05:02,225 --> 00:05:04,166
It's one meter wide to give room,

87
00:05:04,166 --> 00:05:06,188
and it's one meter high to 1.2 meters,

88
00:05:06,188 --> 00:05:09,711
just to give a little bit of variance.

89
00:05:09,711 --> 00:05:11,472
And it has to be artistically very,

90
00:05:11,472 --> 00:05:14,595
or visually very identifiable as a cover,

91
00:05:14,595 --> 00:05:16,477
so that the player can say, hey,

92
00:05:16,477 --> 00:05:17,838
I can protect myself there.

93
00:05:19,006 --> 00:05:24,148
A normal cover you can shoot over or you can shoot to either side from when you're in cover behind it.

94
00:05:24,148 --> 00:05:28,751
There's also high cover which is 1.8 meters high. You can't shoot over this.

95
00:05:28,751 --> 00:05:31,713
There's a dead zone in between the two

96
00:05:31,713 --> 00:05:36,155
again to make sure they're recognizable and if you look at the image

97
00:05:36,155 --> 00:05:41,958
it looks like the high cover looks like just two covers stacked on top. It gives a further clue of what kind of cover it is.

98
00:05:44,225 --> 00:05:47,006
This is the covers in the map, just drawn

99
00:05:47,006 --> 00:05:47,947
with the debug display.

100
00:05:47,947 --> 00:05:50,028
You can see there's two different colors.

101
00:05:50,028 --> 00:05:51,748
The pink covers are just normal covers.

102
00:05:51,748 --> 00:05:55,590
The purple covers are what we call player-only covers.

103
00:05:55,590 --> 00:05:58,432
These are not really good covers,

104
00:05:58,432 --> 00:06:00,493
but they still exist for the benefit of the player.

105
00:06:00,493 --> 00:06:01,853
They might be unreachable.

106
00:06:01,853 --> 00:06:04,214
They might not provide any protection.

107
00:06:04,214 --> 00:06:07,096
To give you an example, on the right.

108
00:06:08,272 --> 00:06:10,973
solid metal sheet that's a perfect cover.

109
00:06:10,973 --> 00:06:13,013
So the agent would go there.

110
00:06:13,013 --> 00:06:15,514
On the left, it's an open railing.

111
00:06:15,514 --> 00:06:17,795
It would look really dumb if the agent went there.

112
00:06:17,795 --> 00:06:20,395
But the player has an ability to stay in cover

113
00:06:20,395 --> 00:06:23,236
and move along a wall or move along a railing.

114
00:06:23,236 --> 00:06:24,676
And so we need to support that

115
00:06:24,676 --> 00:06:26,637
and have all these covers everywhere

116
00:06:26,637 --> 00:06:30,378
for the benefit of the player.

117
00:06:30,378 --> 00:06:31,298
So as production went on

118
00:06:31,298 --> 00:06:33,958
and we started making more interiors

119
00:06:33,958 --> 00:06:35,799
and we need to make furniture inside,

120
00:06:36,580 --> 00:06:40,321
Desks, a desk that's one meter high is a bit high,

121
00:06:40,321 --> 00:06:42,141
and so they had to negotiate a low cover.

122
00:06:42,141 --> 00:06:45,002
And so we squished down the animation a little bit,

123
00:06:45,002 --> 00:06:47,862
and you can see examples in the park bench

124
00:06:47,862 --> 00:06:49,043
and the front of the car.

125
00:06:49,043 --> 00:06:54,624
So there's three reasons why an agent

126
00:06:54,624 --> 00:06:56,324
might want to find a cover.

127
00:06:56,324 --> 00:06:59,205
The first is that combat has just started,

128
00:06:59,205 --> 00:07:01,405
bullets are flying everywhere,

129
00:07:01,405 --> 00:07:02,825
and they need to dive into cover really quickly.

130
00:07:02,825 --> 00:07:03,866
We call that first cover.

131
00:07:03,866 --> 00:07:05,666
Now they're in cover.

132
00:07:06,305 --> 00:07:07,806
and they need to shoot at the target.

133
00:07:07,806 --> 00:07:11,108
And they shoot a few times, and then they

134
00:07:11,108 --> 00:07:14,430
want to move along so they pop out somewhere else,

135
00:07:14,430 --> 00:07:16,172
and the player doesn't get a beat on them.

136
00:07:16,172 --> 00:07:17,573
That's called neighboring cover.

137
00:07:17,573 --> 00:07:21,275
The third, second cover, is you're

138
00:07:21,275 --> 00:07:24,057
leaving your cover to find a better cover.

139
00:07:24,057 --> 00:07:29,121
Either it's flanking the target, provides better protection,

140
00:07:29,121 --> 00:07:31,362
or the range to the target is better.

141
00:07:34,368 --> 00:07:36,610
This is the target, this is the agent.

142
00:07:36,610 --> 00:07:40,653
There's three criteria which the agents use

143
00:07:40,653 --> 00:07:42,614
to evaluate what a good cover is.

144
00:07:42,614 --> 00:07:45,516
The first is distance to the target.

145
00:07:45,516 --> 00:07:47,958
So if you have a pistol, you wanna be very close.

146
00:07:47,958 --> 00:07:50,140
It's usually based on the weapon.

147
00:07:50,140 --> 00:07:51,101
You wanna be very close.

148
00:07:51,101 --> 00:07:53,743
If you have a rifle or even a sniper rifle,

149
00:07:53,743 --> 00:07:57,466
you wanna distance this much further away.

150
00:07:57,466 --> 00:08:01,869
The second.

151
00:08:02,825 --> 00:08:05,606
is how far the agent wants to move to get to this cover.

152
00:08:05,606 --> 00:08:08,808
You don't want to run across the battlefield

153
00:08:08,808 --> 00:08:10,448
to find your second cover.

154
00:08:10,448 --> 00:08:11,569
You want to go from cover to cover.

155
00:08:11,569 --> 00:08:14,330
But also, you don't want to find a cover too close to you.

156
00:08:14,330 --> 00:08:16,451
If you're going to leave cover and move somewhere,

157
00:08:16,451 --> 00:08:19,572
you want to at least move like seven meters or something.

158
00:08:19,572 --> 00:08:23,774
The third criteria is how much it protects you.

159
00:08:23,774 --> 00:08:27,535
So the ideal cover is perfectly flat, 90 degree angle

160
00:08:27,535 --> 00:08:28,236
to your target.

161
00:08:28,980 --> 00:08:33,263
As you start twisting the cover, you start exposing more of your back to being shot.

162
00:08:33,263 --> 00:08:38,265
There's more of a, more percentage of your body that's available to be shot.

163
00:08:38,265 --> 00:08:44,648
The fourth, it's not really a criteria, it's like more like a condition,

164
00:08:44,648 --> 00:08:46,369
is a line of sight on the target.

165
00:08:46,369 --> 00:08:49,411
And the line of sight is not tested from the agent itself, but from the cover.

166
00:08:49,411 --> 00:08:53,793
There's six positions of which you can fire from.

167
00:08:53,793 --> 00:08:55,574
He's firing from the upper right position.

168
00:08:56,599 --> 00:08:58,600
So the cover's to his left,

169
00:08:58,600 --> 00:09:00,181
and he's actually stepped out of the cover

170
00:09:00,181 --> 00:09:04,184
and is now firing to the right.

171
00:09:04,184 --> 00:09:05,685
Each of these positions are tested

172
00:09:05,685 --> 00:09:09,007
towards the known position of the target.

173
00:09:09,007 --> 00:09:12,249
You can see three of them have good fields of fire,

174
00:09:12,249 --> 00:09:14,131
and the other three are blocked.

175
00:09:14,131 --> 00:09:16,212
The top one, the middle one, is a blind fire.

176
00:09:19,289 --> 00:09:20,910
So then we put this all together.

177
00:09:20,910 --> 00:09:24,931
We take our three types of searches and our criteria.

178
00:09:24,931 --> 00:09:25,472
We make a table.

179
00:09:25,472 --> 00:09:28,453
And we apply weights to these criteria.

180
00:09:28,453 --> 00:09:31,394
So some are more important in certain searches than others.

181
00:09:31,394 --> 00:09:33,795
When you're looking for your first cover,

182
00:09:33,795 --> 00:09:36,776
the most important thing is it's nearby to you.

183
00:09:36,776 --> 00:09:38,057
You just want to get into cover.

184
00:09:38,057 --> 00:09:40,798
It doesn't matter if you have line of sight or not.

185
00:09:40,798 --> 00:09:41,658
Just protect yourself.

186
00:09:43,073 --> 00:09:44,635
Then you want to move.

187
00:09:44,635 --> 00:09:47,257
Becomes more important as you're moving

188
00:09:47,257 --> 00:09:49,338
to be at your ideal weapon range.

189
00:09:49,338 --> 00:09:51,080
So that becomes a high priority.

190
00:09:51,080 --> 00:09:53,562
And you need a line of sight now, right?

191
00:09:53,562 --> 00:09:54,903
If you're going to move somewhere,

192
00:09:54,903 --> 00:09:58,546
you need to be able to fire on the target.

193
00:09:58,546 --> 00:10:00,607
If this, let's say the neighboring cover failed,

194
00:10:00,607 --> 00:10:04,170
because it could be possible that you don't find

195
00:10:04,170 --> 00:10:06,472
a line of sight where you are, you'd

196
00:10:06,472 --> 00:10:07,293
switch to a second cover.

197
00:10:07,293 --> 00:10:09,515
You're now going to leave where you are and go somewhere else.

198
00:10:10,799 --> 00:10:12,541
The distance to target is important,

199
00:10:12,541 --> 00:10:13,802
the line of sight is important.

200
00:10:13,802 --> 00:10:15,324
It also becomes more important,

201
00:10:15,324 --> 00:10:18,547
not like super important, just medium,

202
00:10:18,547 --> 00:10:20,149
that the cover provides a better protection

203
00:10:20,149 --> 00:10:23,853
than where you are now.

204
00:10:23,853 --> 00:10:26,516
Again, the top view of the roof.

205
00:10:26,516 --> 00:10:29,920
The target and this is the agent.

206
00:10:30,721 --> 00:10:32,462
This is what we call the donut.

207
00:10:32,462 --> 00:10:35,224
It's the distance to target.

208
00:10:35,224 --> 00:10:38,506
So he wants to find a cover somewhere inside this donut,

209
00:10:38,506 --> 00:10:41,108
ideally to the middle ring of the donut.

210
00:10:41,108 --> 00:10:47,412
This is the distance to agent.

211
00:10:47,412 --> 00:10:48,152
Note that there's no hole.

212
00:10:48,152 --> 00:10:49,794
This is a first cover search.

213
00:10:49,794 --> 00:10:50,714
There's no hole.

214
00:10:50,714 --> 00:10:54,076
So for first cover, there's no cover too close.

215
00:10:54,076 --> 00:10:55,817
You just want to find the closest cover.

216
00:10:55,817 --> 00:10:59,020
And then you try and overlap them based on the weights.

217
00:11:01,357 --> 00:11:03,698
This is an exclusion zone.

218
00:11:03,698 --> 00:11:05,579
You don't want to get close to the target.

219
00:11:05,579 --> 00:11:08,020
So any covers that are too close, you just cut right away.

220
00:11:08,020 --> 00:11:10,622
There's actually a special behavior,

221
00:11:10,622 --> 00:11:14,444
which we call emergency shooting.

222
00:11:14,444 --> 00:11:17,826
When the agent gets into this circle that's too close,

223
00:11:17,826 --> 00:11:20,368
they just stop what they're doing, pull out their gun,

224
00:11:20,368 --> 00:11:22,989
and just empty their clip in a kind of like last stand.

225
00:11:22,989 --> 00:11:26,191
Either target's gonna die, or they're gonna die.

226
00:11:26,191 --> 00:11:27,352
Because they're just too close.

227
00:11:29,662 --> 00:11:34,726
So if we zoom in a bit, he started at the yellow circle,

228
00:11:34,726 --> 00:11:36,847
and he found a cover very close to him

229
00:11:36,847 --> 00:11:38,909
that has a good line of sight,

230
00:11:38,909 --> 00:11:41,871
but each of these covers could have been equally good.

231
00:11:41,871 --> 00:11:45,874
Just the weighting was slightly different for the red one.

232
00:11:45,874 --> 00:11:46,855
That's the one they chose.

233
00:11:46,855 --> 00:11:51,078
This is an example of neighboring cover search.

234
00:11:51,974 --> 00:11:56,598
the agents on the far left, far right,

235
00:11:56,598 --> 00:11:59,500
and they're just moving to the left.

236
00:11:59,500 --> 00:12:03,643
They're moving a certain amount of distance.

237
00:12:03,643 --> 00:12:05,784
If it had been longer,

238
00:12:05,784 --> 00:12:08,306
they would have only moved seven meters.

239
00:12:08,306 --> 00:12:09,647
And they, again, I don't, yes,

240
00:12:09,647 --> 00:12:10,928
that's the cover they chose.

241
00:12:10,928 --> 00:12:12,689
This one's a bit complicated.

242
00:12:12,689 --> 00:12:15,732
All the debug display is now shown,

243
00:12:15,732 --> 00:12:17,033
so there's lots of little circles everywhere,

244
00:12:17,033 --> 00:12:18,834
but you can kind of see that there's

245
00:12:18,834 --> 00:12:20,495
the blue circles, the yellow circles.

246
00:12:21,674 --> 00:12:23,395
This is an example of a second cover search.

247
00:12:23,395 --> 00:12:27,096
There's an additional element is these purple circles.

248
00:12:27,096 --> 00:12:30,257
These are other agents, and you want to stay away from them.

249
00:12:30,257 --> 00:12:32,578
So any covers that are within these purple circles,

250
00:12:32,578 --> 00:12:33,518
we just ignore.

251
00:12:33,518 --> 00:12:35,599
You don't want them to clump up and all get killed

252
00:12:35,599 --> 00:12:36,819
by an explosion or something.

253
00:12:36,819 --> 00:12:40,661
So the agent, what's special about this,

254
00:12:40,661 --> 00:12:43,962
is they're underneath, inside the building.

255
00:12:43,962 --> 00:12:45,623
They're not the same level.

256
00:12:46,365 --> 00:12:48,387
So they're finding a cover on the roof,

257
00:12:48,387 --> 00:12:50,609
and they're basing it on a distance,

258
00:12:50,609 --> 00:12:53,031
but this distance actually goes through the building.

259
00:12:53,031 --> 00:12:54,632
So when they come to move to the cover,

260
00:12:54,632 --> 00:12:56,014
it's actually quite a long path.

261
00:12:56,014 --> 00:12:57,735
They have to go outside the door of the building,

262
00:12:57,735 --> 00:12:59,236
go up the stairs, come around.

263
00:12:59,236 --> 00:13:02,139
The pathfinding is done last.

264
00:13:02,139 --> 00:13:04,221
It's the most expensive thing we do.

265
00:13:04,221 --> 00:13:06,482
The raycasts for the lion's eye are expensive,

266
00:13:06,482 --> 00:13:08,224
but the pathfinding is the real bottleneck.

267
00:13:09,828 --> 00:13:13,169
There's two outcomes because of this.

268
00:13:13,169 --> 00:13:16,751
The first is that they're exposing themselves

269
00:13:16,751 --> 00:13:18,812
for a much longer time, and they're

270
00:13:18,812 --> 00:13:22,253
going in front of the target, making themselves

271
00:13:22,253 --> 00:13:23,854
easier to shoot.

272
00:13:23,854 --> 00:13:27,435
In hindsight, maybe what I should have done is,

273
00:13:27,435 --> 00:13:30,176
this is hard to say, but chosen five covers

274
00:13:30,176 --> 00:13:32,838
and done a flood fill to those five covers.

275
00:13:32,838 --> 00:13:35,719
And then I could have just really chosen the closest one

276
00:13:35,719 --> 00:13:36,479
based on path.

277
00:13:37,636 --> 00:13:40,478
The second thing we tried to do during production

278
00:13:40,478 --> 00:13:44,280
is to arrange the path so that the points went

279
00:13:44,280 --> 00:13:47,022
from cover to cover, what we call shadow path,

280
00:13:47,022 --> 00:13:48,724
so that it's always behind cover.

281
00:13:48,724 --> 00:13:50,785
Because he's actually walking around

282
00:13:50,785 --> 00:13:51,786
in front of the cover here.

283
00:13:51,786 --> 00:13:54,928
But that would have required more pathfinding,

284
00:13:54,928 --> 00:13:56,629
and so we put that aside.

285
00:14:01,692 --> 00:14:03,794
So you spend months working on this.

286
00:14:03,794 --> 00:14:05,515
You're sitting at your desk, you're

287
00:14:05,515 --> 00:14:07,276
working with the game designer, you're

288
00:14:07,276 --> 00:14:10,619
working with the tester, animators.

289
00:14:10,619 --> 00:14:12,000
And then it goes out into production,

290
00:14:12,000 --> 00:14:17,464
and all the level designers start putting into their maps.

291
00:14:17,464 --> 00:14:20,606
And you're like, whoa, no, but all these things come up, right?

292
00:14:20,606 --> 00:14:23,829
Coming back to this little red truck in the corner,

293
00:14:23,829 --> 00:14:25,650
this is actually a scissor lift.

294
00:14:25,650 --> 00:14:29,373
So the player gets into it, can go up in the air.

295
00:14:30,522 --> 00:14:32,324
There he's up there.

296
00:14:32,324 --> 00:14:34,105
Takes out his sniper rifle,

297
00:14:34,105 --> 00:14:36,628
and just starts clearing the layout.

298
00:14:36,628 --> 00:14:38,329
There's not much the agents can do.

299
00:14:38,329 --> 00:14:39,070
They can't path to him.

300
00:14:39,070 --> 00:14:43,154
They can't shoot him because he's flying cover.

301
00:14:43,154 --> 00:14:45,636
We call this unreachable.

302
00:14:45,636 --> 00:14:46,617
I just like the scissor lift,

303
00:14:46,617 --> 00:14:48,559
but it happens on buildings,

304
00:14:48,559 --> 00:14:50,741
other areas that they don't have an access to

305
00:14:50,741 --> 00:14:51,721
that the player does.

306
00:14:53,259 --> 00:14:56,542
So we had to have a special unreachable mode

307
00:14:56,542 --> 00:14:58,705
that's kind of hidden, you don't really see it,

308
00:14:58,705 --> 00:15:00,727
and the agents start acting differently in this case.

309
00:15:00,727 --> 00:15:07,294
The first issue was that the layout is so large

310
00:15:07,294 --> 00:15:09,456
that they might not even be hearing the gunshot

311
00:15:09,456 --> 00:15:10,397
from the sniper rifle.

312
00:15:10,397 --> 00:15:12,759
However, if the player misses,

313
00:15:12,759 --> 00:15:14,841
all those bullet misses are nearby them.

314
00:15:16,027 --> 00:15:18,108
And so if there's two or more bullet misses,

315
00:15:18,108 --> 00:15:20,309
they go into combat, and if someone dies,

316
00:15:20,309 --> 00:15:21,289
they go into combat too.

317
00:15:21,289 --> 00:15:24,671
And the first thing they do in combat is go into cover.

318
00:15:24,671 --> 00:15:26,752
This now protects them from this sniper rifle.

319
00:15:26,752 --> 00:15:29,073
Even if they don't necessarily know

320
00:15:29,073 --> 00:15:30,093
exactly where it's coming from.

321
00:15:30,093 --> 00:15:33,675
The second thing we did is give everyone grenades.

322
00:15:33,675 --> 00:15:36,156
It's a bit brute force, but the grenades

323
00:15:36,156 --> 00:15:38,917
can be thrown in an arc, reach areas that they can't

324
00:15:38,917 --> 00:15:41,198
because there's no nav mesh,

325
00:15:41,198 --> 00:15:42,799
and they disable the scissor lift.

326
00:15:45,220 --> 00:15:48,101
When the agents are far from the player,

327
00:15:48,101 --> 00:15:49,662
and now this is very, most of the things

328
00:15:49,662 --> 00:15:51,403
I've been talking about have been generic target

329
00:15:51,403 --> 00:15:53,023
because the agents can fight each other,

330
00:15:53,023 --> 00:15:54,824
but this is very player specific.

331
00:15:54,824 --> 00:15:57,805
If the player is actively aiming at an agent,

332
00:15:57,805 --> 00:15:59,726
is unreachable, and is far away,

333
00:16:00,466 --> 00:16:01,587
they stay in their cover.

334
00:16:01,587 --> 00:16:03,229
They won't try, if they're out of cover,

335
00:16:03,229 --> 00:16:05,331
they'll go to cover, they won't try and shoot,

336
00:16:05,331 --> 00:16:06,352
they won't try and change cover,

337
00:16:06,352 --> 00:16:08,934
they'll just stay there while they're being aimed at

338
00:16:08,934 --> 00:16:12,017
to kind of maximize their survivability.

339
00:16:12,017 --> 00:16:15,360
This mitigates that kind of overpowered

340
00:16:15,360 --> 00:16:17,242
clearing the level with a sniper rifle.

341
00:16:17,242 --> 00:16:20,605
Due to the large size of the layout,

342
00:16:21,620 --> 00:16:23,901
When you're far from a combat,

343
00:16:23,901 --> 00:16:26,682
the first thing you do is move towards the combat.

344
00:16:26,682 --> 00:16:27,643
Once you're in 30 meters,

345
00:16:27,643 --> 00:16:30,044
you start doing the normal cover search,

346
00:16:30,044 --> 00:16:31,424
that kind of thing.

347
00:16:31,424 --> 00:16:33,725
But this creates a behavior where the agents

348
00:16:33,725 --> 00:16:36,807
who are far away just move directly towards the player,

349
00:16:36,807 --> 00:16:38,308
right, and makes them very easy to shoot.

350
00:16:38,859 --> 00:16:40,860
So again, in this unreachable behavior,

351
00:16:40,860 --> 00:16:42,942
they don't move directly towards the combat,

352
00:16:42,942 --> 00:16:46,444
they specially find a cover around the player

353
00:16:46,444 --> 00:16:48,086
and move towards that cover instead.

354
00:16:48,086 --> 00:16:50,588
That creates more of a lateral movement

355
00:16:50,588 --> 00:16:52,689
where they're moving across the player's vision

356
00:16:52,689 --> 00:16:54,591
instead of directly towards them.

357
00:16:54,591 --> 00:17:03,278
This is another example of a layout in the city.

358
00:17:03,278 --> 00:17:05,720
I think it's called The Hacker.

359
00:17:07,662 --> 00:17:10,363
There's a number of agents of a particular faction,

360
00:17:10,363 --> 00:17:12,084
let's say FBI.

361
00:17:12,084 --> 00:17:14,645
They're protecting a special target,

362
00:17:14,645 --> 00:17:17,306
which is a star in the house.

363
00:17:17,306 --> 00:17:19,947
The layout is surrounded by walls.

364
00:17:19,947 --> 00:17:23,129
These are the entrances, either gates or the one on the left

365
00:17:23,129 --> 00:17:24,029
is just an opening.

366
00:17:24,029 --> 00:17:28,591
So the player goes in and they start to combat.

367
00:17:28,591 --> 00:17:29,491
He gets seen.

368
00:17:29,491 --> 00:17:30,612
Everyone starts shooting.

369
00:17:31,465 --> 00:17:34,468
They all start doing lots of pathfinding requests to find a cover,

370
00:17:34,468 --> 00:17:38,071
to find a second cover to move towards the player, that kind of thing.

371
00:17:38,071 --> 00:17:41,094
But the layout also has a large number of civilians in it.

372
00:17:41,094 --> 00:17:43,556
Remember I mentioned that there's a limited number of agents

373
00:17:43,556 --> 00:17:44,757
and a large number of civilians?

374
00:17:44,757 --> 00:17:48,321
All of these civilians all start pathfinding,

375
00:17:48,321 --> 00:17:49,562
I'm not sure you can see it well,

376
00:17:49,562 --> 00:17:51,443
they all start pathfinding at the same time.

377
00:17:52,651 --> 00:17:54,412
This creates a huge pressure on the pathfinder,

378
00:17:54,412 --> 00:17:56,472
and now there's a backlog of everyone in the game

379
00:17:56,472 --> 00:17:57,953
trying to pathfind at the same time.

380
00:17:57,953 --> 00:18:02,294
Ultimately, it's good to get the civilians out of the way.

381
00:18:02,294 --> 00:18:05,155
They leave, all the resources are freed up for the combat.

382
00:18:05,155 --> 00:18:08,896
So the way we handled this in the first step

383
00:18:08,896 --> 00:18:12,978
was that agents had priority in pathfinding over civilians,

384
00:18:12,978 --> 00:18:17,639
because they were more actively engaged in the combat.

385
00:18:17,639 --> 00:18:18,960
And those who were closer,

386
00:18:18,960 --> 00:18:20,820
those characters that were closer to the player,

387
00:18:21,794 --> 00:18:24,616
would have their pathfinding go first.

388
00:18:24,616 --> 00:18:28,298
What this caused is that civilians who were far away

389
00:18:28,298 --> 00:18:30,020
never moved.

390
00:18:30,020 --> 00:18:32,021
You know, I used to think that like walking to a wall

391
00:18:32,021 --> 00:18:33,542
was the worst thing that could happen,

392
00:18:33,542 --> 00:18:34,603
that was like the typical AI bug,

393
00:18:34,603 --> 00:18:38,085
but I got all these bugs about people not even pathfinding,

394
00:18:38,085 --> 00:18:40,887
not even move, they would just freeze.

395
00:18:40,887 --> 00:18:45,210
And then agents who were far away also got stuck.

396
00:18:45,210 --> 00:18:46,571
So we had to modify the rule.

397
00:18:47,349 --> 00:18:50,671
And anybody who had a first pathfinding request,

398
00:18:50,671 --> 00:18:53,212
their first request would go before everybody else.

399
00:18:53,212 --> 00:18:57,514
So we still did on distance, but before the people were close,

400
00:18:57,514 --> 00:18:59,815
they got into cover, looked like they were doing combat,

401
00:18:59,815 --> 00:19:02,136
and then they waited for the civilians and the agents

402
00:19:02,136 --> 00:19:04,537
who were far away to get their first request.

403
00:19:04,537 --> 00:19:06,298
Civilians would clear out, the agents

404
00:19:06,298 --> 00:19:08,399
were far away would move in, and then combat

405
00:19:08,399 --> 00:19:09,940
could continue as normal.

406
00:19:09,940 --> 00:19:12,881
So let's come back to our layout.

407
00:19:12,881 --> 00:19:16,102
We have these agents protecting their VIP.

408
00:19:16,102 --> 00:19:17,003
Just so happened.

409
00:19:18,042 --> 00:19:21,244
that up here, there were some gangsters, Tezca.

410
00:19:21,244 --> 00:19:23,366
And they hear the gunshots too, right?

411
00:19:23,366 --> 00:19:26,488
And they become interested, and maybe they start shooting,

412
00:19:26,488 --> 00:19:31,332
because they can do faction on faction fighting, right?

413
00:19:31,332 --> 00:19:32,233
And then the police show up.

414
00:19:32,233 --> 00:19:35,356
So now you have like four parties involved in this combat,

415
00:19:35,356 --> 00:19:36,757
and they're all doing pathfinding.

416
00:19:36,757 --> 00:19:40,219
And maybe the player decides, okay, I'm gonna hide

417
00:19:40,219 --> 00:19:41,621
and kind of drop out of the combat.

418
00:19:42,425 --> 00:19:45,166
So the Tezcas, the orange guys, are shooting out

419
00:19:45,166 --> 00:19:47,506
with the blue police to the north.

420
00:19:47,506 --> 00:19:49,927
And the FBI are like, hey, we should go

421
00:19:49,927 --> 00:19:50,967
check out what's going on.

422
00:19:50,967 --> 00:19:55,048
So they have to leave their compound through a door

423
00:19:55,048 --> 00:19:56,429
to go up there.

424
00:19:56,429 --> 00:20:00,770
So they find a gate, they go through the gate,

425
00:20:00,770 --> 00:20:02,471
they go all around the compound.

426
00:20:02,471 --> 00:20:04,491
This compound is quite large.

427
00:20:04,491 --> 00:20:06,912
And if you're familiar with A-Star,

428
00:20:06,912 --> 00:20:10,293
you have to flood the interior of the compound

429
00:20:10,293 --> 00:20:12,133
before you can actually get out.

430
00:20:13,287 --> 00:20:16,311
This is what happened is we're hitting our max pathfinding

431
00:20:16,311 --> 00:20:17,012
cost.

432
00:20:17,012 --> 00:20:18,634
And then pathfinds were failing.

433
00:20:18,634 --> 00:20:20,876
And then it was just delaying everyone else

434
00:20:20,876 --> 00:20:22,899
because the failed one took longer.

435
00:20:22,899 --> 00:20:25,342
And again, everyone was just freezing up.

436
00:20:25,342 --> 00:20:30,568
So what I did is I asked the level designer to add a door.

437
00:20:30,568 --> 00:20:31,469
Seems so obvious.

438
00:20:34,708 --> 00:20:36,329
But the level designer was very unhappy with me

439
00:20:36,329 --> 00:20:40,111
because they'd spent a lot of time planning the defenses,

440
00:20:40,111 --> 00:20:42,793
placing people, and then I just asked for a backdoor

441
00:20:42,793 --> 00:20:44,354
and I said, it's really important,

442
00:20:44,354 --> 00:20:45,835
pathfinding is breaking.

443
00:20:45,835 --> 00:20:48,677
So I had to go back and think about why

444
00:20:48,677 --> 00:20:50,518
the pathfinding was hitting its costs.

445
00:20:51,188 --> 00:20:55,171
The first is that I was stopping them from going through the walls.

446
00:20:55,171 --> 00:20:58,032
It kind of looks dumb in combat

447
00:20:58,032 --> 00:21:00,754
when the agent's taking so much time to climb a wall,

448
00:21:00,754 --> 00:21:03,255
they're exposed, it takes longer.

449
00:21:03,255 --> 00:21:05,076
But I had to reduce the cost of the walls

450
00:21:05,076 --> 00:21:06,857
because if you had two walls,

451
00:21:06,857 --> 00:21:08,998
it would just stop the pathfinding right there.

452
00:21:08,998 --> 00:21:11,920
The second thing was the gates.

453
00:21:11,920 --> 00:21:15,662
The gates, especially these large gates,

454
00:21:15,662 --> 00:21:16,882
take a long time to open.

455
00:21:18,436 --> 00:21:21,817
But I still had to reduce the cost of gates, but I'll show you this.

456
00:21:21,817 --> 00:21:37,883
So you have to go to the control panel first.

457
00:21:47,230 --> 00:21:49,152
They have to go to the control panel first,

458
00:21:49,152 --> 00:21:52,755
wait for this gate to open, and then they could go through.

459
00:21:52,755 --> 00:21:55,297
And it leaves them standing there in the open,

460
00:21:55,297 --> 00:21:56,178
easy target to shoot.

461
00:21:56,178 --> 00:21:59,841
So what we did is we kind of cheat in combat.

462
00:21:59,841 --> 00:22:02,243
And the agents, they don't go to the control panel.

463
00:22:02,243 --> 00:22:04,725
They just kind of tell the gate to open.

464
00:22:16,298 --> 00:22:19,700
And this makes it much easier for him to use these gates,

465
00:22:19,700 --> 00:22:23,101
allows us to have a lower cost of the pathfinding,

466
00:22:23,101 --> 00:22:24,462
and that kind of resolved that.

467
00:22:24,462 --> 00:22:27,103
Unfortunately, I was not able to go back to the level designer

468
00:22:27,103 --> 00:22:29,984
and tell him that he could remove his gate that I added.

469
00:22:29,984 --> 00:22:37,587
This is another example.

470
00:22:37,587 --> 00:22:39,388
It's the cargo ship.

471
00:22:39,388 --> 00:22:41,809
There is one way onto the cargo ship.

472
00:22:41,809 --> 00:22:45,210
It's this long pathway.

473
00:22:47,062 --> 00:22:50,066
So we had this issue that the testers, the game designers,

474
00:22:50,066 --> 00:22:53,592
were complaining to me about the agents rushing the player.

475
00:22:53,592 --> 00:22:55,175
The agents would just run up to the player

476
00:22:55,175 --> 00:22:56,497
and try and shoot him.

477
00:22:56,497 --> 00:22:57,438
I was like, what?

478
00:22:57,438 --> 00:22:58,680
I didn't code anything like that.

479
00:22:58,680 --> 00:22:59,301
That doesn't exist.

480
00:23:35,904 --> 00:23:37,865
So it's not the most challenging behavior, right?

481
00:23:37,865 --> 00:23:40,928
Like, they're just running up to you and dying, right?

482
00:23:40,928 --> 00:23:43,569
But I really, I couldn't figure out what was going on.

483
00:23:43,569 --> 00:23:48,193
This is a side view of the same ramp.

484
00:23:48,193 --> 00:23:49,914
They're doing a second cover search.

485
00:23:49,914 --> 00:23:51,875
You can see all the circles.

486
00:23:51,875 --> 00:23:54,777
And the cover they're finding is right here at the bottom.

487
00:23:54,777 --> 00:23:59,060
It's a really good cover because it flanks the target.

488
00:24:04,323 --> 00:24:07,865
What was happening is the path was going right next to the player.

489
00:24:07,865 --> 00:24:12,107
And as I mentioned before, when you get close to the target,

490
00:24:12,107 --> 00:24:15,409
you stop what you're doing, and you just do this do or die last stand,

491
00:24:15,409 --> 00:24:17,350
shoot at the target.

492
00:24:17,350 --> 00:24:20,151
But it created this effect that they're running up to you

493
00:24:20,151 --> 00:24:22,212
and then just shooting at you.

494
00:24:22,212 --> 00:24:26,595
So to address this, we took three steps.

495
00:24:26,595 --> 00:24:30,857
The first was that any covers that are behind the target,

496
00:24:30,857 --> 00:24:33,518
like a 45-degree angle, we discard them.

497
00:24:34,285 --> 00:24:36,346
you're gonna have to cross the target

498
00:24:36,346 --> 00:24:38,628
to get there anyways, right?

499
00:24:38,628 --> 00:24:40,329
So don't take the risk.

500
00:24:40,329 --> 00:24:43,871
The second is to, if we do find a cover

501
00:24:43,871 --> 00:24:46,592
with a path that goes by the target,

502
00:24:46,592 --> 00:24:46,852
we just cut it.

503
00:24:46,852 --> 00:24:51,455
It's kind of wasteful, we've wasted that pathfinding,

504
00:24:51,455 --> 00:24:53,076
but we need to address the problem.

505
00:24:53,076 --> 00:24:57,358
The third thing we did was if

506
00:24:57,358 --> 00:25:01,820
two or more agents died next to each other,

507
00:25:01,820 --> 00:25:04,041
it was probably a choke point.

508
00:25:04,309 --> 00:25:06,931
and the player is probably shooting them and killing them.

509
00:25:06,931 --> 00:25:12,195
So we cut a hole in the nav mesh for a minute,

510
00:25:12,195 --> 00:25:15,797
patch it, and then no more agents can go down that rampway.

511
00:25:15,797 --> 00:25:20,661
This forces them to, they're seeing their friends die,

512
00:25:20,661 --> 00:25:23,122
they don't go, and it forces them to go somewhere else

513
00:25:23,122 --> 00:25:26,665
that might be more expensive or less optimal,

514
00:25:26,665 --> 00:25:28,827
but it changes the flow of the combat.

515
00:25:36,884 --> 00:25:40,245
So as we started realizing that we had these issues

516
00:25:40,245 --> 00:25:43,146
with approaches or entrances into layouts,

517
00:25:43,146 --> 00:25:45,667
we started going and looking at each of these layouts

518
00:25:45,667 --> 00:25:48,588
and seeing what we could do about it.

519
00:25:48,588 --> 00:25:50,989
So this is the same cargo ship.

520
00:25:50,989 --> 00:25:52,870
We started looking up the ramp,

521
00:25:52,870 --> 00:25:54,490
we looked at the side of the ramp,

522
00:25:54,490 --> 00:26:01,933
now we're looking down the ramp from the top.

523
00:26:01,933 --> 00:26:04,274
And we looked where could we add cover.

524
00:26:05,377 --> 00:26:12,382
that's on their side of the ramp that they could use.

525
00:26:12,382 --> 00:26:16,725
And so we asked the level designers to add cover here.

526
00:26:16,725 --> 00:26:19,787
It's more accessible and doesn't have

527
00:26:19,787 --> 00:26:21,228
to go next to the player.

528
00:26:21,228 --> 00:26:23,310
And then you can fire down the ramp.

529
00:26:23,310 --> 00:26:26,952
So I have a good idea.

530
00:26:26,952 --> 00:26:29,154
And you're looking at all these circles.

531
00:26:29,154 --> 00:26:30,975
But I have a good idea of the decisions

532
00:26:30,975 --> 00:26:32,436
that the AI are making, right?

533
00:26:33,136 --> 00:26:35,537
But the level designers and everybody else don't necessarily know.

534
00:26:35,537 --> 00:26:39,999
It's kind of a bit complex, you know, with all these weights and circles.

535
00:26:39,999 --> 00:26:44,760
It'd be nice if there was some, like in hindsight, if there was some sort of tool that drew green

536
00:26:44,760 --> 00:26:45,781
or red on the ground.

537
00:26:46,737 --> 00:26:48,939
And if it's green on the ground, that spot

538
00:26:48,939 --> 00:26:51,041
can be fired upon by several covers.

539
00:26:51,041 --> 00:26:55,865
But if it was red, maybe there's no covers, only one cover,

540
00:26:55,865 --> 00:26:57,347
that could fire upon that position.

541
00:26:57,347 --> 00:27:00,590
And that way, the level designers could just turn it on,

542
00:27:00,590 --> 00:27:03,292
look at their map, and say, hey, I have this entrance,

543
00:27:03,292 --> 00:27:05,154
but it's red, nobody can fire upon it.

544
00:27:05,154 --> 00:27:06,415
And then they could say, OK, maybe I'll

545
00:27:06,415 --> 00:27:08,336
add some more covers, and it would change it green.

546
00:27:13,103 --> 00:27:17,068
This is another example of an entrance.

547
00:27:17,068 --> 00:27:19,471
Again, it's home docks.

548
00:27:19,471 --> 00:27:22,194
It's just another way to get into the same layout.

549
00:27:22,194 --> 00:27:27,279
We asked them to add covers at the top of this balcony

550
00:27:27,279 --> 00:27:28,721
here, which they did.

551
00:27:28,721 --> 00:27:30,763
We're all happy.

552
00:27:30,763 --> 00:27:31,724
And we come back later.

553
00:27:33,107 --> 00:27:37,931
And someone has placed these blocks here, these crates,

554
00:27:37,931 --> 00:27:38,691
right in front of the cover.

555
00:27:38,691 --> 00:27:40,533
And if you can see from the red arrow,

556
00:27:40,533 --> 00:27:43,455
it actually blocks the line of sight

557
00:27:43,455 --> 00:27:45,677
from the agent to the target.

558
00:27:45,677 --> 00:27:47,899
So it's an ongoing process, right?

559
00:27:47,899 --> 00:27:49,981
So we're like, hey, add these covers.

560
00:27:51,875 --> 00:27:53,716
As I mentioned at the beginning,

561
00:27:53,716 --> 00:27:56,338
there's several pillars to the game, right?

562
00:27:56,338 --> 00:27:59,561
So navigation is also an important pillar, right?

563
00:27:59,561 --> 00:28:01,642
So the player has to be able to navigate up

564
00:28:01,642 --> 00:28:03,403
to get to this balcony pretty easily, right?

565
00:28:03,403 --> 00:28:05,845
So there's passes done.

566
00:28:05,845 --> 00:28:07,126
I'm doing my combat pass,

567
00:28:07,126 --> 00:28:08,767
but they're also doing their navigation pass.

568
00:28:08,767 --> 00:28:11,930
It just happened at the end, navigation won out.

569
00:28:11,930 --> 00:28:19,936
So to wrap it up,

570
00:28:19,936 --> 00:28:21,017
my advice is.

571
00:28:22,770 --> 00:28:26,733
Communicate to the team why the agents make the choices they do.

572
00:28:26,733 --> 00:28:30,636
As I said before, you're the expert on this.

573
00:28:30,636 --> 00:28:34,199
You understand all the logic and decision-making they're making.

574
00:28:34,199 --> 00:28:35,880
Broadcast it as much as possible.

575
00:28:35,880 --> 00:28:37,982
Even if you don't see it in the game,

576
00:28:37,982 --> 00:28:44,708
make sure everyone on your team act like a publicist for the AI.

577
00:28:47,275 --> 00:28:50,137
and then play the game, go through the levels,

578
00:28:50,137 --> 00:28:53,498
actually see how they're acting in the real world,

579
00:28:53,498 --> 00:28:55,339
you know, in the real layouts,

580
00:28:55,339 --> 00:28:57,740
and then maybe there's like small, quick improvements

581
00:28:57,740 --> 00:29:02,322
you can make that like change the way the game is played,

582
00:29:02,322 --> 00:29:07,524
right, like that unreachable or the rushing,

583
00:29:07,524 --> 00:29:10,565
we're able to change those things.

584
00:29:10,565 --> 00:29:12,346
And so it's not really technical advice,

585
00:29:12,346 --> 00:29:13,887
but I think it is advice that will help you

586
00:29:13,887 --> 00:29:14,847
make better games.

587
00:29:17,701 --> 00:29:20,762
I don't know how much time we have for questions.

588
00:29:20,762 --> 00:29:23,083
About a minute, we can take maybe one or two.

589
00:29:23,083 --> 00:29:23,644
Tops, short ones.

590
00:29:23,644 --> 00:29:25,785
Yeah, if you could use the microphones, folks.

591
00:29:25,785 --> 00:29:26,025
Thank you.

592
00:29:26,025 --> 00:29:26,465
What's your name?

593
00:29:26,465 --> 00:29:26,605
Neil.

594
00:29:26,605 --> 00:29:31,527
Did you guys consider using a hierarchical pathfinder at all

595
00:29:31,527 --> 00:29:37,070
in order to try and mitigate those large-scale problems?

596
00:29:37,070 --> 00:29:38,390
You could easily...

597
00:29:39,157 --> 00:29:40,497
That is such an awesome question.

598
00:29:40,497 --> 00:29:43,638
We have a hierarchical pathfinder.

599
00:29:43,638 --> 00:29:48,379
It doesn't take into account the things that change states,

600
00:29:48,379 --> 00:29:51,180
the gates, things that can be breakable.

601
00:29:51,180 --> 00:29:53,661
So we're like, oh, we're so close.

602
00:29:53,661 --> 00:29:55,381
So we do do a hierarchical path.

603
00:29:55,381 --> 00:29:58,942
It does make sure that before wasting time on pathfinding.

604
00:29:58,942 --> 00:30:00,823
But we couldn't use it in a more advanced way

605
00:30:00,823 --> 00:30:02,083
because those links weren't there.

606
00:30:04,614 --> 00:30:07,623
Did you have the vehicles interacting with the combats,

607
00:30:07,623 --> 00:30:09,408
and did they take that into account planning,

608
00:30:09,408 --> 00:30:12,678
or have vehicle-to-vehicle, like chase AI?

609
00:30:14,131 --> 00:30:14,931
Yes.

610
00:30:14,931 --> 00:30:19,714
I mean, there's a whole other vehicle combat

611
00:30:19,714 --> 00:30:22,595
when the player gets further away and is in a vehicle,

612
00:30:22,595 --> 00:30:26,217
they jump into their vehicle and they drive after them.

613
00:30:26,217 --> 00:30:28,278
The vehicles have cover on them.

614
00:30:28,278 --> 00:30:31,279
That actually makes it complex

615
00:30:31,279 --> 00:30:33,660
because the covers are moving, it's dynamic.

616
00:30:33,660 --> 00:30:36,902
But there is a whole vehicle section to the combat

617
00:30:36,902 --> 00:30:39,803
which I just didn't talk about today.

618
00:30:39,803 --> 00:30:40,384
Good stuff.

619
00:30:40,384 --> 00:30:41,224
All right, we are out of time.

